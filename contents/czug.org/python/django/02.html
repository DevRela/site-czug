<p>出处： <a href="http://www.javaeye.com/wiki/Django-book/736-%E7%BF%BB%E8%AF%91www.djangobook.com%E4%B9%8B%E7%AC%AC%E4%BA%8C%E7%AB%A0%EF%BC%9ADjango%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B">http://www.javaeye.com/wiki/Django-book/736-%E7%BF%BB%E8%AF%91www.djangobook.com%E4%B9%8B%E7%AC%AC%E4%BA%8C%E7%AB%A0%EF%BC%9ADjango%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B</a></p>
  
  <h1 style="margin:25px 0 10px 10px">翻译www.djangobook.com之第二章：Django快速上手 
    
  </h1>
  <div class="content">
    <span style="color: red"><strong>The Django Book 第2章：Django快速上手</strong></span><br /><br />revised by <a href="http://xin-wang.javaeye.com/" target="_blank">xin_wang</a><br /><br />谢天谢地，安装Django非常容易。因为Django可以运行在任何可以运行Python的环境中，所以可以以多种方式进行配置。<br />在本章我们将尝试覆盖几种常见的Django安装场景。<br /><br /><strong>安装Python</strong><br />Django是以100%纯Python代码写就，所以你需要安装Python，Django要求安装Python2.3或更高版本。<br />如果你使用Linux或者MacOSX，你可能已经安装了Python<br />在命令行或者终端下输入“python”，如果出现类似如下提示，表示Python已经安装好了：<br />Python 2.4.1 (#2, Mar 31 2005, 00:05:10)<br />[GCC 3.3 20030304 (Apple Computer, Inc. build 1666)] on darwin<br />Type "help", "copyright", "credits" or "license" for more information.<br />&gt;&gt;&gt;<br />否则，出现错误提示“command not found”<br />你可以到<a href="http://www.python.org/download/" target="_blank">http://www.python.org/download/</a>下载Python安装<br /><br /><strong>安装Django</strong><br />安装官方发布版本的Django<br />到<a href="http://www.djangoproject.com/download/" target="_blank">http://www.djangoproject.com/download/</a>下载tarball的Django-*.tar.gz<br /><pre name="code" class="java">tar xzvf Django-*.tar.gz
cd Django-*
sudo python setup.py install</pre><br />Windows下安装则是直接解压Django-*.tar.gz并运行python setup.py install<br />安装完以后，在Python交互环境下应该可以import django模块<br /><pre name="code" class="java">&gt;&gt;&gt; import django
&gt;&gt;&gt; django.VERSION
 (1, 0, 'official')</pre><br />Python交互环境是一个命令行程序，在命令行下运行“python”即可进入交互环境<br />在这本书里，我们将会演示一些Python代码例子，这些例子看起来像是在交互环境里面输入的。<br />Python交互环境的提示符是三个大于号(&gt;&gt;&gt;)<br /><br />从Subversion安装Django<br />如果你想安装Django最新代码或者你想向Django贡献代码，你应该从Django的Subversion repository安装<br />Subversion是一个与CVS类似的开源版本控制系统，Django团队使用它来管理Django代码的变化。<br />你可以随时使用Subversion客户端获取最新的Django源代码，或者更新你本机Subversion工作拷贝"local checkout"中的<br />Django代码来获得Django开发人员所作的最新修改和增强。<br />最新的Django开发代码称为“the trunk”<br />得到最新的Django trunk：<br />1，确认你安装了Subversion客户端，下载地址为<a href="http://subversion.tigris.org" target="_blank">http://subversion.tigris.org</a><br />Subverion的文档<a href="http://svnbook.redbean.com" target="_blank">http://svnbook.redbean.com</a><br />2，运行如下命令得到trunk“svn co <a href="http://code.djangoproject.com/svn/django/trunk" target="_blank">http://code.djangoproject.com/svn/django/trunk</a> django_src”<br />3，符号链接django_src/django来让django在你的Python site-packages目录下，或者更新PYTHONPATH指定它<br />从Subversion安装不需要运行“python setup.py install”<br />Django trunk经常更新bug fixs和增加feature，你可能要频繁更新它<br />在django_src目录下运行“svn update”即可更新代码<br /><br /><strong>建立数据库</strong><br />Django仅有的先决条件就是安装Python，但是本书关注Django引以为傲的众多优点之一，开发支持数据库的Web站点<br />所以你需要安装一个数据库服务器来存储数据<br />如果你只是想浅尝辄止，可以跳过这一步直接开始一个项目，可是请相信我们：你最终还是会装一个数据库，因为本书的<br />所有例子都假设你已经拥有一个数据库<br />Django1.0支持5个数据库引擎：<br />PostgreSQL(<a href="http://www.postgresql.org/" target="_blank">http://www.postgresql.org/</a>)<br />SQLite 3(<a href="http://www.sqlite.org/" target="_blank">http://www.sqlite.org/</a>)<br />MySQL(<a href="http://www.mysql.com/" target="_blank">http://www.mysql.com/</a>)<br />Microsoft SQL Server(<a href="http://www.microsoft.com/sql/" target="_blank">http://www.microsoft.com/sql/</a>)<br />Oracle(<a href="http://www.oracle.com/database/" target="_blank">http://www.oracle.com/database/</a>)<br />我们自己特别喜欢PostgreSQL，所以我们最先提到它<br />尽管如此，所有的这些数据库都在Django上工作得都很好<br />SQLite也值得特别注意，它是一个非常简单的数据库引擎，不需要任何服务器安装和配置<br />如果你只是想玩玩Django的话，SQLite是最容易安装的<br /><br />使用PostgrSQL来和Django工作<br />如果你用PostgreSQL，你需要psycopg包，从<a href="http://initd.org/projects/psycopg1" target="_blank">http://initd.org/projects/psycopg1</a>可以得到<br />确认你使用版本1而不是版本2，2还是beta版<br />如果你在Windows上使用PostgreSQL，可以从如下地址下载已经编译好的二进制psycopg<br /><a href="http://stickpeople.com/projects/python/win-psycopg/" target="_blank">http://stickpeople.com/projects/python/win-psycopg/</a><br /><br />使用SQLite 3来和Django工作<br />你需要SQLite 3而不是SQLite 2，从<a href="http://initd.org/tracker/pysqlite" target="_blank">http://initd.org/tracker/pysqlite</a>下载pysqlite<br />确认下载pysqlite的版本为2.0.3及以上<br /><br />使用MySQL来和Django工作<br />Django需要MySQL版本4.0及以上，3.x版本不支持事务、嵌套存储过程以及其它标准SQL语句<br />你也需要MySQLdb包，下载地址<a href="http://sourceforge.net/projects/mysql-python" target="_blank">http://sourceforge.net/projects/mysql-python</a><br /><br />使用MSSQL来和Django工作<br /><br />使用Oracle来和Django工作<br /><br />不使用数据库来和Django工作<br />就像刚刚提到的，Django实际上不需要数据库<br />如果你仅仅希望Django来提供动态网页而不触及数据库也是可以的<br />和Django绑定的一些额外的工具需要数据库，如果你选择不使用数据库，你会错失那些特性<br /><br /><strong>开始一个项目</strong><br />如果这是你第一次使用Django，你必须注意一些初始化过程<br />运行“django-admin.py startproject mysite”将会在你的当前目录下创建一个mysite目录<br />注意，如果你使用setup.py安装Django，django-admin.py应该在你的PATH系统变量下<br />如果不在PATH里面，你可以从site-packages/django/bin找到它<br />考虑符号链接它到你的PATH里面，例如/usr/local/bin<br />一个项目就是一个Django实例的设置的集合，包括数据库配置、Django的专有设置以及应用程序专有设置<br />让我们看看startproject创建了什么：<br />/mysite/<br /> __init__.py<br /> manage.py<br /> settings.py<br /> urls.py<br />这些文件的说明如下：<br />manage.py<br /> 一个命令行工具，可以让你以多种方式与Django项目交互<br />setting.py<br /> Django项目的配置<br />urls.py<br /> Django项目的URL定义<br />如果你使用PHP，你可能习惯于将代码放在Web服务器的document root下，如/var/www<br />使用Django的话不要这样做，将Python代码放在document root下不是一个好主意<br />因为这样的话人们可能从Web看到你的代码，这并不安全<br />把你的代码放在document root以外的目录，如/home/mycode<br /><br /><strong>开发用服务器</strong><br />切换到mysite目录，运行“python manage.py runserver”，你将看到如下信息<br />Validating models...<br />0 errors found.<br />Django version 1.0, using settings 'mysite.settings'<br />Development server is running at <a href="http://127.0.0.1:8000/" target="_blank">http://127.0.0.1:8000/</a><br />Quit the server with CONTROL-C.<br />这样你就启动了Django开发用服务器，这是一个包含在Django中的开发阶段使用的轻量级Web服务器<br />我们在Django中包含了这个服务器是为了快速开发，这样在产品投入应用之前，就可以不用处理生产环境中<br />web server的配置工作了。<br />这个服务器查看你的代码，如果有改动，它自动reload，让你不需重启快速修改你的项目<br />虽然这个开发用服务器对于开发来说简直棒透了，还是请克制一下把它用在任何形式的生产环境中的冲动。<br />这个服务器一次只能可靠地处理一个请求，而且根本没有经过任何安全性的检验<br />如果你的站点需要上线，请参考第21章的关于部署Django程序的介绍<br />默认情况下runserver命令启动服务器的端口为8000，只监听本地连接<br />如果你希望改变端口，增加一个命令行参数即可<br />python manage.py runserver 8080<br />你也可以改变服务器监听的IP地址，当你同其它开发者分享一个开发站点时很有用<br />python manage.py runserver 0.0.0.0:8080<br />上面的命令使得Django监听任何网络接口，这样的话就允许其它计算机连接该服务器<br />试着访问<a href="http://127.0.0.1:8000/" target="_blank">http://127.0.0.1:8000/</a>，你将会看到“Welcome to Django”的页面<br /><br /><strong>下一步是什么？</strong><br />我们已经安装好一切的东西并且让服务器运行了，让我们写一点基本代码来展示怎样使用Django提供动态页面
  </div>

  

  
