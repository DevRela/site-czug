---
created: 
creator: Benky
description: ''
title: 第七章 使用基础控件
---
<div lang="en" id="content" dir="ltr"><span id="top" class="anchor"/>
<span id="line-1" class="anchor"/><p class="line867"/><div class="table-of-contents"><p class="table-of-contents-heading">目录</p><ol><li><a href="#head-602eb45f8f2611107f814da8602da560a4d6f5a8">使用基本的控件工作</a><ol><li><a href="#head-f26587856def7d45740153073161497015dd643c">显示文本</a></li><li><a href="#head-fce8e2545979a96005dd28a88bb749fdbafebd00">使用按钮工作</a></li><li><a href="#head-3f1d538dfddd8e8754ff057470440427e37cdca8">输入并显示数字</a></li><li><a href="#head-59e5de8af5d2877c5b5715186d90e98cc10e73f9">给用户以选择</a></li><li><a href="#head-ab2b1d5d75346a4955d514e8e6f501f83a261553">本章小结</a></li></ol></li></ol></div> <span id="line-2" class="anchor"/><span id="line-3" class="anchor"/><p class="line867">
</p><h1 id="head-602eb45f8f2611107f814da8602da560a4d6f5a8">1. 使用基本的控件工作</h1>
<span id="line-4" class="anchor"/><span id="line-5" class="anchor"/><p class="line867"><tt>wxPython</tt>工具包提供了多种不同的窗口部件，包括了本章所提到的基本控件。我们涉及静态文本、可编辑的文本、按钮、微调、滑块、复选框、单选按钮、选择器、列表框、组合框和标尺。对于每种窗口部件，我们将提供一个关于如何使用它的简短例子，并附上相关的<tt>wxPython</tt> <tt>API</tt>的说明。 <span id="line-6" class="anchor"/><span id="line-7" class="anchor"/><span id="line-8" class="anchor"/></p><p class="line867">
</p><h2 id="head-f26587856def7d45740153073161497015dd643c">1.1. 显示文本</h2>
<span id="line-9" class="anchor"/><span id="line-10" class="anchor"/><span id="line-11" class="anchor"/><p class="line874">这一节以在屏幕上显示文本的例子作为开始，包括用作标签的静态文本域，有样式和无样式的都使用了。你可以创建用于用户输入的单行和多行文本域。另外，我们将讨论如何选择文本的字体。 <span id="line-12" class="anchor"/><span id="line-13" class="anchor"/><span id="line-14" class="anchor"/></p><p class="line867">
</p><h3 id="head-303221e1275744b64f6ace314ea03729d61b7364">1.1.1. 如何显示静态文本？</h3>
<span id="line-15" class="anchor"/><span id="line-16" class="anchor"/><span id="line-17" class="anchor"/><p class="line862">大概对于所有的<tt>UI</tt>工具来说，最基本的任务就是在屏幕上绘制纯文本。在<tt>wxPython</tt>中，使用类<tt>wx.StaticText</tt>来完成。图7.1显示了这个静态文本控件。 <span id="line-18" class="anchor"/><span id="line-19" class="anchor"/><span id="line-20" class="anchor"/></p><p class="line867"><img title="attachment:w7.1.gif" src="/moin/WxPythonInAction/ChapterSeven?action=AttachFile&amp;do=get&amp;target=w7.1.gif" class="attachment"/> <span id="line-21" class="anchor"/><span id="line-22" class="anchor"/><span id="line-23" class="anchor"/></p><p
class="line862">在<tt>wx.StaticText</tt>中，你能够改变文本的对齐方式、字体和颜色。简单的静态文本控件可以包含多行文本，但是你不能处理多种字体或样式。处理多种字体或样式，要使用更精细的文本控件，如<tt>wx.html.HTMLWindow</tt>，它在第十六章中说明。为了在静态文本控件中显示多行文本，我们要包括其中有换行符的字符串，并使控件的大小足够显示所有的文本。有一个特点是你在图7.1中所不能看到的，那就是<tt>wx.StaticText</tt>窗口不会接受或响应鼠标事件。 <span id="line-24" class="anchor"/><span id="line-25" class="anchor"/><span id="line-26" class="anchor"/></p><p class="line867"><strong>如何显示静态文本</strong> <span id="line-27" class="anchor"/><span id="line-28" class="anchor"/></p><p class="line874">例子7.1显示了产生图7.1的代码。 <span id="line-29" class="anchor"/><span id="line-30"
class="anchor"/><span id="line-31" class="anchor"/></p><p class="line867"><strong>例7.1</strong>  <span id="line-32" class="anchor"/><strong>如何使用静态文本的一个基本例子</strong> <span id="line-33" class="anchor"/><span id="line-34" class="anchor"/><span id="line-35" class="anchor"/><span id="line-36" class="anchor"/><span id="line-37" class="anchor"/><span id="line-38" class="anchor"/><span id="line-39" class="anchor"/><span id="line-40" class="anchor"/><span id="line-41" class="anchor"/><span id="line-42" class="anchor"/><span id="line-43" class="anchor"/><span id="line-44" class="anchor"/><span id="line-45" class="anchor"/><span id="line-46" class="anchor"/><span id="line-47" class="anchor"/><span id="line-48" class="anchor"/><span id="line-49" class="anchor"/><span
id="line-50" class="anchor"/><span id="line-51" class="anchor"/><span id="line-52" class="anchor"/><span id="line-53" class="anchor"/><span id="line-54" class="anchor"/><span id="line-55" class="anchor"/><span id="line-56" class="anchor"/><span id="line-57" class="anchor"/><span id="line-58" class="anchor"/><span id="line-59" class="anchor"/><span id="line-60" class="anchor"/><span id="line-61" class="anchor"/><span id="line-62" class="anchor"/><span id="line-63" class="anchor"/><span id="line-64" class="anchor"/><span id="line-65" class="anchor"/><span id="line-66" class="anchor"/><span id="line-67" class="anchor"/><span id="line-68" class="anchor"/><span id="line-69" class="anchor"/><span id="line-70" class="anchor"/><span id="line-71" class="anchor"/><span id="line-72"
class="anchor"/><span id="line-73" class="anchor"/><span id="line-74" class="anchor"/><span id="line-75" class="anchor"/><span id="line-76" class="anchor"/><span id="line-77" class="anchor"/><span id="line-78" class="anchor"/><span id="line-79" class="anchor"/><span id="line-80" class="anchor"/><span id="line-81" class="anchor"/><span id="line-82" class="anchor"/><span id="line-83" class="anchor"/><span id="line-84" class="anchor"/><span id="line-85" class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
function isnumbered(obj) {
return obj.childNodes.length && obj.firstChild.childNodes.length && obj.firstChild.firstChild.className == 'LineNumber';
}
function nformat(num,chrs,add) {
var nlen = Math.max(0,chrs-(''+num).length), res = '';
while (nlen>0) { res += ' '; nlen-- }
return res+num+add;
}
function addnumber(did, nstart, nstep) {
var c = document.getElementById(did), l = c.firstChild, n = 1;
if (!isnumbered(c))
if (typeof nstart == 'undefined') nstart = 1;
if (typeof nstep  == 'undefined') nstep = 1;
n = nstart;
while (l != null) {
if (l.tagName == 'SPAN') {
var s = document.createElement('SPAN');
s.className = 'LineNumber'
s.appendChild(document.createTextNode(nformat(n,4,' ')));
n += nstep;
if (l.childNodes.length)
l.insertBefore(s, l.firstChild)
else
l.appendChild(s)
}
l = l.nextSibling;
}
return false;
}
function remnumber(did) {
var c = document.getElementById(did), l = c.firstChild;
if (isnumbered(c))
while (l != null) {
if (l.tagName == 'SPAN' && l.firstChild.className == 'LineNumber') l.removeChild(l.firstChild);
l = l.nextSibling;
}
return false;
}
function togglenumber(did, nstart, nstep) {
var c = document.getElementById(did);
if (isnumbered(c)) {
remnumber(did);
} else {
addnumber(did,nstart,nstep);
}
return false;
}
</script>

<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-26d5319878ab0237e7d09dcdf994c96a8f529c31_000\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-26d5319878ab0237e7d09dcdf994c96a8f529c31_000', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-26d5319878ab0237e7d09dcdf994c96a8f529c31_000" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="ResWord">import</span> <span class="ID">wx</span></span>
<span class="line"><span class="LineNumber">   2 </span></span>
<span class="line"><span class="LineNumber">   3 </span><span class="ResWord">class</span> <span class="ID">StaticTextFrame</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   4 </span>    <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   5 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">None</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">'Static Text Example'</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">   6 </span>                <span class="ID">size</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">400</span><span class="Operator">,</span> <span class="Number">300</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   7 </span>        <span class="ID">panel</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Panel</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   8 </span></span>
<span class="line"><span class="LineNumber">   9 </span><span class="Comment"># 这是一个基本的静态文本</span></span>
<span class="line"><span class="LineNumber">  10 </span><span class="Comment"/>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">StaticText</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">"This is an example of static text"</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  11 </span>                <span class="Operator">(</span><span class="Number">100</span><span class="Operator">,</span> <span class="Number">10</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  12 </span></span>
<span class="line"><span class="LineNumber">  13 </span><span class="Comment"># 指定了前景色和背景色的静态文本</span></span>
<span class="line"><span class="LineNumber">  14 </span><span class="Comment"/>        <span class="ID">rev</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">StaticText</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">"Static Text With Reversed Colors"</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  15 </span>                <span class="Operator">(</span><span class="Number">100</span><span class="Operator">,</span> <span class="Number">30</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  16 </span>        <span class="ID">rev</span><span class="Operator">.</span><span class="ID">SetForegroundColour</span><span class="Operator">(</span><span class="String">'white'</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  17 </span>        <span class="ID">rev</span><span class="Operator">.</span><span class="ID">SetBackgroundColour</span><span class="Operator">(</span><span class="String">'black'</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  18 </span></span>
<span class="line"><span class="LineNumber">  19 </span><span class="Comment"># 指定居中对齐的的静态文本</span></span>
<span class="line"><span class="LineNumber">  20 </span><span class="Comment"/>        <span class="ID">center</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">StaticText</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">"align center"</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">100</span><span class="Operator">,</span> <span
class="Number">50</span><span class="Operator">)</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  21 </span>                <span class="Operator">(</span><span class="Number">160</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">)</span><span class="Operator">,</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">ALIGN_CENTER</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  22 </span>        <span class="ID">center</span><span class="Operator">.</span><span class="ID">SetForegroundColour</span><span class="Operator">(</span><span class="String">'white'</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  23 </span>        <span class="ID">center</span><span class="Operator">.</span><span class="ID">SetBackgroundColour</span><span class="Operator">(</span><span class="String">'black'</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  24 </span></span>
<span class="line"><span class="LineNumber">  25 </span><span class="Comment"># 指定右对齐的静态文本</span></span>
<span class="line"><span class="LineNumber">  26 </span><span class="Comment"/>        <span class="ID">right</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">StaticText</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">"align right"</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">100</span><span class="Operator">,</span> <span
class="Number">70</span><span class="Operator">)</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  27 </span>                <span class="Operator">(</span><span class="Number">160</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">)</span><span class="Operator">,</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">ALIGN_RIGHT</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  28 </span>        <span class="ID">right</span><span class="Operator">.</span><span class="ID">SetForegroundColour</span><span class="Operator">(</span><span class="String">'white'</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  29 </span>        <span class="ID">right</span><span class="Operator">.</span><span class="ID">SetBackgroundColour</span><span class="Operator">(</span><span class="String">'black'</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  30 </span></span>
<span class="line"><span class="LineNumber">  31 </span><span class="Comment"># 指定新字体的静态文本</span></span>
<span class="line"><span class="LineNumber">  32 </span><span class="Comment"/>        <span class="ID">str</span> <span class="Operator">=</span> <span class="String">"You can also change the font."</span></span>
<span class="line"><span class="LineNumber">  33 </span>        <span class="ID">text</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">StaticText</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="ID">str</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">20</span><span class="Operator">,</span> <span class="Number">100</span><span
class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  34 </span>        <span class="ID">font</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Font</span><span class="Operator">(</span><span class="Number">18</span><span class="Operator">,</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">DECORATIVE</span><span class="Operator">,</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">ITALIC</span><span class="Operator">,</span> <span class="ID">wx</span><span class="Operator">.</span><span
class="ID">NORMAL</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  35 </span>        <span class="ID">text</span><span class="Operator">.</span><span class="ID">SetFont</span><span class="Operator">(</span><span class="ID">font</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  36 </span></span>
<span class="line"><span class="LineNumber">  37 </span><span class="Comment"># 显示多行文本</span></span>
<span class="line"><span class="LineNumber">  38 </span><span class="Comment"/>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">StaticText</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">"Your text\ncan be split\n"</span></span>
<span class="line"><span class="LineNumber">  39 </span>                <span class="String">"over multiple lines\n\neven blank ones"</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">20</span><span class="Operator">,</span><span class="Number">150</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  40 </span></span>
<span class="line"><span class="LineNumber">  41 </span><span class="Comment">#显示对齐的多行文本</span></span>
<span class="line"><span class="LineNumber">  42 </span><span class="Comment"/>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">StaticText</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">"Multi-line text\ncan also\n"</span></span>
<span class="line"><span class="LineNumber">  43 </span>                <span class="String">"be right aligned\n\neven with a blank"</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">220</span><span class="Operator">,</span><span class="Number">150</span><span class="Operator">)</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  44 </span>                <span class="ID">style</span><span class="Operator">=</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">ALIGN_RIGHT</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  45 </span></span>
<span class="line"><span class="LineNumber">  46 </span></span>
<span class="line"><span class="LineNumber">  47 </span><span class="ResWord">if</span> <span class="ID">__name__</span> <span class="Operator">==</span> <span class="String">'__main__'</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  48 </span>    <span class="ID">app</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">PySimpleApp</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  49 </span>    <span class="ID">frame</span> <span class="Operator">=</span> <span class="ID">StaticTextFrame</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  50 </span>    <span class="ID">frame</span><span class="Operator">.</span><span class="ID">Show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  51 </span>    <span class="ID">app</span><span class="Operator">.</span><span class="ID">MainLoop</span><span class="Operator">(</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-86" class="anchor"/><span id="line-87" class="anchor"/><p class="line867"><tt>wx.StaticText</tt>的构造函数和基本的<tt>wxWidget</tt>构造函数相同，如下所示： <span id="line-88" class="anchor"/><span id="line-89" class="anchor"/><span id="line-90" class="anchor"/><span id="line-91" class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-a604b6a59c5c325abeb507429db09714d94ea22c_001\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-a604b6a59c5c325abeb507429db09714d94ea22c_001', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-a604b6a59c5c325abeb507429db09714d94ea22c_001" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">StaticText</span><span class="Operator">(</span><span class="ID">parent</span><span class="Operator">,</span> <span class="ID">id</span><span class="Operator">,</span> <span class="ID">label</span><span class="Operator">,</span> <span class="ID">pos</span><span class="Operator">=</span><span class="ID">wx</span><span class="Operator">.</span><span
class="ID">DefaultPosition</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">   2 </span><span class="ID">size</span><span class="Operator">=</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">DefaultSize</span><span class="Operator">,</span> <span class="ID">style</span><span class="Operator">=</span><span class="Number">0</span><span class="Operator">,</span> <span class="ID">name</span><span class="Operator">=</span><span class="String">"staticText"</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-92" class="anchor"/><p class="line862">表7.1说明了这些参数——大多数的<tt>wxPython</tt>窗口部件都有相类似的参数。对于构造函数的参数的更详细的说明，请参见第2章的相关论述。 <span id="line-93" class="anchor"/><span id="line-94" class="anchor"/><span id="line-95" class="anchor"/></p><p class="line867"><strong>表7.1</strong>  <span id="line-96" class="anchor"/><strong><tt>wx.StaticText</tt>构造函数的参数</strong> <span id="line-97" class="anchor"/><span id="line-98" class="anchor"/></p><p class="line867"><tt>parent</tt>：父窗口部件。 <span id="line-99"
class="anchor"/><span id="line-100" class="anchor"/></p><p class="line867"><tt>id</tt>：标识符。使用-1可以自动创建一个唯一的标识。 <span id="line-101" class="anchor"/><span id="line-102" class="anchor"/></p><p class="line867"><tt>label</tt>：你想显示在静态控件中的文本。 <span id="line-103" class="anchor"/><span id="line-104" class="anchor"/></p><p class="line867"><tt>pos</tt>：一个<tt>wx.Point</tt>或一个<tt>Python</tt>元组，它是窗口部件的位置。 <span id="line-105" class="anchor"/><span id="line-106" class="anchor"/></p><p
class="line867"><tt>size</tt>：一个<tt>wx.Size</tt>或一个<tt>Python</tt>元组，它是窗口部件的尺寸。 <span id="line-107" class="anchor"/><span id="line-108" class="anchor"/></p><p class="line867"><tt>style</tt>：样式标记。 <span id="line-109" class="anchor"/><span id="line-110" class="anchor"/></p><p class="line867"><tt>name</tt>：对象的名字，用于查找的需要。 <span id="line-111" class="anchor"/><span id="line-112" class="anchor"/></p><p class="line874">接下来我们更详细地讨论样式标记。 <span id="line-113" class="anchor"/><span id="line-114" class="anchor"/><span id="line-115"
class="anchor"/></p><p class="line867"><strong>使用样式工作</strong> <span id="line-116" class="anchor"/><span id="line-117" class="anchor"/></p><p class="line862">所有在例7.1中静态文本实例所调用的方法都是属于基父类<tt>wx.Window</tt>的；<tt>wx.StaticText</tt>没有定义任何它自己的新方法。表7.2列出了一些专用于<tt>wx.StaticText</tt>的样式。 <span id="line-118" class="anchor"/><span id="line-119" class="anchor"/><span id="line-120" class="anchor"/></p><p class="line867"><strong>表7.2</strong> <span id="line-121" class="anchor"/><span id="line-122" class="anchor"/></p><p
class="line867"><tt>wx.ALIGN_CENTER</tt>：静态文本位于静态文本控件的中心。 <span id="line-123" class="anchor"/><span id="line-124" class="anchor"/></p><p class="line867"><tt>wx.ALIGN_LEFT</tt>：文本在窗口部件中左对齐。这是默认的样式。 <span id="line-125" class="anchor"/><span id="line-126" class="anchor"/></p><p class="line867"><tt>wx.ALIGN_RIGHT</tt>：文本在窗口部件中右对齐。 <span id="line-127" class="anchor"/><span id="line-128" class="anchor"/></p><p
class="line867"><tt>wx.ST_NO_AUTORESIZE</tt>：如果使用了这个样式，那么在使用了<tt>SetLabel()</tt>改变文本之后，静态文本控件不将自我调整尺寸。你应结合使用一个居中或右对齐的控件来保持对齐。 <span id="line-129" class="anchor"/><span id="line-130" class="anchor"/></p><p class="line867"><tt>wx.StaticText</tt>控件覆盖了<tt>SetLabel()</tt>，以便根据新的文本来调整自身，除非<tt>wx.ST_NO_AUTORESIZE</tt>样式被设置了。 <span id="line-131" class="anchor"/><span id="line-132" class="anchor"/></p><p
class="line862">当创建了一个居中或右对齐的单行静态文本时，你应该显式地在构造器中设置控件的尺寸。指定尺寸以防止<tt>wxPython</tt>自动调整该控件的尺寸。<tt>wxPython</tt>的默认尺寸是刚好包容了文本的矩形尺寸，因此对齐就没有什么必要。要在程序中动态地改变窗口部件中的文本，而不改变该窗口部件的尺寸，就要设置<tt>wx.ST_NO_AUTORESIZE</tt>样式。这样就防止了在文本被重置后，窗口部件自动调整尺寸到刚好包容了文本。如果静态文本是位于一个动态的布局中，那么改变它的尺寸可能导致屏幕上其它的窗口部件移动，这就对用户产生了干扰。 <span id="line-133" class="anchor"/><span id="line-134" class="anchor"/><span
id="line-135" class="anchor"/></p><p class="line867"><strong>其它显示文本的技术</strong> <span id="line-136" class="anchor"/><span id="line-137" class="anchor"/></p><p class="line862">还有其它的方法来显示文本。其中之一就是<tt>wx.lib.stattext.GenStaticText</tt>类，它是<tt>wx.StaticText</tt>的纯<tt>Python</tt>实现。它比标准C++版的跨平台性更好，并且它接受鼠标事件。当你想子类化或创建你自己的静态文本控件时，它是更可取的。 <span id="line-138" class="anchor"/><span id="line-139" class="anchor"/></p><p class="line862">你可以使用<tt>DrawText(text</tt>,
x,<tt>y)</tt>和<tt>DrawRotatedText(text</tt>, x, y, <tt>angle)</tt>方法直接绘制文本到你的设备上下文。后者是显示有一定角度的文本的最容易的方法，尽管<tt>GenStaticText</tt>的子类也能处理旋转问题。设备上下文在第6章中做了简短的说明，我们将在第12章中对它做更详细的说明。 <span id="line-140" class="anchor"/><span id="line-141" class="anchor"/><span id="line-142" class="anchor"/></p><p class="line867">
</p><h3 id="head-94c135c44078f5612d2c2a2e7eb90666493c9c5f">1.1.2. 如何让用户输入文本？</h3>
<span id="line-143" class="anchor"/><span id="line-144" class="anchor"/><span id="line-145" class="anchor"/><p class="line862">超越纯粹显示静态文本，我们将开始讨论当输入文本时的用户交互。<tt>wxPython</tt>的文本域窗口部件的类是<tt>wx.TextCtrl</tt>，它允许单行和多行文本输入。它也可以作为密码输入控件，掩饰所按下的按键。如果平台支持的话，<tt>wx.TextCtrl</tt>也提供丰富格式文本的显示，通过使用所定义和显示的多文本样式。图7.2显示了一个作为单行控件的<tt>wx.TextCtrl</tt>的样板。其中的密码输入框对密码进行了掩饰。 <span id="line-146" class="anchor"/><span id="line-147" class="anchor"/><span
id="line-148" class="anchor"/></p><p class="line867"><img title="attachment:w7.2.gif" src="/moin/WxPythonInAction/ChapterSeven?action=AttachFile&amp;do=get&amp;target=w7.2.gif" class="attachment"/> <span id="line-149" class="anchor"/><span id="line-150" class="anchor"/><span id="line-151" class="anchor"/></p><p class="line874">接下来，我们将演示如何创建文本，然后讨论文本控件的样式选项。 <span id="line-152" class="anchor"/><span id="line-153" class="anchor"/><span id="line-154" class="anchor"/></p><p class="line867"><strong>如何创建文本输入控件</strong> <span id="line-155"
class="anchor"/><span id="line-156" class="anchor"/></p><p class="line874">例子7.2显示了用于生成图7.2的代码 <span id="line-157" class="anchor"/><span id="line-158" class="anchor"/><span id="line-159" class="anchor"/></p><p class="line867"><strong>例7.2</strong>  <span id="line-160" class="anchor"/><strong><tt>wx.TextCtrl</tt>的单行例子</strong> <span id="line-161" class="anchor"/><span id="line-162" class="anchor"/><span id="line-163" class="anchor"/><span id="line-164" class="anchor"/><span id="line-165" class="anchor"/><span id="line-166" class="anchor"/><span id="line-167"
class="anchor"/><span id="line-168" class="anchor"/><span id="line-169" class="anchor"/><span id="line-170" class="anchor"/><span id="line-171" class="anchor"/><span id="line-172" class="anchor"/><span id="line-173" class="anchor"/><span id="line-174" class="anchor"/><span id="line-175" class="anchor"/><span id="line-176" class="anchor"/><span id="line-177" class="anchor"/><span id="line-178" class="anchor"/><span id="line-179" class="anchor"/><span id="line-180" class="anchor"/><span id="line-181" class="anchor"/><span id="line-182" class="anchor"/><span id="line-183"
class="anchor"/><span id="line-184" class="anchor"/><span id="line-185" class="anchor"/><span id="line-186" class="anchor"/><span id="line-187" class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-1c3f77b12e8aeb3e7560928c16fb6ba62eba098b_002\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-1c3f77b12e8aeb3e7560928c16fb6ba62eba098b_002', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-1c3f77b12e8aeb3e7560928c16fb6ba62eba098b_002" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="ResWord">import</span> <span class="ID">wx</span></span>
<span class="line"><span class="LineNumber">   2 </span></span>
<span class="line"><span class="LineNumber">   3 </span><span class="ResWord">class</span> <span class="ID">TextFrame</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   4 </span></span>
<span class="line"><span class="LineNumber">   5 </span>    <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   6 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">None</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">'Text Entry Example'</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">   7 </span>                <span class="ID">size</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">300</span><span class="Operator">,</span> <span class="Number">100</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   8 </span>        <span class="ID">panel</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Panel</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   9 </span>        <span class="ID">basicLabel</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">StaticText</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">"Basic Control:"</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  10 </span>        <span class="ID">basicText</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">TextCtrl</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">"I've entered some text!"</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  11 </span>                <span class="ID">size</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">175</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  12 </span>        <span class="ID">basicText</span><span class="Operator">.</span><span class="ID">SetInsertionPoint</span><span class="Operator">(</span><span class="Number">0</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  13 </span></span>
<span class="line"><span class="LineNumber">  14 </span>        <span class="ID">pwdLabel</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">StaticText</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">"Password:"</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  15 </span>        <span class="ID">pwdText</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">TextCtrl</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">"password"</span><span class="Operator">,</span> <span class="ID">size</span><span class="Operator">=</span><span class="Operator">(</span><span
class="Number">175</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">)</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  16 </span>                <span class="ID">style</span><span class="Operator">=</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">TE_PASSWORD</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  17 </span>        <span class="ID">sizer</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">FlexGridSizer</span><span class="Operator">(</span><span class="ID">cols</span><span class="Operator">=</span><span class="Number">2</span><span class="Operator">,</span> <span class="ID">hgap</span><span class="Operator">=</span><span class="Number">6</span><span class="Operator">,</span> <span class="ID">vgap</span><span class="Operator">=</span><span
class="Number">6</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  18 </span>        <span class="ID">sizer</span><span class="Operator">.</span><span class="ID">AddMany</span><span class="Operator">(</span><span class="Operator">[</span><span class="ID">basicLabel</span><span class="Operator">,</span> <span class="ID">basicText</span><span class="Operator">,</span> <span class="ID">pwdLabel</span><span class="Operator">,</span> <span class="ID">pwdText</span><span class="Operator">]</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  19 </span>        <span class="ID">panel</span><span class="Operator">.</span><span class="ID">SetSizer</span><span class="Operator">(</span><span class="ID">sizer</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  20 </span></span>
<span class="line"><span class="LineNumber">  21 </span><span class="ResWord">if</span> <span class="ID">__name__</span> <span class="Operator">==</span> <span class="String">'__main__'</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  22 </span>    <span class="ID">app</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">PySimpleApp</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  23 </span>    <span class="ID">frame</span> <span class="Operator">=</span> <span class="ID">TextFrame</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  24 </span>    <span class="ID">frame</span><span class="Operator">.</span><span class="ID">Show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  25 </span>    <span class="ID">app</span><span class="Operator">.</span><span class="ID">MainLoop</span><span class="Operator">(</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-188" class="anchor"/><p class="line867"><tt>wx.TextCtrl</tt>类的构造函数较小且比其父类<tt>wx.Window</tt>更精细，它增加了两个参数： <span id="line-189" class="anchor"/><span id="line-190" class="anchor"/></p><p class="line867"><tt>wx.TextCtrl(parent</tt>, <tt>id</tt>, <tt>value</tt> = "", <tt>pos</tt>=<tt>wx.DefaultPosition</tt>, <span id="line-191" class="anchor"/><tt>size</tt>=<tt>wx.DefaultSize</tt>, <tt>style</tt>=0, <tt>validator</tt>=<tt>wx.DefaultValidator</tt> <span id="line-192"
class="anchor"/><tt>name</tt>=<tt>wx.TextCtrlNameStr)</tt> <span id="line-193" class="anchor"/><span id="line-194" class="anchor"/></p><p class="line862">参数<tt>parent</tt>, <tt>id</tt>, <tt>pos</tt>, <tt>size</tt>, <tt>style</tt>, 和 <tt>name</tt>与<tt>wx.Window</tt>构造函数的相同。<tt>value</tt>是显示在该控件中的初始文本。 <span id="line-195" class="anchor"/><span id="line-196" class="anchor"/></p><p
class="line867"><tt>validator</tt>参数用于一个<tt>wx.Validator</tt>。<tt>validator</tt>通常用于过虑数据以确保只能键入要接受的数据。将在第9章对<tt>validator</tt>做更详细的讨论。 <span id="line-197" class="anchor"/><span id="line-198" class="anchor"/><span id="line-199" class="anchor"/></p><p class="line867"><strong>使用单行文本控件样式</strong> <span id="line-200" class="anchor"/><span id="line-201" class="anchor"/></p><p class="line874">这里，我们将讨论一些唯一无二的文本控件样式。 <span id="line-202" class="anchor"/>表7.3说明了用于单行文本控件的样式标记 <span
id="line-203" class="anchor"/><span id="line-204" class="anchor"/><span id="line-205" class="anchor"/></p><p class="line867"><strong>表7.3</strong>  <span id="line-206" class="anchor"/><strong>单行<tt>wx.TextCtrl</tt>的样式</strong> <span id="line-207" class="anchor"/><span id="line-208" class="anchor"/></p><p class="line867"><tt>wx.TE_CENTER</tt>：控件中的文本居中。 <span id="line-209" class="anchor"/><span id="line-210" class="anchor"/></p><p class="line867"><tt>wx.TE_LEFT</tt>：控件中的文本左对齐。默认行为。 <span id="line-211" class="anchor"/><span id="line-212"
class="anchor"/></p><p class="line867"><tt>wx.TE_NOHIDESEL</tt>：文本始终高亮显示，只适用于<tt>Windows</tt>。 <span id="line-213" class="anchor"/><span id="line-214" class="anchor"/></p><p class="line867"><tt>wx.TE_PASSWORD</tt>：不显示所键入的文本，代替以星号显示。 <span id="line-215" class="anchor"/><span id="line-216" class="anchor"/></p><p class="line867"><tt>wx.TE_PROCESS_ENTER</tt>：如果使用了这个样式，那么当用户在控件内按下回车键时，一个文本输入事件被触发。否则，按键事件内在的由该文本控件或该对话框管理。 <span id="line-217" class="anchor"/><span id="line-218"
class="anchor"/></p><p class="line867"><tt>wx.TE_PROCESS_TAB</tt>：如果指定了这个样式，那么通常的字符事件在<tt>Tab</tt>键按下时创建（一般意味一个制表符将被插入文本）。否则，<tt>tab</tt>由对话框来管理，通常是控件间的切换。 <span id="line-219" class="anchor"/><span id="line-220" class="anchor"/></p><p class="line867"><tt>wx.TE_READONLY</tt>：文本控件为只读，用户不能修改其中的文本。 <span id="line-221" class="anchor"/><span id="line-222" class="anchor"/></p><p class="line867"><tt>wx.TE_RIGHT</tt>：控件中的文本右对齐。 <span id="line-223" class="anchor"/><span
id="line-224" class="anchor"/></p><p class="line874">像其它样式标记一样，它们可以使用|符号来组合使用，尽管其中的三个对齐标记是相互排斥的。 <span id="line-225" class="anchor"/><span id="line-226" class="anchor"/></p><p class="line874">对于添加文本和移动插入点，该文本控件自动管理用户的按键和鼠标事件。对于该文本控件可用的命令控制组合说明如下： <span id="line-227" class="anchor"/><span id="line-228" class="anchor"/></p><ul><li style="list-style-type: none;"><p class="line891"><tt>ctrl</tt>-x ：剪切 <span id="line-229" class="anchor"/><tt>ctrl</tt>-c ：复制 <span
id="line-230" class="anchor"/><tt>ctrl</tt>-v ：粘贴 <span id="line-231" class="anchor"/><tt>ctrl</tt>-z ：撤消 <span id="line-232" class="anchor"/><span id="line-233" class="anchor"/><span id="line-234" class="anchor"/></p></li></ul><p class="line867">
</p><h3 id="head-30cfcf8b2140ed0ed4cf0c8fcc5fabb90bf008a8">1.1.3. 不输入的情况下如何改变文本？</h3>
<span id="line-235" class="anchor"/><span id="line-236" class="anchor"/><span id="line-237" class="anchor"/><p class="line862">除了根据用户的输入改变显示的文本外，<tt>wx.TextCtrl</tt>提供了在程序中改变显示的文本的一些方法。你可以完全改变文本或仅移动插入点到文本中不同的位置。表7.4列出了<tt>wx.TextCtrl</tt>的文本处理方法。 <span id="line-238" class="anchor"/><span id="line-239" class="anchor"/><span id="line-240" class="anchor"/></p><p class="line867"><strong>表7.4</strong> <span id="line-241" class="anchor"/><span id="line-242" class="anchor"/></p><p
class="line867"><tt>AppendText(text)</tt>：在尾部添加文本。 <span id="line-243" class="anchor"/><span id="line-244" class="anchor"/></p><p class="line867"><tt>Clear()</tt>：重置控件中的文本为“”。并且生成一个文本更新事件。 <span id="line-245" class="anchor"/><span id="line-246" class="anchor"/></p><p class="line867"><tt>EmulateKeyPress(event)</tt>：产生一个按键事件，插入与事件相关联的控制符，就如同实际的按键发生了。 <span id="line-247" class="anchor"/><span id="line-248" class="anchor"/></p><p class="line867"><tt>GetInsertionPoint()</tt> <span id="line-249"
class="anchor"/><tt>SetInsertionPoint(pos)</tt> <span id="line-250" class="anchor"/><tt>SetInsertionPointEnd()</tt>：得到或设置插入点的位置，位置是整型的索引值。控件的开始位置是0。 <span id="line-251" class="anchor"/><span id="line-252" class="anchor"/></p><p class="line867"><tt>GetRange(from</tt>, <tt>to)</tt>：返回控件中位置索引范围内的字符串。 <span id="line-253" class="anchor"/><span id="line-254" class="anchor"/></p><p class="line867"><tt>GetSelection()</tt> <span id="line-255" class="anchor"/><tt>GetStringSelection()</tt> <span id="line-256"
class="anchor"/><tt>SetSelection(from</tt>, <tt>to)</tt>：<tt>GetSelection()</tt>以元组的形式返回当前所选择的文本的起始位置的索引值（开始，结束）。<tt>GetStringSelection()</tt>得到所选择的字符串。<tt>SetSelection(from</tt>, <tt>to)</tt>设置选择的文本。 <span id="line-257" class="anchor"/><span id="line-258" class="anchor"/></p><p class="line867"><tt>GetValue()</tt> <span id="line-259" class="anchor"/><tt>SetValue(value)</tt>：<tt>SetValue()</tt>改变控件中的全部文本。<tt>GetValue()</tt>返回控件中所有的字符串。 <span id="line-260" class="anchor"/><span id="line-261"
class="anchor"/></p><p class="line867"><tt>Remove(from</tt>, <tt>to)</tt>：删除指定范围的文本。 <span id="line-262" class="anchor"/><span id="line-263" class="anchor"/></p><p class="line867"><tt>Replace(from</tt>, <tt>to</tt>, <tt>value)</tt>：用给定的值替换掉指定范围内的文本。这可以改变文本的长度。 <span id="line-264" class="anchor"/><span id="line-265" class="anchor"/></p><p class="line867"><tt>WriteText(text)</tt>：类似于<tt>AppendText()</tt>，只是写入的文本被放置在当前的插入点。 <span id="line-266" class="anchor"/><span id="line-267" class="anchor"/></p><p
class="line874">当你的控件是只读的或如果你根据事件而非用户键盘输入来改变控件中的文本是，这些方法是十分有用的。 <span id="line-268" class="anchor"/><span id="line-269" class="anchor"/><span id="line-270" class="anchor"/><span id="line-271" class="anchor"/></p><p class="line867">
</p><h3 id="head-8aa8b2d89ba9e1c20454cdc29ae9c9c27d69a7fa">1.1.4. 如何创建一个多行或样式文本控件?</h3>
<span id="line-272" class="anchor"/><span id="line-273" class="anchor"/><span id="line-274" class="anchor"/><p class="line862">你可以使用<tt>wx.TE_MULTILINE</tt>样式标记创建一个多行文本控件。如果本地窗口控件支持样式，那么你可以改变被控件管理的文本的字体和颜色样式，这有时被称为丰富格式文本。对于另外的一些平台，设置样式的调用被忽视掉了。图7.3显示了多行文本控件的一个例子。 <span id="line-275" class="anchor"/><span id="line-276" class="anchor"/><span id="line-277" class="anchor"/></p><p class="line867"><img title="attachment:w7.3.gif"
src="/moin/WxPythonInAction/ChapterSeven?action=AttachFile&amp;do=get&amp;target=w7.3.gif" class="attachment"/> <span id="line-278" class="anchor"/><span id="line-279" class="anchor"/><span id="line-280" class="anchor"/></p><p class="line862">例7.3包含了用于创建图7.3的代码。通常，创建一个多行文本控件是通过设置<tt>wx.TE_MULTILINE</tt>样式标记来处理的。较后的部分，我们将讨论使用丰富文本样式。 <span id="line-281" class="anchor"/><span id="line-282" class="anchor"/><span id="line-283" class="anchor"/></p><p class="line867"><strong>例7.3</strong>  <span id="line-284"
class="anchor"/><strong>创建一个多行文本控件</strong> <span id="line-285" class="anchor"/><span id="line-286" class="anchor"/><span id="line-287" class="anchor"/><span id="line-288" class="anchor"/><span id="line-289" class="anchor"/><span id="line-290" class="anchor"/><span id="line-291" class="anchor"/><span id="line-292" class="anchor"/><span id="line-293" class="anchor"/><span id="line-294" class="anchor"/><span id="line-295" class="anchor"/><span id="line-296" class="anchor"/><span id="line-297" class="anchor"/><span id="line-298" class="anchor"/><span
id="line-299" class="anchor"/><span id="line-300" class="anchor"/><span id="line-301" class="anchor"/><span id="line-302" class="anchor"/><span id="line-303" class="anchor"/><span id="line-304" class="anchor"/><span id="line-305" class="anchor"/><span id="line-306" class="anchor"/><span id="line-307" class="anchor"/><span id="line-308" class="anchor"/><span id="line-309" class="anchor"/><span id="line-310" class="anchor"/><span id="line-311" class="anchor"/><span id="line-312" class="anchor"/><span id="line-313" class="anchor"/><span id="line-314" class="anchor"/><span
id="line-315" class="anchor"/><span id="line-316" class="anchor"/><span id="line-317" class="anchor"/><span id="line-318" class="anchor"/><span id="line-319" class="anchor"/><span id="line-320" class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-0bc07fdd9f4c6af64b57b22f2d8323749384bdee_003\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-0bc07fdd9f4c6af64b57b22f2d8323749384bdee_003', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-0bc07fdd9f4c6af64b57b22f2d8323749384bdee_003" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="ResWord">import</span> <span class="ID">wx</span></span>
<span class="line"><span class="LineNumber">   2 </span></span>
<span class="line"><span class="LineNumber">   3 </span><span class="ResWord">class</span> <span class="ID">TextFrame</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   4 </span></span>
<span class="line"><span class="LineNumber">   5 </span>    <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   6 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">None</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">'Text Entry Example'</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">   7 </span>                <span class="ID">size</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">300</span><span class="Operator">,</span> <span class="Number">250</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   8 </span>        <span class="ID">panel</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Panel</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   9 </span>        <span class="ID">multiLabel</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">StaticText</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">"Multi-line"</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  10 </span>        <span class="ID">multiText</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">TextCtrl</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  11 </span>               <span class="String">"Here is a looooooooooooooong line of text set in the control.\n\n"</span></span>
<span class="line"><span class="LineNumber">  12 </span>               <span class="String">"See that it wrapped, and that this line is after a blank"</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  13 </span>               <span class="ID">size</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">200</span><span class="Operator">,</span> <span class="Number">100</span><span class="Operator">)</span><span class="Operator">,</span> <span class="ID">style</span><span class="Operator">=</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">TE_MULTILINE</span><span class="Operator">)</span> <span class="Comment">#创建一个文本控件</span></span>
<span class="line"><span class="LineNumber">  14 </span>        <span class="ID">multiText</span><span class="Operator">.</span><span class="ID">SetInsertionPoint</span><span class="Operator">(</span><span class="Number">0</span><span class="Operator">)</span> <span class="Comment">#设置插入点</span></span>
<span class="line"><span class="LineNumber">  15 </span></span>
<span class="line"><span class="LineNumber">  16 </span>        <span class="ID">richLabel</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">StaticText</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">"Rich Text"</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  17 </span>        <span class="ID">richText</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">TextCtrl</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  18 </span>                <span class="String">"If supported by the native control, this is reversed, and this is a different font."</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  19 </span>                <span class="ID">size</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">200</span><span class="Operator">,</span> <span class="Number">100</span><span class="Operator">)</span><span class="Operator">,</span> <span class="ID">style</span><span class="Operator">=</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">TE_MULTILINE</span><span class="Operator">|</span><span class="ID">wx</span><span
class="Operator">.</span><span class="ID">TE_RICH2</span><span class="Operator">)</span> <span class="Comment">#创建丰富文本控件</span></span>
<span class="line"><span class="LineNumber">  20 </span>        <span class="ID">richText</span><span class="Operator">.</span><span class="ID">SetInsertionPoint</span><span class="Operator">(</span><span class="Number">0</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  21 </span>        <span class="ID">richText</span><span class="Operator">.</span><span class="ID">SetStyle</span><span class="Operator">(</span><span class="Number">44</span><span class="Operator">,</span> <span class="Number">52</span><span class="Operator">,</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">TextAttr</span><span class="Operator">(</span><span class="String">"white"</span><span class="Operator">,</span> <span class="String">"black"</span><span
class="Operator">)</span><span class="Operator">)</span> <span class="Comment">#设置文本样式</span></span>
<span class="line"><span class="LineNumber">  22 </span>        <span class="ID">points</span> <span class="Operator">=</span> <span class="ID">richText</span><span class="Operator">.</span><span class="ID">GetFont</span><span class="Operator">(</span><span class="Operator">)</span><span class="Operator">.</span><span class="ID">GetPointSize</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  23 </span>        <span class="ID">f</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Font</span><span class="Operator">(</span><span class="ID">points</span> <span class="Operator">+</span> <span class="Number">3</span><span class="Operator">,</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">ROMAN</span><span class="Operator">,</span> <span class="ID">wx</span><span class="Operator">.</span><span
class="ID">ITALIC</span><span class="Operator">,</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">BOLD</span><span class="Operator">,</span> <span class="ID">True</span><span class="Operator">)</span> <span class="Comment">#创建一个字体</span></span>
<span class="line"><span class="LineNumber">  24 </span>        <span class="ID">richText</span><span class="Operator">.</span><span class="ID">SetStyle</span><span class="Operator">(</span><span class="Number">68</span><span class="Operator">,</span> <span class="Number">82</span><span class="Operator">,</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">TextAttr</span><span class="Operator">(</span><span class="String">"blue"</span><span class="Operator">,</span> <span class="ID">wx</span><span
class="Operator">.</span><span class="ID">NullColour</span><span class="Operator">,</span> <span class="ID">f</span><span class="Operator">)</span><span class="Operator">)</span> <span class="Comment">#用新字体设置样式</span></span>
<span class="line"><span class="LineNumber">  25 </span>        <span class="ID">sizer</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">FlexGridSizer</span><span class="Operator">(</span><span class="ID">cols</span><span class="Operator">=</span><span class="Number">2</span><span class="Operator">,</span> <span class="ID">hgap</span><span class="Operator">=</span><span class="Number">6</span><span class="Operator">,</span> <span class="ID">vgap</span><span class="Operator">=</span><span
class="Number">6</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  26 </span>        <span class="ID">sizer</span><span class="Operator">.</span><span class="ID">AddMany</span><span class="Operator">(</span><span class="Operator">[</span><span class="ID">multiLabel</span><span class="Operator">,</span> <span class="ID">multiText</span><span class="Operator">,</span> <span class="ID">richLabel</span><span class="Operator">,</span> <span class="ID">richText</span><span class="Operator">]</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  27 </span>        <span class="ID">panel</span><span class="Operator">.</span><span class="ID">SetSizer</span><span class="Operator">(</span><span class="ID">sizer</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  28 </span></span>
<span class="line"><span class="LineNumber">  29 </span><span class="ResWord">if</span> <span class="ID">__name__</span> <span class="Operator">==</span> <span class="String">'__main__'</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  30 </span>    <span class="ID">app</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">PySimpleApp</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  31 </span>    <span class="ID">frame</span> <span class="Operator">=</span> <span class="ID">TextFrame</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  32 </span>    <span class="ID">frame</span><span class="Operator">.</span><span class="ID">Show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  33 </span>    <span class="ID">app</span><span class="Operator">.</span><span class="ID">MainLoop</span><span class="Operator">(</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-321" class="anchor"/><p class="line867"><strong>使用多行或丰富文本样式</strong> <span id="line-322" class="anchor"/><span id="line-323" class="anchor"/></p><p class="line862">除了<tt>wx.TE_MULTILINE</tt>，还有另外的样式标记，它们只在一个多行或丰富文本控件的上下文中有意义。表7.5列出了这些窗口样式。 <span id="line-324" class="anchor"/><span id="line-325" class="anchor"/><span id="line-326" class="anchor"/></p><p class="line867"><strong>表7.5</strong> <span id="line-327" class="anchor"/><span id="line-328" class="anchor"/></p><p
class="line867"><tt>wx.HSCROLL</tt>：如果文本控件是多行的，并且如果该样式被声明了，那么长的行将不会自动换行，并显示水平滚动条。该选项在<tt>GTK</tt>+中被忽略。 <span id="line-329" class="anchor"/><span id="line-330" class="anchor"/></p><p class="line867"><tt>wx.TE_AUTO_URL</tt>：如果丰富文本选项被设置并且平台支持的话，那么当用户的鼠标位于文本中的一个<tt>URL</tt>上或在该<tt>URL</tt>上敲击时，这个样式将导致一个事件被生成。 <span id="line-331" class="anchor"/><span id="line-332" class="anchor"/></p><p
class="line867"><tt>wx.TE_DONTWRAP</tt>：<tt>wx.HSCROLL</tt>的别名。 <span id="line-333" class="anchor"/><span id="line-334" class="anchor"/></p><p class="line867"><tt>wx.TE_LINEWRAP</tt>：对于太长的行，以字符为界换行。某些操作系统可能会忽略该样式。 <span id="line-335" class="anchor"/><span id="line-336" class="anchor"/></p><p class="line867"><tt>wx.TE_MULTILINE</tt>：文本控件将显示多行。 <span id="line-337" class="anchor"/><span id="line-338" class="anchor"/></p><p
class="line867"><tt>wx.TE_RICH</tt>：用于<tt>Windows</tt>下，丰富文本控件用作基本的窗口部件。这允许样式文本的使用。 <span id="line-339" class="anchor"/><span id="line-340" class="anchor"/></p><p class="line867"><tt>wx.TE_RICH2</tt>：用于<tt>Windows</tt>下，把最新版本的丰富文本控件用作基本的窗口部件。 <span id="line-341" class="anchor"/><span id="line-342" class="anchor"/></p><p class="line867"><tt>wx.TE_WORDWRAP</tt>：对于太长的行，以单词为界换行。许多操作系统会忽略该样式。 <span id="line-343" class="anchor"/><span id="line-344" class="anchor"/></p><p
class="line862">记住，上面这些样式可以组合使用，所以上面例子中的多行丰富文本控件使用<tt>wx.TE_MULTILINE</tt> | <tt>wx.TE_RICH2</tt>来声明。 <span id="line-345" class="anchor"/><span id="line-346" class="anchor"/></p><p class="line862">用在<tt>wx.TextCtrl</tt>窗口部件中的文本样式是类<tt>wx.TextAttr</tt>的实例。<tt>wx.TextAttr</tt>实例的属性有文本颜色、背景色、和字体，它们都能够在构造函数中被指定，如下所示： <span id="line-347" class="anchor"/><span id="line-348" class="anchor"/></p><p class="line867"><tt>wx.TextAttr(colText</tt>,
<tt>colBack</tt>=<tt>wx.NullColor</tt>, <tt>font</tt>=<tt>wx.NullFont)</tt> <span id="line-349" class="anchor"/><span id="line-350" class="anchor"/></p><p class="line862">文本色和背景色是<tt>wxPython</tt>对象，它们可以使用颜色名或颜色的<tt>RGB</tt>值(红, 绿, 蓝)来指定。<tt>wx.NullColor</tt>指明使用控件目前的背景色。<tt>font</tt>是一个<tt>wx.Font</tt>对象，我们将在下一小节讨论。<tt>wx.NullFont</tt>对象指明使用当前默认字体。 <span id="line-351" class="anchor"/><span id="line-352" class="anchor"/></p><p
class="line862">类<tt>wx.TextAttr</tt>有相关属性的<tt>get</tt>*()方法：<tt>GetBackgroundColour()</tt>, <tt>GetFont()</tt>, 和 <tt>GetTextColour()</tt>，也有返回布尔值的验证存在性的方法：<tt>HasBackgroundColour()</tt>, <tt>HasFont()</tt>, 和 <tt>HasTextColour()</tt>。如果属性包含一个默认值，则<tt>Has</tt>*()方法返回<tt>False</tt>。如果所有这三个属性都包含默认值，则<tt>IsDefault()</tt>方法返回<tt>true</tt>。这个类没有<tt>set</tt>*()方法，因为<tt>wx.TextAttr</tt>的实例是不可变的。要改变文本的样式，你必须创建一个实例。 <span id="line-353"
class="anchor"/><span id="line-354" class="anchor"/></p><p class="line862">使用文本样式，要调用<tt>SetDefaultStyle(style)</tt>或<tt>SetStyle(start</tt>, <tt>end</tt>,<tt>style)</tt>。第一个方法设置为控件当前的样式。任何插入到该控件中的文本，不管是键入的，或使用了<tt>AppendText()</tt> 或 <tt>WriteText()</tt>方法的，都以该样式显示。如果样式的某个属性是默认的，那么该样式的当前值被保留。但是，如果样式的所有属性都是默认的，那么恢复默认样式。<tt>SetStyle()</tt>与<tt>SetDefaultStyle(style)</tt>类似，只是立即对位于<tt>start</tt> 和
<tt>end</tt>位置之间的文本起作用。样式参数中的默认属性通过检查该控件的当前默认样式来解决。例7.3使用下面一行代码来反转文本中几个字符的颜色： <span id="line-355" class="anchor"/><span id="line-356" class="anchor"/></p><p class="line867"><tt>richText.SetStyle(44</tt>, 52, <tt>wx.TextAttr(</tt>"<tt>white</tt>", "<tt>black</tt>")) <span id="line-357" class="anchor"/><span id="line-358" class="anchor"/></p><p class="line874">背景色变为了黑色，相应的字符变为了白色。 <span id="line-359" class="anchor"/><span id="line-360" class="anchor"/></p><p
class="line862">表7.6列出了<tt>wx.TextCtrl</tt>的方法，它们在处理多行控件和丰富文本中是有用的。 <span id="line-361" class="anchor"/><span id="line-362" class="anchor"/><span id="line-363" class="anchor"/></p><p class="line867"><strong>表7.6</strong> <span id="line-364" class="anchor"/><span id="line-365" class="anchor"/></p><p class="line867"><tt>GetDefaultStyle()</tt> <span id="line-366" class="anchor"/><tt>SetDefaultStyle(style)</tt>：上面已作了说明。 <span id="line-367" class="anchor"/><span id="line-368" class="anchor"/></p><p
class="line867"><tt>GetLineLength(lineNo)</tt>：返回给定行的长度的整数值。 <span id="line-369" class="anchor"/><span id="line-370" class="anchor"/></p><p class="line867"><tt>GetLineText(lineNo)</tt>：返回给定行的文本。 <span id="line-371" class="anchor"/><span id="line-372" class="anchor"/></p><p class="line867"><tt>GetNumberOfLines()</tt>：返回控件中的行的数量。对于单行，返回1。 <span id="line-373" class="anchor"/><span id="line-374" class="anchor"/></p><p class="line867"><tt>IsMultiLine()</tt> <span id="line-375"
class="anchor"/><tt>IsSingleLine()</tt>：布尔类型的方法，确定控件的状态。 <span id="line-376" class="anchor"/><span id="line-377" class="anchor"/></p><p class="line867"><tt>PositionToXY(pos)</tt>：指定文本内的一个整数值位置，返回以元组(列，行)形式的索引位置。列和行的索引值均以0作为开始。 <span id="line-378" class="anchor"/><span id="line-379" class="anchor"/></p><p class="line867"><tt>SetStyle(start</tt>, <tt>end</tt>,<tt>style)</tt>：立即改变指定范围内文本的样式。 <span id="line-380" class="anchor"/><span id="line-381" class="anchor"/></p><p
class="line867"><tt>ShowPosition(pos)</tt>：引起一个多行控件的滚动，以便观察到指定位置的内容。 <span id="line-382" class="anchor"/><span id="line-383" class="anchor"/></p><p class="line867"><tt>XYToPosition(x</tt>, <tt>y)</tt>：与<tt>PositionToXY(pos)</tt>相反——指定行和列，返回整数值位置。 <span id="line-384" class="anchor"/><span id="line-385" class="anchor"/></p><p class="line874">如果你能在系统中使用任意字体的话，那么就可以更加灵活的创建样式。 <span id="line-386" class="anchor"/>接下来，我们将给你展示如何创建和使用字体实例。 <span id="line-387"
class="anchor"/><span id="line-388" class="anchor"/><span id="line-389" class="anchor"/><span id="line-390" class="anchor"/></p><p class="line867">
</p><h3 id="head-b325041389a295f9d9c3eb57021892c275c88e81">1.1.5. 如何创建一个字体？</h3>
<span id="line-391" class="anchor"/><span id="line-392" class="anchor"/><span id="line-393" class="anchor"/><p class="line862">字体是类<tt>wx.Font</tt>的实例。你所访问的任何字体，它已经被安装并对于基本的系统是可访问的。创建一个字体实例，要使用如下的构造函数： <span id="line-394" class="anchor"/><span id="line-395" class="anchor"/></p><p class="line867"><tt>wx.Font(pointSize</tt>, <tt>family</tt>, <tt>style</tt>, <tt>weight</tt>, <tt>underline</tt>=<tt>False</tt>, <span id="line-396" class="anchor"/><tt>faceName</tt>="",
<tt>encoding</tt>=<tt>wx.FONTENCODING_DEFAULT)</tt> <span id="line-397" class="anchor"/><span id="line-398" class="anchor"/></p><p class="line867"><tt>pointSize</tt>是字体的以磅为单位的整数尺寸。<tt>family</tt>用于快速指定一个字体而无需知道该字体的实际的名字。字体的准确选择依赖于系统和具体可用的字体。可用的字体类别的示例显示在表7.7中。你所得到的精确的字体将依赖于你的系统。 <span id="line-399" class="anchor"/><span id="line-400" class="anchor"/><span id="line-401" class="anchor"/></p><p class="line867"><strong>表7.7</strong> <span id="line-402"
class="anchor"/><span id="line-403" class="anchor"/></p><p class="line867"><tt>wx.DECORATIVE</tt>：一个正式的，老的英文样式字体。 <span id="line-404" class="anchor"/><span id="line-405" class="anchor"/></p><p class="line867"><tt>wx.DEFAULT</tt>：系统默认字体。 <span id="line-406" class="anchor"/><span id="line-407" class="anchor"/></p><p class="line867"><tt>wx.MODERN</tt>：一个单间隔（固定字符间距）字体。 <span id="line-408" class="anchor"/><span id="line-409" class="anchor"/></p><p
class="line867"><tt>wx.ROMAN</tt>：<tt>serif</tt>字体，通常类似于<tt>Times</tt> <tt>New</tt> <tt>Roman</tt>。 <span id="line-410" class="anchor"/><span id="line-411" class="anchor"/></p><p class="line867"><tt>wx.SCRIPT</tt>：手写体或草写体 <span id="line-412" class="anchor"/><span id="line-413" class="anchor"/></p><p class="line867"><tt>wx.SWISS</tt>：<tt>sans</tt>-<tt>serif</tt>字体，通常类似于<tt>Helvetica</tt>或<tt>Arial</tt>。 <span id="line-414" class="anchor"/><span id="line-415" class="anchor"/></p><p
class="line867"><tt>style</tt>参数指明字体的是否倾斜，它的值有：<tt>wx.NORMAL</tt>, <tt>wx.SLANT</tt>, 和 <tt>wx.ITALIC</tt>。同样，<tt>weight</tt>参数指明字体的醒目程度，可选值有：<tt>wx.NORMAL</tt>, <tt>wx.LIGHT</tt>,或<tt>wx.BOLD</tt>。这些常量值的行为根据它的名字就可以知道了。<tt>underline</tt>参数仅工作在<tt>Windows</tt>系统下，如果取值为<tt>True</tt>，则加下划线，<tt>False</tt>为无下划线。 <span id="line-416" class="anchor"/><tt>faceName</tt>参数指定字体名。 <span id="line-417" class="anchor"/><span id="line-418" class="anchor"/></p><p
class="line867"><tt>encoding</tt>参数允许你在几个编码中选择一个，它映射内部的字符和字本显示字符。编码不是<tt>Unicode</tt>编码，只是用于<tt>wxPython</tt>的不同的8位编码。大多数情况你可以使用默认编码。 <span id="line-419" class="anchor"/><span id="line-420" class="anchor"/></p><p class="line862">为了获取系统的有效字体的一个列表，并使用户可用它们，要使用专门的类<tt>wx.FontEnumerator</tt>，如下所示： <span id="line-421" class="anchor"/><span id="line-422" class="anchor"/></p><p class="line862">e = <tt>wx.FontEnumerator()</tt> <span id="line-423"
class="anchor"/><tt>e.EnumerateFacenames()</tt> <span id="line-424" class="anchor"/><tt>fontList</tt> = <tt>e.GetFacenames()</tt> <span id="line-425" class="anchor"/><span id="line-426" class="anchor"/></p><p class="line862">要限制该列表为固定宽度，就要将上面的第一行改为e = <tt>wx.FontEnumerator(fixedWidth</tt>=<tt>True)</tt>。 <span id="line-427" class="anchor"/><span id="line-428" class="anchor"/><span id="line-429" class="anchor"/></p><p class="line867">
</p><h3 id="head-90bdab1136c3c48f0b4541a53ff8334bc09b46fb">1.1.6. 如果我们系统不支持丰富文本，那么我还能使用样式文本吗？</h3>
<span id="line-430" class="anchor"/><span id="line-431" class="anchor"/><span id="line-432" class="anchor"/><p
class="line862">可以。在<tt>wxPython</tt>中有一个跨平台的样式文本窗口部件，名为<tt>wx.stc.StyledTextCtrl</tt>，它是<tt>Python</tt>对<tt>Scintilla</tt>丰富文本组件的封装。因为<tt>Scintilla</tt>不是<tt>wxWidgets</tt>的一部分，而是作为一个独立的第三方组被合并到了<tt>wxPython</tt>中，所以它不与我们已经讨论过的类共享相同的<tt>API</tt>。<tt>wx.stc.StyledCtrl</tt>的完整说明超过了我们要讲的范围，但是你可以在<tt>http:</tt>//<tt>wiki.wxpython.org</tt>/<tt>index.cgi</tt>/<tt>wxStyledTextCtrl</tt>找到相关的文档。 <span id="line-433" class="anchor"/><span
id="line-434" class="anchor"/><span id="line-435" class="anchor"/></p><p class="line867">
</p><h3 id="head-3fda7b3fd6242dd56fea629af787c41800e0b2e1">1.1.7. 如果我的文本控件不匹配我的字符串该怎么办？</h3>
<span id="line-436" class="anchor"/><span id="line-437" class="anchor"/><span id="line-438" class="anchor"/><p class="line862">当使用多行<tt>wx.TextCtrl</tt>的时候，要知道的一点是，该文本控件是以何种方式存储字符串的。在内部，存储在该<tt>wx.TextCtrl</tt>中的多行字符是以\n作为行的分隔符的。这与基本的操作系统无关，即使某些系统使用了不同的字符组合作为一行的分隔符。当你使用<tt>GetValue()</tt>来获取该字符串时，原来的行分隔符被还原，因此你不必考虑手工转换。这个的好处就是控件中的文本不依赖于任何特定的操作系统。 <span id="line-439" class="anchor"/><span
id="line-440" class="anchor"/></p><p class="line862">缺点是，文本控件中的行的长度和行的索引与它们在文本控件外的可能是不同的。例如，如果你在一个<tt>Windows</tt>系统上，系统所用的行分隔符是\r\n，通过<tt>GetValue()</tt>所得知的字符串的长度将比通过<tt>GetLastPosition()</tt>所得知的字符串的结尾长。通过在例7.3中增加下面两行： <span id="line-441" class="anchor"/><span id="line-442" class="anchor"/></p><p class="line867"><tt>print</tt> "<tt>getValue</tt>", <tt>len(multiText.GetValue())</tt> <span id="line-443" class="anchor"/><tt>print</tt> "<tt>lastPos</tt>",
<tt>multiText.GetLastPosition()</tt> <span id="line-444" class="anchor"/><span id="line-445" class="anchor"/></p><p class="line862">我们在<tt>Unix</tt>系统上所得的结果应该是： <span id="line-446" class="anchor"/><span id="line-447" class="anchor"/></p><p class="line867"><tt>getValue</tt> 119 <span id="line-448" class="anchor"/><tt>lastPos</tt> 119 <span id="line-449" class="anchor"/><span id="line-450" class="anchor"/></p><p class="line862">我们在<tt>Windows</tt>系统上所得的结果应该是： <span id="line-451" class="anchor"/><span id="line-452"
class="anchor"/></p><p class="line867"><tt>getValue</tt> 121 <span id="line-453" class="anchor"/><tt>lastPos</tt> 119 <span id="line-454" class="anchor"/><span id="line-455" class="anchor"/></p><p class="line862">这意味你不应该使用多行文本控件的位置索引来取得原字符串，位置索引应该用作<tt>wx.TextCtrl</tt>的另外方法的参数。对于该控件中的文本的子串，应该使用<tt>GetRange()</tt>或<tt>GetSelectedText()</tt>。也不要反向索引；不要使用原字符串的索引来取得并放入文本控件中。下面是一个例子，它使用了不正确的方法在插入点之后直接得到10个字符： <span id="line-456"
class="anchor"/><span id="line-457" class="anchor"/></p><pre>aLongString = """Any old
<span id="line-458" class="anchor"/>multi line string
<span id="line-459" class="anchor"/>will do here.
<span id="line-460" class="anchor"/>Just as long as
<span id="line-461" class="anchor"/>it is multiline"""
<span id="line-462" class="anchor"/>text = wx.TextCtrl(panel, -1, aLongString, style=wx.TE_MULTILINE)
<span id="line-463" class="anchor"/>x = text.GetInsertionPoint()
<span id="line-464" class="anchor"/>selection = aLongString[x : x + 10] ### 这将是不正确的
<span id="line-465" class="anchor"/></pre><span id="line-466" class="anchor"/><p class="line862">在<tt>Windows</tt>或<tt>Mac</tt>系统中要得到正确的结果，最后一行应换为： <span id="line-467" class="anchor"/><span id="line-468" class="anchor"/></p><p class="line867"><tt>selection</tt> = <tt>text.GetRange(x</tt>, x + 10) <span id="line-469" class="anchor"/><span id="line-470" class="anchor"/><span id="line-471" class="anchor"/></p><p class="line867">
</p><h3 id="head-165faa6e2021e0b3ebb1254e3b750b37cf04b5d8">1.1.8. 如何响应文本事件？</h3>
<span id="line-472" class="anchor"/><span id="line-473" class="anchor"/><span id="line-474" class="anchor"/><p class="line862">有一个由<tt>wx.TextCtrl</tt>窗口部件产生的便利的命令事件，你可能想用它。你需要把相关事件传递给<tt>Bind</tt>方法以捕获该事件，如下所示： <span id="line-475" class="anchor"/><span id="line-476" class="anchor"/></p><p class="line867"><tt>frame.Bind(wx.EVT_TEXT</tt>, <tt>frame.OnText</tt>, <tt>text)</tt> <span id="line-477" class="anchor"/><span id="line-478" class="anchor"/></p><p class="line874">表7.8说明了这些命令事件。 <span
id="line-479" class="anchor"/><span id="line-480" class="anchor"/><span id="line-481" class="anchor"/></p><p class="line867"><strong>表7.8</strong>  <span id="line-482" class="anchor"/><strong><tt>wx.TextCtrl</tt>的事件</strong> <span id="line-483" class="anchor"/><span id="line-484" class="anchor"/></p><p class="line867"><tt>EVT_TEXT</tt>：当控件中的文本改变时产生该事件。文本因用户的输入或在程序中使用<tt>SetValue()</tt>而被改变，都要产生该事件。 <span id="line-485" class="anchor"/><span id="line-486" class="anchor"/></p><p
class="line867"><tt>EVT_TEXT_ENTER</tt>：当用户在一个<tt>wx.TE_PROCESS_ENTER</tt>样式的文本控件中按下了回车键时，产生该事件。 <span id="line-487" class="anchor"/><span id="line-488" class="anchor"/></p><p class="line867"><tt>EVT_TEXT_URL</tt>：如果在<tt>Windows</tt>系统上，<tt>wx.TE_RICH</tt>或<tt>wx.TE_RICH2</tt>样式被设置了，并且<tt>wx.TE_AUTO_URL</tt>样式也被设置了，那么当在文本控件内的<tt>URL</tt>上发生了一个鼠标事件时，该事件被触发。 <span id="line-489" class="anchor"/><span id="line-490" class="anchor"/></p><p
class="line867"><tt>EVT_TEXT_MAXLEN</tt>：如果使用<tt>SetMaxLength()</tt>指定了该控件的最大长度，那么当用户试图输入更长的字符串时，该事件被触发。你可能会用这个，例如，这时给用户显示一个警告消息。 <span id="line-491" class="anchor"/><span id="line-492" class="anchor"/></p><p class="line874">接下来，让我们来讨论被主要设计来得到鼠标输入的控件。其中最简单的就是按钮。 <span id="line-493" class="anchor"/><span id="line-494" class="anchor"/><span id="line-495" class="anchor"/><span id="line-496" class="anchor"/></p><p class="line867">
</p><h2 id="head-fce8e2545979a96005dd28a88bb749fdbafebd00">1.2. 使用按钮工作</h2>
<span id="line-497" class="anchor"/><span id="line-498" class="anchor"/><span id="line-499" class="anchor"/><p class="line862">在<tt>wxPython</tt>中有很多不同类型的按钮。这一节，我们将讨论文本按钮、位图按钮、开关按钮（<tt>toggle</tt> <tt>buttons</tt>）和通用（<tt>generic</tt>）按钮。 <span id="line-500" class="anchor"/><span id="line-501" class="anchor"/><span id="line-502" class="anchor"/></p><p class="line867">
</p><h3 id="head-1fc3d3389a0405f23a28552306a23d3ef0b92063">1.2.1. 如何生成一个按钮？</h3>
<span id="line-503" class="anchor"/><span id="line-504" class="anchor"/><span id="line-505" class="anchor"/><p class="line862">在第一部分（<tt>part</tt> 1）中，我们已经说明了几个按钮的例子，所以这里我们只简短的涉及它的一些基本的东西。图7.4显示了一个简单的按钮。 <span id="line-506" class="anchor"/><span id="line-507" class="anchor"/><span id="line-508" class="anchor"/></p><p class="line867"><strong>图7.4</strong> <span id="line-509" class="anchor"/><span id="line-510" class="anchor"/><span id="line-511" class="anchor"/></p><p class="line867"><img
title="attachment:w7.4.gif" src="/moin/WxPythonInAction/ChapterSeven?action=AttachFile&amp;do=get&amp;target=w7.4.gif" class="attachment"/> <span id="line-512" class="anchor"/><span id="line-513" class="anchor"/><span id="line-514" class="anchor"/></p><p class="line874">使用按钮是非常简单的。例7.4显示了该简单按钮的代码。 <span id="line-515" class="anchor"/><span id="line-516" class="anchor"/><span id="line-517" class="anchor"/></p><p class="line867"><strong>例7.4</strong>  <span id="line-518" class="anchor"/><strong>创建并显示一个简单的按钮</strong>
<span id="line-519" class="anchor"/><span id="line-520" class="anchor"/><span id="line-521" class="anchor"/><span id="line-522" class="anchor"/><span id="line-523" class="anchor"/><span id="line-524" class="anchor"/><span id="line-525" class="anchor"/><span id="line-526" class="anchor"/><span id="line-527" class="anchor"/><span id="line-528" class="anchor"/><span id="line-529" class="anchor"/><span id="line-530" class="anchor"/><span id="line-531" class="anchor"/><span id="line-532" class="anchor"/><span id="line-533" class="anchor"/><span id="line-534"
class="anchor"/><span id="line-535" class="anchor"/><span id="line-536" class="anchor"/><span id="line-537" class="anchor"/><span id="line-538" class="anchor"/><span id="line-539" class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-98faaba7d136f80c600f02ec886d12a58a35753b_004\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-98faaba7d136f80c600f02ec886d12a58a35753b_004', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-98faaba7d136f80c600f02ec886d12a58a35753b_004" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="ResWord">import</span> <span class="ID">wx</span></span>
<span class="line"><span class="LineNumber">   2 </span></span>
<span class="line"><span class="LineNumber">   3 </span><span class="ResWord">class</span> <span class="ID">ButtonFrame</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   4 </span>    <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   5 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">None</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">'Button Example'</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">   6 </span>                <span class="ID">size</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">300</span><span class="Operator">,</span> <span class="Number">100</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   7 </span>        <span class="ID">panel</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Panel</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   8 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">button</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Button</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">"Hello"</span><span class="Operator">,</span> <span
class="ID">pos</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">50</span><span class="Operator">,</span> <span class="Number">20</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   9 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">Bind</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">EVT_BUTTON</span><span class="Operator">,</span> <span class="ID">self</span><span class="Operator">.</span><span class="ID">OnClick</span><span class="Operator">,</span> <span class="ID">self</span><span class="Operator">.</span><span class="ID">button</span><span
class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  10 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">button</span><span class="Operator">.</span><span class="ID">SetDefault</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  11 </span></span>
<span class="line"><span class="LineNumber">  12 </span>    <span class="ResWord">def</span> <span class="ID">OnClick</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">event</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  13 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">button</span><span class="Operator">.</span><span class="ID">SetLabel</span><span class="Operator">(</span><span class="String">"Clicked"</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  14 </span></span>
<span class="line"><span class="LineNumber">  15 </span><span class="ResWord">if</span> <span class="ID">__name__</span> <span class="Operator">==</span> <span class="String">'__main__'</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  16 </span>    <span class="ID">app</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">PySimpleApp</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  17 </span>    <span class="ID">frame</span> <span class="Operator">=</span> <span class="ID">ButtonFrame</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  18 </span>    <span class="ID">frame</span><span class="Operator">.</span><span class="ID">Show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  19 </span>    <span class="ID">app</span><span class="Operator">.</span><span class="ID">MainLoop</span><span class="Operator">(</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-540" class="anchor"/><span id="line-541" class="anchor"/><p class="line867"><tt>wx.Button</tt>的构造函数类似于我们已经看到过的，如下所示： <span id="line-542" class="anchor"/><span id="line-543" class="anchor"/></p><p class="line867"><tt>wx.Button(parent</tt>, <tt>id</tt>, <tt>label</tt>, <tt>pos</tt>, <tt>size</tt>=<tt>wxDefaultSize</tt>, <tt>style</tt>=0, <span id="line-544" class="anchor"/><tt>validator</tt>, <tt>name</tt>="<tt>button</tt>") <span id="line-545" class="anchor"/><span id="line-546"
class="anchor"/></p><p class="line862">参数<tt>label</tt>是显示在按钮上的文本。它可以在程序运行期间使用<tt>SetLabel()</tt>来改变，并且使用<tt>GetLabel()</tt>来获取。另外两个有用的方法是<tt>GetDefaultSize()</tt>和<tt>SetDefault()</tt>。<tt>GetDefaultSize()</tt>返回系统默认按钮的尺寸（对于框架间的一致性是有用的）；<tt>SetDefault()</tt>设置按钮为对话框或框架的默认按钮。默认按钮的绘制不同于其它按钮，它在对话框获得焦点时，通常按下回车键被激活。 <span id="line-547" class="anchor"/><span id="line-548" class="anchor"/></p><p
class="line867"><tt>wx.Button</tt>类有一个跨平台的样式标记：<tt>wx.BU_EXACTFIT</tt>。如果定义了这个标记，那么按钮就不把系统默认的尺寸作为最小的尺寸，而是把能够恰好填充标签的尺寸作为最小尺寸。如果本地窗口部件支持的话，你可以使用标记<tt>wx.BU_LEFT</tt>, <tt>wx.BU_RIGHT</tt>, <tt>wx.BU_TOP</tt>, 和 <tt>wx.BU_BOTTOM</tt>来改变按钮中标签的对齐方式。每个标记对齐标签到边，该边你根据标记的名字可以知道。正如我们在第一部分中所讨论过的，<tt>wx.Button</tt>在被敲击时触发一个命令事件，事件类型是<tt>EVT_BUTTON</tt>。 <span id="line-549"
class="anchor"/><span id="line-550" class="anchor"/><span id="line-551" class="anchor"/></p><p class="line867">
</p><h3 id="head-86f9b5f81dc84a68c707aa52a936236298ed5a76">1.2.2. 如何生成一个位图按钮？</h3>
<span id="line-552" class="anchor"/><span id="line-553" class="anchor"/><span id="line-554" class="anchor"/><p class="line874">有时候，你可能想在你的按钮上显示一个图片，而非一个文本标签，如图7.5所示。 <span id="line-555" class="anchor"/><span id="line-556" class="anchor"/><span id="line-557" class="anchor"/></p><p class="line867"><img title="attachment:w7.5.gif" src="/moin/WxPythonInAction/ChapterSeven?action=AttachFile&amp;do=get&amp;target=w7.5.gif" class="attachment"/> <span id="line-558" class="anchor"/><span id="line-559"
class="anchor"/><span id="line-560" class="anchor"/></p><p class="line862">在<tt>wxPython</tt>中，使用类<tt>wx.BitmapButton</tt>来创建一个位图按钮。处理一个<tt>wx.BitmapButton</tt>的代码是与通用按钮的代码非常类似的，例7.5显示了产生7.5的代码。 <span id="line-561" class="anchor"/><span id="line-562" class="anchor"/><span id="line-563" class="anchor"/></p><p class="line867"><strong>例7.5</strong>  <span id="line-564" class="anchor"/><strong>创建一个位图按钮</strong> <span id="line-565" class="anchor"/><span id="line-566"
class="anchor"/><span id="line-567" class="anchor"/><span id="line-568" class="anchor"/><span id="line-569" class="anchor"/><span id="line-570" class="anchor"/><span id="line-571" class="anchor"/><span id="line-572" class="anchor"/><span id="line-573" class="anchor"/><span id="line-574" class="anchor"/><span id="line-575" class="anchor"/><span id="line-576" class="anchor"/><span id="line-577" class="anchor"/><span id="line-578" class="anchor"/><span id="line-579" class="anchor"/><span id="line-580" class="anchor"/><span id="line-581"
class="anchor"/><span id="line-582" class="anchor"/><span id="line-583" class="anchor"/><span id="line-584" class="anchor"/><span id="line-585" class="anchor"/><span id="line-586" class="anchor"/><span id="line-587" class="anchor"/><span id="line-588" class="anchor"/><span id="line-589" class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-fe92a305195165cef7b2c4f1047a026b4524aec4_005\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-fe92a305195165cef7b2c4f1047a026b4524aec4_005', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-fe92a305195165cef7b2c4f1047a026b4524aec4_005" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="ResWord">import</span> <span class="ID">wx</span></span>
<span class="line"><span class="LineNumber">   2 </span></span>
<span class="line"><span class="LineNumber">   3 </span><span class="ResWord">class</span> <span class="ID">BitmapButtonFrame</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   4 </span>    <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   5 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">None</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">'Bitmap Button Example'</span><span
class="Operator">,</span></span>
<span class="line"><span class="LineNumber">   6 </span>                <span class="ID">size</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">200</span><span class="Operator">,</span> <span class="Number">150</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   7 </span>        <span class="ID">panel</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Panel</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   8 </span>        <span class="ID">bmp</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Image</span><span class="Operator">(</span><span class="String">"bitmap.bmp"</span><span class="Operator">,</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">BITMAP_TYPE_BMP</span><span class="Operator">)</span><span class="Operator">.</span><span class="ID">ConvertToBitmap</span><span
class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   9 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">button</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">BitmapButton</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="ID">bmp</span><span class="Operator">,</span> <span
class="ID">pos</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">10</span><span class="Operator">,</span> <span class="Number">20</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  10 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">Bind</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">EVT_BUTTON</span><span class="Operator">,</span> <span class="ID">self</span><span class="Operator">.</span><span class="ID">OnClick</span><span class="Operator">,</span> <span class="ID">self</span><span class="Operator">.</span><span class="ID">button</span><span
class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  11 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">button</span><span class="Operator">.</span><span class="ID">SetDefault</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  12 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">button2</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">BitmapButton</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="ID">bmp</span><span class="Operator">,</span> <span
class="ID">pos</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">100</span><span class="Operator">,</span> <span class="Number">20</span><span class="Operator">)</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  13 </span>            <span class="ID">style</span><span class="Operator">=</span><span class="Number">0</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  14 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">Bind</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">EVT_BUTTON</span><span class="Operator">,</span> <span class="ID">self</span><span class="Operator">.</span><span class="ID">OnClick</span><span class="Operator">,</span> <span class="ID">self</span><span class="Operator">.</span><span class="ID">button2</span><span
class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  15 </span></span>
<span class="line"><span class="LineNumber">  16 </span>    <span class="ResWord">def</span> <span class="ID">OnClick</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">event</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  17 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">Destroy</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  18 </span></span>
<span class="line"><span class="LineNumber">  19 </span><span class="ResWord">if</span> <span class="ID">__name__</span> <span class="Operator">==</span> <span class="String">'__main__'</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  20 </span>    <span class="ID">app</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">PySimpleApp</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  21 </span>    <span class="ID">frame</span> <span class="Operator">=</span> <span class="ID">BitmapButtonFrame</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  22 </span>    <span class="ID">frame</span><span class="Operator">.</span><span class="ID">Show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  23 </span>    <span class="ID">app</span><span class="Operator">.</span><span class="ID">MainLoop</span><span class="Operator">(</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-590" class="anchor"/><span id="line-591" class="anchor"/><p class="line862">与普通按钮的主要的区别是你需要提供一个位图，而非一个标签。否则，构造器和大部分代码是与文本按钮的例子相同的。位图按钮在被敲击时同样产生<tt>EVT_BUTTON</tt>事件。 <span id="line-592" class="anchor"/><span id="line-593" class="anchor"/></p><p
class="line862">关于位图按钮有几个有趣的特性。首先，一个样式标记<tt>wx.BU_AUTODRAW</tt>，它是默认的。如果该标记是打开的，那么位图将带有一个3D的边框，这使它看起来像一个文本按钮（图7.5中的左按钮），并且按钮比原位图大几个像素。如果该标记是关闭的，则位图被简单地绘制为按钮而没有边框。通过设置<tt>style</tt>=0使图7.5中右边的按钮关闭默认设置，它没有了3D的效果。 <span id="line-594" class="anchor"/><span id="line-595" class="anchor"/></p><p
class="line862">默认情况下，给<tt>wxPython</tt>传递单个位图作为主显示的位图，在当按钮被按下或获得焦点或无效时，<tt>wxPython</tt>自动创建一个标准的派生自主显示的位图的位图作为此时显示在按钮上的位图。如果自动创建的位图不是你想要的，你可以使用下面的方法： <span id="line-596" class="anchor"/><tt>SetBitmapDisabled()</tt>, <tt>SetBitmapFocus()</tt>,<tt>SetBitmapLabel()</tt>,
和<tt>SetBitmap</tt>-<tt>Selected()</tt>显式地告诉<tt>wxPython</tt>你要使用哪个位图。这些方法都要求一个<tt>wx.Bitmap</tt>对象作为参数，并且它们都有相应的<tt>get</tt>*()方法。 <span id="line-597" class="anchor"/><span id="line-598" class="anchor"/></p><p class="line862">你不能通过使用标准的<tt>wxWidgets</tt> C++库来合并一个位图和文本。你可以创建一个包含文本的位图。然而，正如我们将在通用按钮问题讨论中所看到的，<tt>wxPython</tt>有额外的方法来实现这一合并行为。 <span id="line-599" class="anchor"/><span id="line-600"
class="anchor"/><span id="line-601" class="anchor"/><span id="line-602" class="anchor"/></p><p class="line862">=== 如何创建开关按钮（<tt>toggle</tt> <tt>button</tt>）？=== <span id="line-603" class="anchor"/><span id="line-604" class="anchor"/><span id="line-605" class="anchor"/><span id="line-606" class="anchor"/></p><p class="line862">你可以使用<tt>wx.ToggleButton</tt>创建一个开关按钮（<tt>toggle</tt> <tt>button</tt>）。开关按钮（<tt>toggle</tt>
<tt>button</tt>）看起来十分像文本按钮，但它的行为更像复选框，它的选择或非选择状态是可视化的。换句话说，当你按下一个开关按钮（<tt>toggle</tt> <tt>button</tt>）时，它将一直保持被按下的状态直到你再次敲击它。 <span id="line-607" class="anchor"/><span id="line-608" class="anchor"/></p><p class="line862">在<tt>wx.ToggleButton</tt>与父类<tt>wx.Button</tt>之间只有丙个区别： <span id="line-609" class="anchor"/><span id="line-610" class="anchor"/></p><p
class="line862">1、当被敲击时，<tt>wx.ToggleButton</tt>发送一个<tt>EVT_TOGGLEBUTTON</tt>事件。 <span id="line-611" class="anchor"/>2、<tt>wx.ToggleButton</tt>有<tt>GetValue()</tt>和<tt>SetValue()</tt>方法，它们处理按钮的二进制状态。 <span id="line-612" class="anchor"/><span id="line-613" class="anchor"/></p><p class="line862">开关按钮（<tt>toggle</tt> <tt>button</tt>）是有用的，它相对于复选框是另一好的选择，特别是在工具栏中。记住，你不能使用<tt>wxWidgets</tt>提供的对象来将开关按钮（<tt>toggle</tt>
<tt>button</tt>）与位图按钮合并，但是<tt>wxPython</tt>有一个通用按钮类，它提供了这种行为，我们将在下一节对其作讨论。 <span id="line-614" class="anchor"/><span id="line-615" class="anchor"/><span id="line-616" class="anchor"/></p><p class="line867">
</p><h3 id="head-7baeb767c1e630c59885fc35f3e2659634003943">1.2.3. 什么是通用按钮，我为什么要使用它？</h3>
<span id="line-617" class="anchor"/><span id="line-618" class="anchor"/><span id="line-619" class="anchor"/><p class="line862">通用按钮是一个完全用<tt>Python</tt>重新实现的一个按钮窗口部件，回避了本地系统窗口部件的用法。它的父类是<tt>wx.lib.buttons.</tt> <tt>GenButton</tt>。通用按钮有通用位图和切换按钮。 <span id="line-620" class="anchor"/><span id="line-621" class="anchor"/></p><p class="line874">这儿有几个使用通用按钮的原因： <span id="line-622" class="anchor"/><span id="line-623" class="anchor"/></p><p
class="line874">1、通用按钮比本地按钮具有更好的跨平台的外观。另一方面，通用按钮可能在具体的系统上看起来与本地按钮有些微的不同。 <span id="line-624" class="anchor"/><span id="line-625" class="anchor"/></p><p class="line874">2、使用通用按钮，你对它的外观有更多的控制权，并且能改变属性，如3D斜面的宽度和颜色，而这对于本地控件可能是不允许的。 <span id="line-626" class="anchor"/><span id="line-627" class="anchor"/></p><p
class="line862">3、通用按钮类允许特性的合并，而<tt>wxWidget</tt>按钮不行。比如<tt>GenBitmapTextButton</tt>允许文本标签和位图的组合，<tt>GenBitmapToggleButton</tt>实现一个位图切换按钮。 <span id="line-628" class="anchor"/><span id="line-629" class="anchor"/></p><p class="line862">4、如果你正在创建一个按钮类，使用通用按钮是较容易的。由于其代码和参数是用<tt>Python</tt>写的，所以当创建一个新的子类的时候，对于检查和覆盖，它们的可用性更好。 <span id="line-630" class="anchor"/><span id="line-631" class="anchor"/></p><p
class="line874">图7.6显示了实际的通用按钮和常规按钮的对照。 <span id="line-632" class="anchor"/><span id="line-633" class="anchor"/><span id="line-634" class="anchor"/></p><p class="line867"><strong>图7.6</strong> <span id="line-635" class="anchor"/><span id="line-636" class="anchor"/></p><p class="line867"><img title="attachment:w7.6.gif" src="/moin/WxPythonInAction/ChapterSeven?action=AttachFile&amp;do=get&amp;target=w7.6.gif" class="attachment"/> <span id="line-637" class="anchor"/><span id="line-638"
class="anchor"/><span id="line-639" class="anchor"/></p><p class="line862">例7.6显示了产生图7.6的代码。第二个导入语句：<tt>import</tt> <tt>wx.lib.buttons</tt> <tt>as</tt> <tt>buttons</tt>，是必须的，它使得通用按钮类可用。 <span id="line-640" class="anchor"/><span id="line-641" class="anchor"/><span id="line-642" class="anchor"/></p><p class="line867"><strong>例7.6</strong>  <span id="line-643" class="anchor"/><strong>创建和使用<tt>wxPython</tt>的通用按钮</strong> <span id="line-644" class="anchor"/><span id="line-645"
class="anchor"/><span id="line-646" class="anchor"/><span id="line-647" class="anchor"/><span id="line-648" class="anchor"/><span id="line-649" class="anchor"/><span id="line-650" class="anchor"/><span id="line-651" class="anchor"/><span id="line-652" class="anchor"/><span id="line-653" class="anchor"/><span id="line-654" class="anchor"/><span id="line-655" class="anchor"/><span id="line-656" class="anchor"/><span id="line-657" class="anchor"/><span id="line-658" class="anchor"/><span id="line-659" class="anchor"/><span
id="line-660" class="anchor"/><span id="line-661" class="anchor"/><span id="line-662" class="anchor"/><span id="line-663" class="anchor"/><span id="line-664" class="anchor"/><span id="line-665" class="anchor"/><span id="line-666" class="anchor"/><span id="line-667" class="anchor"/><span id="line-668" class="anchor"/><span id="line-669" class="anchor"/><span id="line-670" class="anchor"/><span id="line-671" class="anchor"/><span id="line-672" class="anchor"/><span id="line-673" class="anchor"/><span id="line-674"
class="anchor"/><span id="line-675" class="anchor"/><span id="line-676" class="anchor"/><span id="line-677" class="anchor"/><span id="line-678" class="anchor"/><span id="line-679" class="anchor"/><span id="line-680" class="anchor"/><span id="line-681" class="anchor"/><span id="line-682" class="anchor"/><span id="line-683" class="anchor"/><span id="line-684" class="anchor"/><span id="line-685" class="anchor"/><span id="line-686" class="anchor"/><span id="line-687" class="anchor"/><span id="line-688" class="anchor"/><span
id="line-689" class="anchor"/><span id="line-690" class="anchor"/><span id="line-691" class="anchor"/><span id="line-692" class="anchor"/><span id="line-693" class="anchor"/><span id="line-694" class="anchor"/><span id="line-695" class="anchor"/><span id="line-696" class="anchor"/><span id="line-697" class="anchor"/><span id="line-698" class="anchor"/><span id="line-699" class="anchor"/><span id="line-700" class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-7814b889d682dbea14a555f3f0af12c0afaa3154_006\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-7814b889d682dbea14a555f3f0af12c0afaa3154_006', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-7814b889d682dbea14a555f3f0af12c0afaa3154_006" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="ResWord">import</span> <span class="ID">wx</span></span>
<span class="line"><span class="LineNumber">   2 </span><span class="ResWord">import</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">lib</span><span class="Operator">.</span><span class="ID">buttons</span> <span class="ResWord">as</span> <span class="ID">buttons</span></span>
<span class="line"><span class="LineNumber">   3 </span></span>
<span class="line"><span class="LineNumber">   4 </span><span class="ResWord">class</span> <span class="ID">GenericButtonFrame</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   5 </span>    <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   6 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">None</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">'Generic Button
Example'</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">   7 </span>                <span class="ID">size</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">500</span><span class="Operator">,</span> <span class="Number">350</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   8 </span>        <span class="ID">panel</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Panel</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   9 </span></span>
<span class="line"><span class="LineNumber">  10 </span>        <span class="ID">sizer</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">FlexGridSizer</span><span class="Operator">(</span><span class="Number">1</span><span class="Operator">,</span> <span class="Number">3</span><span class="Operator">,</span> <span class="Number">20</span><span class="Operator">,</span> <span class="Number">20</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  11 </span>        <span class="ID">b</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Button</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">"A wx.Button"</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  12 </span>        <span class="ID">b</span><span class="Operator">.</span><span class="ID">SetDefault</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  13 </span>        <span class="ID">sizer</span><span class="Operator">.</span><span class="ID">Add</span><span class="Operator">(</span><span class="ID">b</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  14 </span></span>
<span class="line"><span class="LineNumber">  15 </span>        <span class="ID">b</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Button</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">"non-default wx.Button"</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  16 </span>        <span class="ID">sizer</span><span class="Operator">.</span><span class="ID">Add</span><span class="Operator">(</span><span class="ID">b</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  17 </span>        <span class="ID">sizer</span><span class="Operator">.</span><span class="ID">Add</span><span class="Operator">(</span><span class="Operator">(</span><span class="Number">10</span><span class="Operator">,</span><span class="Number">10</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  18 </span></span>
<span class="line"><span class="LineNumber">  19 </span>        <span class="ID">b</span> <span class="Operator">=</span> <span class="ID">buttons</span><span class="Operator">.</span><span class="ID">GenButton</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">'Genric Button'</span><span class="Operator">)</span><span
class="Comment">#基本的通用按钮</span></span>
<span class="line"><span class="LineNumber">  20 </span>        <span class="ID">sizer</span><span class="Operator">.</span><span class="ID">Add</span><span class="Operator">(</span><span class="ID">b</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  21 </span></span>
<span class="line"><span class="LineNumber">  22 </span>        <span class="ID">b</span> <span class="Operator">=</span> <span class="ID">buttons</span><span class="Operator">.</span><span class="ID">GenButton</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">'disabled Generic'</span><span class="Operator">)</span><span
class="Comment">#无效的通用按钮</span></span>
<span class="line"><span class="LineNumber">  23 </span>        <span class="ID">b</span><span class="Operator">.</span><span class="ID">Enable</span><span class="Operator">(</span><span class="ID">False</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  24 </span>        <span class="ID">sizer</span><span class="Operator">.</span><span class="ID">Add</span><span class="Operator">(</span><span class="ID">b</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  25 </span></span>
<span class="line"><span class="LineNumber">  26 </span>        <span class="ID">b</span> <span class="Operator">=</span> <span class="ID">buttons</span><span class="Operator">.</span><span class="ID">GenButton</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">'bigger'</span><span class="Operator">)</span><span
class="Comment">#自定义尺寸和颜色的按钮</span></span>
<span class="line"><span class="LineNumber">  27 </span>        <span class="ID">b</span><span class="Operator">.</span><span class="ID">SetFont</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">Font</span><span class="Operator">(</span><span class="Number">20</span><span class="Operator">,</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">SWISS</span><span class="Operator">,</span> <span class="ID">wx</span><span
class="Operator">.</span><span class="ID">NORMAL</span><span class="Operator">,</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">BOLD</span><span class="Operator">,</span> <span class="ID">False</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  28 </span>        <span class="ID">b</span><span class="Operator">.</span><span class="ID">SetBezelWidth</span><span class="Operator">(</span><span class="Number">5</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  29 </span>        <span class="ID">b</span><span class="Operator">.</span><span class="ID">SetBackgroundColour</span><span class="Operator">(</span><span class="String">"Navy"</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  30 </span>        <span class="ID">b</span><span class="Operator">.</span><span class="ID">SetForegroundColour</span><span class="Operator">(</span><span class="String">"white"</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  31 </span>        <span class="ID">b</span><span class="Operator">.</span><span class="ID">SetToolTipString</span><span class="Operator">(</span><span class="String">"This is a BIG button..."</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  32 </span>        <span class="ID">sizer</span><span class="Operator">.</span><span class="ID">Add</span><span class="Operator">(</span><span class="ID">b</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  33 </span></span>
<span class="line"><span class="LineNumber">  34 </span>        <span class="ID">bmp</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Image</span><span class="Operator">(</span><span class="String">"bitmap.bmp"</span><span class="Operator">,</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">BITMAP_TYPE_BMP</span><span class="Operator">)</span><span class="Operator">.</span><span
class="ID">ConvertToBitmap</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  35 </span>        <span class="ID">b</span> <span class="Operator">=</span> <span class="ID">buttons</span><span class="Operator">.</span><span class="ID">GenBitmapButton</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="ID">bmp</span><span class="Operator">)</span><span
class="Comment">#通用位图按钮</span></span>
<span class="line"><span class="LineNumber">  36 </span>        <span class="ID">sizer</span><span class="Operator">.</span><span class="ID">Add</span><span class="Operator">(</span><span class="ID">b</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  37 </span></span>
<span class="line"><span class="LineNumber">  38 </span>        <span class="ID">b</span> <span class="Operator">=</span> <span class="ID">buttons</span><span class="Operator">.</span><span class="ID">GenBitmapToggleButton</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="ID">bmp</span><span class="Operator">)</span><span
class="Comment">#通用位图开关按钮</span></span>
<span class="line"><span class="LineNumber">  39 </span>        <span class="ID">sizer</span><span class="Operator">.</span><span class="ID">Add</span><span class="Operator">(</span><span class="ID">b</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  40 </span></span>
<span class="line"><span class="LineNumber">  41 </span>        <span class="ID">b</span> <span class="Operator">=</span> <span class="ID">buttons</span><span class="Operator">.</span><span class="ID">GenBitmapTextButton</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="ID">bmp</span><span class="Operator">,</span> <span class="String">"Bitmapped
Text"</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  42 </span>                <span class="ID">size</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">175</span><span class="Operator">,</span> <span class="Number">75</span><span class="Operator">)</span><span class="Operator">)</span><span class="Comment">#位图文本按钮</span></span>
<span class="line"><span class="LineNumber">  43 </span>        <span class="ID">b</span><span class="Operator">.</span><span class="ID">SetUseFocusIndicator</span><span class="Operator">(</span><span class="ID">False</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  44 </span>        <span class="ID">sizer</span><span class="Operator">.</span><span class="ID">Add</span><span class="Operator">(</span><span class="ID">b</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  45 </span></span>
<span class="line"><span class="LineNumber">  46 </span>        <span class="ID">b</span> <span class="Operator">=</span> <span class="ID">buttons</span><span class="Operator">.</span><span class="ID">GenToggleButton</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">"Toggle Button"</span><span class="Operator">)</span><span
class="Comment">#通用开关按钮</span></span>
<span class="line"><span class="LineNumber">  47 </span>        <span class="ID">sizer</span><span class="Operator">.</span><span class="ID">Add</span><span class="Operator">(</span><span class="ID">b</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  48 </span></span>
<span class="line"><span class="LineNumber">  49 </span>        <span class="ID">panel</span><span class="Operator">.</span><span class="ID">SetSizer</span><span class="Operator">(</span><span class="ID">sizer</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  50 </span></span>
<span class="line"><span class="LineNumber">  51 </span><span class="ResWord">if</span> <span class="ID">__name__</span> <span class="Operator">==</span> <span class="String">'__main__'</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  52 </span>    <span class="ID">app</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">PySimpleApp</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  53 </span>    <span class="ID">frame</span> <span class="Operator">=</span> <span class="ID">GenericButtonFrame</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  54 </span>    <span class="ID">frame</span><span class="Operator">.</span><span class="ID">Show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  55 </span>    <span class="ID">app</span><span class="Operator">.</span><span class="ID">MainLoop</span><span class="Operator">(</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-701" class="anchor"/><p class="line862">在例7.6中，通用按钮的用法非常类似于常规按钮。通用按钮产生与常规按钮同样的<tt>EVT_BUTTON</tt> 和 <tt>EVT_TOGGLEBUTTON</tt>事件。通用按钮引入了<tt>GetBevelWidth()</tt>和<tt>SetBevelWidth()</tt>方法来改变3D斜面效果。它们用在了图7.6中大按钮上。 <span id="line-702" class="anchor"/><span id="line-703" class="anchor"/></p><p
class="line862">通用位图按钮类<tt>GenBitmapButton</tt>工作的像标准的<tt>wxPython</tt>版本。在构造器中。<tt>GenBitmapTextButton</tt>要求先要一个位图，然后是文本。通用类<tt>GenToggleButton</tt>,<tt>GenBitmapToggleButton</tt>,和 <span id="line-704" class="anchor"/><tt>GenBitmapTextToggleButton</tt>与非开关版的一样，并且对于处理按钮的开关状态响应于<tt>GetToggle()</tt> 和 <tt>SetToggle()</tt>。 <span id="line-705" class="anchor"/><span id="line-706" class="anchor"/></p><p
class="line874">在下一节，我们将讨论关于使你的用户能够输入或观看一个数字值的方案。 <span id="line-707" class="anchor"/><span id="line-708" class="anchor"/><span id="line-709" class="anchor"/><span id="line-710" class="anchor"/></p><p class="line867">
</p><h2 id="head-3f1d538dfddd8e8754ff057470440427e37cdca8">1.3. 输入并显示数字</h2>
<span id="line-711" class="anchor"/><span id="line-712" class="anchor"/><span id="line-713" class="anchor"/><p class="line862">有时你想要显示图形化的数字信息，或你想让用户不必使用键盘来输入一个数字量。在这一节，我们将浏览<tt>wxPython</tt>中用于数字输入和显示的工具：滑块（<tt>slider</tt>）、微调控制框和显示量度的标尺。 <span id="line-714" class="anchor"/><span id="line-715" class="anchor"/><span id="line-716" class="anchor"/></p><p class="line867">
</p><h3 id="head-42fb3fd99284cc6c16f2337a40b0c71acfd9887d">1.3.1. 如何生成一个滑块？</h3>
<span id="line-717" class="anchor"/><span id="line-718" class="anchor"/><span id="line-719" class="anchor"/><p class="line862">滑块是一个窗口部件，它允许用户通过在该控件的尺度内拖动指示器来选择一个数值。在<tt>wxPython</tt>中，该控件类是<tt>wx.Slider</tt>，它包括了滑块的当前值的只读文本的显示。图7.7显示了水平和垂直滑块的例子。 <span id="line-720" class="anchor"/><span id="line-721" class="anchor"/><span id="line-722" class="anchor"/></p><p class="line867"><strong>图7.7</strong> <span id="line-723"
class="anchor"/><span id="line-724" class="anchor"/></p><p class="line867"><img title="attachment:w7.7.gif" src="/moin/WxPythonInAction/ChapterSeven?action=AttachFile&amp;do=get&amp;target=w7.7.gif" class="attachment"/> <span id="line-725" class="anchor"/><span id="line-726" class="anchor"/><span id="line-727" class="anchor"/></p><p class="line874">滑块的基本使用是十分简单的，但是你可以增加许多事件。 <span id="line-728" class="anchor"/><span id="line-729" class="anchor"/><span id="line-730"
class="anchor"/></p><p class="line867"><strong>如何使用滑块</strong> <span id="line-731" class="anchor"/><span id="line-732" class="anchor"/></p><p class="line874">例7.7是产生图7.7的例子。 <span id="line-733" class="anchor"/><span id="line-734" class="anchor"/><span id="line-735" class="anchor"/></p><p class="line867"><strong>例7.7</strong>  <span id="line-736" class="anchor"/><strong>水平和垂直滑块的显示代码</strong> <span id="line-737" class="anchor"/><span id="line-738" class="anchor"/><span
id="line-739" class="anchor"/><span id="line-740" class="anchor"/><span id="line-741" class="anchor"/><span id="line-742" class="anchor"/><span id="line-743" class="anchor"/><span id="line-744" class="anchor"/><span id="line-745" class="anchor"/><span id="line-746" class="anchor"/><span id="line-747" class="anchor"/><span id="line-748" class="anchor"/><span id="line-749" class="anchor"/><span id="line-750" class="anchor"/><span id="line-751" class="anchor"/><span id="line-752" class="anchor"/><span
id="line-753" class="anchor"/><span id="line-754" class="anchor"/><span id="line-755" class="anchor"/><span id="line-756" class="anchor"/><span id="line-757" class="anchor"/><span id="line-758" class="anchor"/><span id="line-759" class="anchor"/><span id="line-760" class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-47c8eed974698abe478d27bd37383cf4bb6bd7d9_007\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-47c8eed974698abe478d27bd37383cf4bb6bd7d9_007', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-47c8eed974698abe478d27bd37383cf4bb6bd7d9_007" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="ResWord">import</span> <span class="ID">wx</span></span>
<span class="line"><span class="LineNumber">   2 </span></span>
<span class="line"><span class="LineNumber">   3 </span><span class="ResWord">class</span> <span class="ID">SliderFrame</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   4 </span>    <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   5 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">None</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">'Slider
Example'</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">   6 </span>                <span class="ID">size</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">300</span><span class="Operator">,</span> <span class="Number">350</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   7 </span>        <span class="ID">panel</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Panel</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   8 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">count</span> <span class="Operator">=</span> <span class="Number">0</span></span>
<span class="line"><span class="LineNumber">   9 </span>        <span class="ID">slider</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Slider</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Number">100</span><span class="Operator">,</span> <span class="Number">25</span><span class="Operator">,</span> <span class="Number">1</span><span class="Operator">,</span>
<span class="Number">100</span><span class="Operator">,</span> <span class="ID">pos</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">10</span><span class="Operator">,</span> <span class="Number">10</span><span class="Operator">)</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  10 </span>                <span class="ID">size</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">250</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">)</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  11 </span>                <span class="ID">style</span><span class="Operator">=</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">SL_HORIZONTAL</span> <span class="Operator">|</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">SL_AUTOTICKS</span> <span class="Operator">|</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">SL_LABELS</span> <span
class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  12 </span>        <span class="ID">slider</span><span class="Operator">.</span><span class="ID">SetTickFreq</span><span class="Operator">(</span><span class="Number">5</span><span class="Operator">,</span> <span class="Number">1</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  13 </span>        <span class="ID">slider</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Slider</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Number">100</span><span class="Operator">,</span> <span class="Number">25</span><span class="Operator">,</span> <span class="Number">1</span><span class="Operator">,</span>
<span class="Number">100</span><span class="Operator">,</span> <span class="ID">pos</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">125</span><span class="Operator">,</span> <span class="Number">70</span><span class="Operator">)</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  14 </span>                <span class="ID">size</span><span class="Operator">=</span><span class="Operator">(</span><span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="Number">250</span><span class="Operator">)</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  15 </span>                <span class="ID">style</span><span class="Operator">=</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">SL_VERTICAL</span> <span class="Operator">|</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">SL_AUTOTICKS</span> <span class="Operator">|</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">SL_LABELS</span> <span
class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  16 </span>        <span class="ID">slider</span><span class="Operator">.</span><span class="ID">SetTickFreq</span><span class="Operator">(</span><span class="Number">20</span><span class="Operator">,</span> <span class="Number">1</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  17 </span></span>
<span class="line"><span class="LineNumber">  18 </span><span class="ResWord">if</span> <span class="ID">__name__</span> <span class="Operator">==</span> <span class="String">'__main__'</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  19 </span>    <span class="ID">app</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">PySimpleApp</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  20 </span>    <span class="ID">frame</span> <span class="Operator">=</span> <span class="ID">SliderFrame</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  21 </span>    <span class="ID">frame</span><span class="Operator">.</span><span class="ID">Show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  22 </span>    <span class="ID">app</span><span class="Operator">.</span><span class="ID">MainLoop</span><span class="Operator">(</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-761" class="anchor"/><p class="line862">通常，当你使用<tt>wx.Slider</tt>类时，所有你所需要的就是一个构造函数，它与别的调用不同，如下所示： <span id="line-762" class="anchor"/><span id="line-763" class="anchor"/></p><p class="line867"><tt>wx.Slider(parent</tt>, <tt>id</tt>, <tt>value</tt>, <tt>minValue</tt>, <tt>maxValue</tt>, <span id="line-764" class="anchor"/><tt>pos</tt>=<tt>wxDefaultPosition</tt>, <tt>size</tt>=<tt>wx.DefaultSize</tt>, <span id="line-765"
class="anchor"/><tt>style</tt>=<tt>wx.SL_HORIZONTAL</tt>, <tt>validator</tt>=<tt>wx.DefaultValidator</tt>, <span id="line-766" class="anchor"/><tt>name</tt>="<tt>slider</tt>") <span id="line-767" class="anchor"/><span id="line-768" class="anchor"/></p><p class="line867"><tt>value</tt>是滑块的初始值，而<tt>minValue</tt>和<tt>maxValue</tt>是两端的值。 <span id="line-769" class="anchor"/><span id="line-770" class="anchor"/><span id="line-771" class="anchor"/></p><p
class="line867"><strong>使用滑块样式工作</strong> <span id="line-772" class="anchor"/><span id="line-773" class="anchor"/></p><p class="line874">滑块的样式管理滑块的位置和方向，如下表7.9所示。 <span id="line-774" class="anchor"/><span id="line-775" class="anchor"/><span id="line-776" class="anchor"/></p><p class="line867"><strong>表7.9</strong>  <span id="line-777" class="anchor"/><strong><tt>wx.Slider</tt>的样式</strong> <span id="line-778" class="anchor"/><span id="line-779"
class="anchor"/></p><p class="line867"><tt>wx.SL_AUTOTICKS</tt>：如果设置这个样式，则滑块将显示刻度。刻度间的间隔通过<tt>SetTickFreq</tt>方法来控制。 <span id="line-780" class="anchor"/><span id="line-781" class="anchor"/></p><p class="line867"><tt>wx.SL_HORIZONTAL</tt>：水平滑块。这是默认值。 <span id="line-782" class="anchor"/><span id="line-783" class="anchor"/></p><p
class="line867"><tt>wx.SL_LABELS</tt>：如果设置这个样式，那么滑块将显示两头的值和滑块的当前只读值。有些平台可能不会显示当前值。 <span id="line-784" class="anchor"/><span id="line-785" class="anchor"/></p><p class="line867"><tt>wx.SL_LEFT</tt>：用于垂直滑块，刻度位于滑块的左边。 <span id="line-786" class="anchor"/><span id="line-787" class="anchor"/></p><p class="line867"><tt>wx.SL_RIGHT</tt>：用于垂直滑块，刻度位于滑块的右边。 <span id="line-788" class="anchor"/><span id="line-789"
class="anchor"/></p><p class="line867"><tt>wx.SL_TOP</tt>：用于水平滑块，刻度位于滑块的上部。 <span id="line-790" class="anchor"/><span id="line-791" class="anchor"/></p><p class="line867"><tt>wx.SL_VERTICAL</tt>：垂直滑块。 <span id="line-792" class="anchor"/><span id="line-793" class="anchor"/></p><p class="line874">如果你想通过改变滑块中的值来影响你的应用程序中的其它的部分，那么这儿有几个你可使用的事件。这些事件与窗口滚动条所发出的是相同的，详细的说明参见第8章的滚动条部分。 <span
id="line-794" class="anchor"/><span id="line-795" class="anchor"/></p><p class="line862">表7.10列出了你可用于滑块的<tt>Set</tt>*()方法。每个<tt>Set</tt>*()方法都有一个对应的<tt>Get</tt>方法——<tt>Get</tt>方法的描述参考其对应的<tt>Set</tt>*()方法。 <span id="line-796" class="anchor"/><span id="line-797" class="anchor"/><span id="line-798" class="anchor"/></p><p class="line867"><strong>表7.10</strong> <span id="line-799" class="anchor"/><span id="line-800" class="anchor"/></p><p
class="line867"><tt>GetRange()</tt> <span id="line-801" class="anchor"/><tt>SetRange(minValue</tt>, <tt>maxValue)</tt>：设置滑块的两端值。 <span id="line-802" class="anchor"/><span id="line-803" class="anchor"/></p><p class="line867"><tt>GetTickFreq()</tt> <span id="line-804" class="anchor"/><tt>SetTickFreq(n</tt>, <tt>pos)</tt>：使用参数n设置刻度的间隔。参数<tt>pos</tt>没有被使用，但是它仍然是必要的，将它设置为1。 <span id="line-805" class="anchor"/><span id="line-806"
class="anchor"/></p><p class="line867"><tt>GetLineSize()</tt> <span id="line-807" class="anchor"/><tt>SetLineSize(lineSize)</tt>：设置你每按一下方向键，滑块所增加或减少的值。 <span id="line-808" class="anchor"/><span id="line-809" class="anchor"/></p><p class="line867"><tt>GetPageSize()</tt> <span id="line-810" class="anchor"/><tt>SetPageSize(pageSize)</tt>：设置你每按一下<tt>PgUp</tt>或<tt>PgDn</tt>键，滑块所增加或减少的值。 <span id="line-811" class="anchor"/><span id="line-812"
class="anchor"/></p><p class="line867"><tt>GetValue()</tt> <span id="line-813" class="anchor"/><tt>SetValue(value)</tt>：设置滑块的值。 <span id="line-814" class="anchor"/><span id="line-815" class="anchor"/></p><p class="line874">尽管滑块提供了一个可能范围内的值的快速的可视化的表示，但是它们也有两个缺点。其一是它们占据了许多的空间，另外就是使用鼠标精确地设置滑块是困难的。下面我们将讨论的微调控制器解决了上面的这两个问题。 <span id="line-816" class="anchor"/><span id="line-817"
class="anchor"/><span id="line-818" class="anchor"/></p><p class="line867">
</p><h3 id="head-4c733c99e7f1d25e7d112374bd20768522d16e1e">1.3.2. 如何得到那些灵巧的上下箭头按钮？</h3>
<span id="line-819" class="anchor"/><span id="line-820" class="anchor"/><span id="line-821" class="anchor"/><p class="line862">微调控制器是文本控件和一对箭头按钮的组合，它用于调整数字值，并且在你要求一个最小限度的屏幕空间的时候，它是替代滑块的最好选择。图7.8显示了<tt>wxPython</tt>的微调控制器控件。 <span id="line-822" class="anchor"/><span id="line-823" class="anchor"/></p><p class="line874">图7.8 <span id="line-824" class="anchor"/><span id="line-825" class="anchor"/></p><p
class="line867"><img title="attachment:w7.8.gif" src="/moin/WxPythonInAction/ChapterSeven?action=AttachFile&amp;do=get&amp;target=w7.8.gif" class="attachment"/> <span id="line-826" class="anchor"/><span id="line-827" class="anchor"/><span id="line-828" class="anchor"/></p><p class="line862">在<tt>wxPython</tt>中，类<tt>wx.SpinCtrl</tt>管理微调按钮和相应的文本显示。在接下来的部分，我们将创建一个微调控制器。 <span id="line-829" class="anchor"/><span id="line-830" class="anchor"/><span
id="line-831" class="anchor"/></p><p class="line867"><strong>如何创建一个微调控制器</strong> <span id="line-832" class="anchor"/><span id="line-833" class="anchor"/></p><p class="line862">要使用<tt>wx.SpinCtrl</tt>来改变值，可通过按箭头按钮或通过在文本控件中输入。键入的非数字的文本将被忽略，尽管控件显示的是键入的非数字的文本。一个超出范围的值将被认作是相应的最大或最小值，尽管显示的是你输入的值。例7.8显示了<tt>wx.SpinCtrl</tt>的用法。 <span id="line-834" class="anchor"/><span id="line-835"
class="anchor"/><span id="line-836" class="anchor"/></p><p class="line867"><strong>例7.8</strong>  <span id="line-837" class="anchor"/><strong>使用<tt>wx.SpinCtrl</tt></strong> <span id="line-838" class="anchor"/><span id="line-839" class="anchor"/><span id="line-840" class="anchor"/><span id="line-841" class="anchor"/><span id="line-842" class="anchor"/><span id="line-843" class="anchor"/><span id="line-844" class="anchor"/><span id="line-845" class="anchor"/><span id="line-846"
class="anchor"/><span id="line-847" class="anchor"/><span id="line-848" class="anchor"/><span id="line-849" class="anchor"/><span id="line-850" class="anchor"/><span id="line-851" class="anchor"/><span id="line-852" class="anchor"/><span id="line-853" class="anchor"/><span id="line-854" class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-cb93a8c8d4f3224cfacb7049c444fdaa5900129f_008\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-cb93a8c8d4f3224cfacb7049c444fdaa5900129f_008', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-cb93a8c8d4f3224cfacb7049c444fdaa5900129f_008" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="ResWord">import</span> <span class="ID">wx</span></span>
<span class="line"><span class="LineNumber">   2 </span></span>
<span class="line"><span class="LineNumber">   3 </span><span class="ResWord">class</span> <span class="ID">SpinnerFrame</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   4 </span>    <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   5 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">None</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span
class="String">'Spinner Example'</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">   6 </span>                <span class="ID">size</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">100</span><span class="Operator">,</span> <span class="Number">100</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   7 </span>        <span class="ID">panel</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Panel</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   8 </span>        <span class="ID">sc</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">SpinCtrl</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">""</span><span class="Operator">,</span> <span
class="Operator">(</span><span class="Number">30</span><span class="Operator">,</span> <span class="Number">20</span><span class="Operator">)</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">80</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   9 </span>        <span class="ID">sc</span><span class="Operator">.</span><span class="ID">SetRange</span><span class="Operator">(</span><span class="Number">1</span><span class="Operator">,</span><span class="Number">100</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  10 </span>        <span class="ID">sc</span><span class="Operator">.</span><span class="ID">SetValue</span><span class="Operator">(</span><span class="Number">5</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  11 </span></span>
<span class="line"><span class="LineNumber">  12 </span><span class="ResWord">if</span> <span class="ID">__name__</span> <span class="Operator">==</span> <span class="String">'__main__'</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  13 </span>    <span class="ID">app</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">PySimpleApp</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  14 </span>    <span class="ID">SpinnerFrame</span><span class="Operator">(</span><span class="Operator">)</span><span class="Operator">.</span><span class="ID">Show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  15 </span>    <span class="ID">app</span><span class="Operator">.</span><span class="ID">MainLoop</span><span class="Operator">(</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-855" class="anchor"/><p class="line874">几乎微调控件所有复杂的东西都是在其构造函数中，其构造函数如下： <span id="line-856" class="anchor"/><span id="line-857" class="anchor"/></p><p class="line867"><tt>wx.SpinCtrl(parent</tt>, <tt>id</tt>=-1, <tt>value</tt>=<tt>wx.EmptyString</tt>, <span id="line-858" class="anchor"/><tt>pos</tt>=<tt>wx.DefaultPosition</tt>, <tt>size</tt>=<tt>wx.DefaultSize</tt>, <span id="line-859"
class="anchor"/><tt>style</tt>=<tt>wx.SP_ARROW_KEYS</tt>, <tt>min</tt>=0, <tt>max</tt>=100, <tt>initial</tt>=0, <span id="line-860" class="anchor"/><tt>name</tt>="<tt>wxSpinCtrl</tt>") <span id="line-861" class="anchor"/><span id="line-862" class="anchor"/></p><p class="line862">参数<tt>value</tt>是虚设的。使用<tt>initial</tt>参数来设置该控件的值，并使用<tt>min</tt>和<tt>max</tt>来设置该控件的范围。 <span id="line-863" class="anchor"/><span id="line-864"
class="anchor"/></p><p
class="line862">对于<tt>wx.SpinCtrl</tt>有两个样式标记。默认样式是<tt>wx.SP_ARROW_KEYS</tt>，它允许用户通过键盘上的上下箭头键来改变控件的值。样式<tt>wx.SP_WRAP</tt>使得控件中的值可以循环改变，也就是说你通过箭头按钮改变控件中的值到最大或最小值时，如果再继续，值将变为最小或最大，从一个极端到另一个极端。你也可以捕获<tt>EVT_SPINCTRL</tt>事件，它在当控件的值改变时产生（即使改变是直接由文本输入引起的）。如果文本改变了，将引发一个<tt>EVT_TEXT</tt>事件，就如同你使用一个单独的文本控件时一样。
<span id="line-865" class="anchor"/><span id="line-866" class="anchor"/></p><p class="line862">如例7.8所示，你可以使用<tt>SetRange(minVal</tt>, <tt>maxVal)</tt> 和 <tt>SetValue(value)</tt>方法来设置范围和值。<tt>SetValue()</tt>函数要求一个字符串或一个整数。要得到值，使用方法：<tt>GetValue()</tt>（它返回一个整数）, <tt>GetMin()</tt>, 和 <tt>GetMax()</tt>。 <span id="line-867" class="anchor"/><span id="line-868" class="anchor"/></p><p
class="line862">当你需要对微调控制器的行为有更多的控制时，如允许浮点数或一个字符串的列表，你可以把一个<tt>wx.SpinButton</tt>和一个<tt>wx.TextCtrl</tt>放到一起，并在它们之间建立一个联系。然后捕获来自<tt>wx.SpinButton</tt>的事件，并更新<tt>wx.TextCtrl</tt>中的值。 <span id="line-869" class="anchor"/><span id="line-870" class="anchor"/><span id="line-871" class="anchor"/><span id="line-872" class="anchor"/><span id="line-873" class="anchor"/></p><p class="line867">
</p><h3 id="head-69137a288b7010f321d835ef2016cee36df2f431">1.3.3. 如何生成一个进度条？</h3>
<span id="line-874" class="anchor"/><span id="line-875" class="anchor"/><span id="line-876" class="anchor"/><p class="line862">如果你只想图形化地显示一个数字值而不允许用户改变它，那么使用相应的<tt>wxPython</tt>窗口部件<tt>wx.Gauge</tt>。 <span id="line-877" class="anchor"/>相关的例子就是图7.9所显示的进度条。 <span id="line-878" class="anchor"/><span id="line-879" class="anchor"/><span id="line-880" class="anchor"/></p><p class="line867"><strong>图7.9</strong> <span
id="line-881" class="anchor"/><span id="line-882" class="anchor"/></p><p class="line867"><img title="attachment:w7.9.gif" src="/moin/WxPythonInAction/ChapterSeven?action=AttachFile&amp;do=get&amp;target=w7.9.gif" class="attachment"/> <span id="line-883" class="anchor"/><span id="line-884" class="anchor"/><span id="line-885" class="anchor"/></p><p
class="line874">例7.9显示了产生图7.9的代码。与本章中许多别的例子不同的是，这里我们增加了一个事件处理器。下面的代码在空闭时调整标尺的值，使得值周而复始的变化。 <span id="line-886" class="anchor"/><span id="line-887" class="anchor"/><span id="line-888" class="anchor"/></p><p class="line867"><strong>例7.9</strong>  <span id="line-889" class="anchor"/><strong>显示并更新一个<tt>wx.Gauge</tt></strong> <span id="line-890" class="anchor"/><span id="line-891" class="anchor"/><span
id="line-892" class="anchor"/><span id="line-893" class="anchor"/><span id="line-894" class="anchor"/><span id="line-895" class="anchor"/><span id="line-896" class="anchor"/><span id="line-897" class="anchor"/><span id="line-898" class="anchor"/><span id="line-899" class="anchor"/><span id="line-900" class="anchor"/><span id="line-901" class="anchor"/><span id="line-902" class="anchor"/><span id="line-903" class="anchor"/><span id="line-904" class="anchor"/><span
id="line-905" class="anchor"/><span id="line-906" class="anchor"/><span id="line-907" class="anchor"/><span id="line-908" class="anchor"/><span id="line-909" class="anchor"/><span id="line-910" class="anchor"/><span id="line-911" class="anchor"/><span id="line-912" class="anchor"/><span id="line-913" class="anchor"/><span id="line-914" class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-a0924d5b2613c99476dd280fbb63f4da1e3c82e8_009\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-a0924d5b2613c99476dd280fbb63f4da1e3c82e8_009', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-a0924d5b2613c99476dd280fbb63f4da1e3c82e8_009" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="ResWord">import</span> <span class="ID">wx</span></span>
<span class="line"><span class="LineNumber">   2 </span></span>
<span class="line"><span class="LineNumber">   3 </span><span class="ResWord">class</span> <span class="ID">GaugeFrame</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   4 </span>    <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   5 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">None</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span
class="String">'Gauge Example'</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">   6 </span>                <span class="ID">size</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">350</span><span class="Operator">,</span> <span class="Number">150</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   7 </span>        <span class="ID">panel</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Panel</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   8 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">count</span> <span class="Operator">=</span> <span class="Number">0</span></span>
<span class="line"><span class="LineNumber">   9 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">gauge</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Gauge</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span
class="Number">50</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">20</span><span class="Operator">,</span> <span class="Number">50</span><span class="Operator">)</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">250</span><span class="Operator">,</span> <span class="Number">25</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  10 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">gauge</span><span class="Operator">.</span><span class="ID">SetBezelFace</span><span class="Operator">(</span><span class="Number">3</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  11 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">gauge</span><span class="Operator">.</span><span class="ID">SetShadowWidth</span><span class="Operator">(</span><span class="Number">3</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  12 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">Bind</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">EVT_IDLE</span><span class="Operator">,</span> <span class="ID">self</span><span class="Operator">.</span><span class="ID">OnIdle</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  13 </span></span>
<span class="line"><span class="LineNumber">  14 </span>    <span class="ResWord">def</span> <span class="ID">OnIdle</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">event</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  15 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">count</span> <span class="Operator">=</span> <span class="ID">self</span><span class="Operator">.</span><span class="ID">count</span> <span class="Operator">+</span> <span class="Number">1</span></span>
<span class="line"><span class="LineNumber">  16 </span>        <span class="ResWord">if</span> <span class="ID">self</span><span class="Operator">.</span><span class="ID">count</span>  <span class="Operator">=</span> <span class="Number">50</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  17 </span>            <span class="ID">self</span><span class="Operator">.</span><span class="ID">count</span> <span class="Operator">=</span> <span class="Number">0</span></span>
<span class="line"><span class="LineNumber">  18 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">gauge</span><span class="Operator">.</span><span class="ID">SetValue</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">.</span><span class="ID">count</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  19 </span></span>
<span class="line"><span class="LineNumber">  20 </span><span class="ResWord">if</span> <span class="ID">__name__</span> <span class="Operator">==</span> <span class="String">'__main__'</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  21 </span>    <span class="ID">app</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">PySimpleApp</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  22 </span>    <span class="ID">GaugeFrame</span><span class="Operator">(</span><span class="Operator">)</span><span class="Operator">.</span><span class="ID">Show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  23 </span>    <span class="ID">app</span><span class="Operator">.</span><span class="ID">MainLoop</span><span class="Operator">(</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-915" class="anchor"/><p class="line867"><tt>wx.Gauge</tt>的构造函数类似于其它的数字的窗口部件： <span id="line-916" class="anchor"/><span id="line-917" class="anchor"/></p><p class="line867"><tt>wx.Gauge(parent</tt>, <tt>id</tt>, <tt>range</tt>, <tt>pos</tt>=<tt>wx.DefaultPosition</tt>, <span id="line-918" class="anchor"/><tt>size</tt>=<tt>wx.DefaultSize</tt>, <tt>style</tt>=<tt>wx.GA_HORIZONTAL</tt>, <span id="line-919"
class="anchor"/><tt>validator</tt>=<tt>wx.DefaultValidator</tt>, <tt>name</tt>="<tt>gauge</tt>") <span id="line-920" class="anchor"/><span id="line-921" class="anchor"/></p><p
class="line862">当你使用参数<tt>range</tt>来指定数字值时，该值代表标尺的上限，而下限总是0。默认样式<tt>wx.GA_HORIZONTAL</tt>提供了一个水平条。要将它旋转90度，使用<tt>wx.GA_VERTICAL</tt>样式。如果你是在<tt>Windows</tt>上，那么样式<tt>wx.GA_PROGRESSBAR</tt>给你的是来自<tt>Windows</tt>工具包的本地化的进度条。 <span id="line-922" class="anchor"/><span id="line-923" class="anchor"/></p><p
class="line862">作为一个只读控件，<tt>wx.Gauge</tt>没有事件。然而，它的属性你可以设置。你可以使用<tt>GetValue()</tt>, <tt>Set</tt>-<tt>Value(pos)</tt>, <tt>GetRange()</tt>, 和 <tt>SetRange(range)</tt>来调整它的值和范围。如果你是在<tt>Windows</tt>上，并且没有使用本地进度条样式，那么你可以使用<tt>SetBezelFace(width)</tt> <tt>and</tt> <tt>SetShadowWidth()</tt>来改变3D效果的宽度。 <span id="line-924" class="anchor"/><span id="line-925" class="anchor"/><span
id="line-926" class="anchor"/><span id="line-927" class="anchor"/><span id="line-928" class="anchor"/></p><p class="line867">
</p><h2 id="head-59e5de8af5d2877c5b5715186d90e98cc10e73f9">1.4. 给用户以选择</h2>
<span id="line-929" class="anchor"/><span id="line-930" class="anchor"/><span id="line-931" class="anchor"/><p class="line862">几乎每个应用程序都要求用户在一套预先定义的选项间进行选择。在<tt>wxPython</tt>中，有多种窗口部件帮助用户处理这种任务，包括复选框、单选按钮、列表框和组合框。接下来的部分将介绍这些窗口部件。 <span id="line-932" class="anchor"/><span id="line-933" class="anchor"/><span id="line-934" class="anchor"/></p><p class="line867">
</p><h3 id="head-130b699c253e4a20ab1ffb65a94563aefd3e5a81">1.4.1. 如何创建一个复选框？</h3>
<span id="line-935" class="anchor"/><span id="line-936" class="anchor"/><span id="line-937" class="anchor"/><p class="line874">复选框是一个带有文本标签的开关按钮。复选框通常成组的方式显示，但是每个复选框的开关状态是相互独立的。当你有一个或多个需要明确的开关状态的选项时，可以使用复选框。图7.10显示了一组复选框。 <span id="line-938" class="anchor"/><span id="line-939" class="anchor"/><span id="line-940" class="anchor"/></p><p
class="line867"><strong>图7.10</strong> <span id="line-941" class="anchor"/><span id="line-942" class="anchor"/></p><p class="line867"><img title="attachment:w7.10.gif" src="/moin/WxPythonInAction/ChapterSeven?action=AttachFile&amp;do=get&amp;target=w7.10.gif" class="attachment"/> <span id="line-943" class="anchor"/><span id="line-944" class="anchor"/><span id="line-945" class="anchor"/></p><p
class="line862">在<tt>wxPython</tt>中复选框很容易使用。它们是<tt>wx.CheckBox</tt>类的实例，并且通过把它们一起放入一个父容器中可以让它们在一起显示。例7.10提供了生成图7.10的代码。 <span id="line-946" class="anchor"/><span id="line-947" class="anchor"/><span id="line-948" class="anchor"/></p><p class="line867"><strong>例7.10</strong>  <span id="line-949" class="anchor"/><strong>插入三个复选框到一个框架中</strong> <span id="line-950" class="anchor"/><span
id="line-951" class="anchor"/><span id="line-952" class="anchor"/><span id="line-953" class="anchor"/><span id="line-954" class="anchor"/><span id="line-955" class="anchor"/><span id="line-956" class="anchor"/><span id="line-957" class="anchor"/><span id="line-958" class="anchor"/><span id="line-959" class="anchor"/><span id="line-960" class="anchor"/><span id="line-961" class="anchor"/><span id="line-962" class="anchor"/><span id="line-963"
class="anchor"/><span id="line-964" class="anchor"/><span id="line-965" class="anchor"/><span id="line-966" class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-f4d5cbfd18b3bed30904d3a4ee0f97e0bf89e777_010\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-f4d5cbfd18b3bed30904d3a4ee0f97e0bf89e777_010', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-f4d5cbfd18b3bed30904d3a4ee0f97e0bf89e777_010" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="ResWord">import</span> <span class="ID">wx</span></span>
<span class="line"><span class="LineNumber">   2 </span></span>
<span class="line"><span class="LineNumber">   3 </span><span class="ResWord">class</span> <span class="ID">CheckBoxFrame</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   4 </span>    <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   5 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">None</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span
class="Operator">,</span> <span class="String">'Checkbox Example'</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">   6 </span>                <span class="ID">size</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">150</span><span class="Operator">,</span> <span class="Number">200</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   7 </span>        <span class="ID">panel</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Panel</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   8 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">CheckBox</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">"Alpha"</span><span class="Operator">,</span> <span class="Operator">(</span><span
class="Number">35</span><span class="Operator">,</span> <span class="Number">40</span><span class="Operator">)</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">150</span><span class="Operator">,</span> <span class="Number">20</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   9 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">CheckBox</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">"Beta"</span><span class="Operator">,</span> <span class="Operator">(</span><span
class="Number">35</span><span class="Operator">,</span> <span class="Number">60</span><span class="Operator">)</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">150</span><span class="Operator">,</span> <span class="Number">20</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  10 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">CheckBox</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">"Gamma"</span><span class="Operator">,</span> <span class="Operator">(</span><span
class="Number">35</span><span class="Operator">,</span> <span class="Number">80</span><span class="Operator">)</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">150</span><span class="Operator">,</span> <span class="Number">20</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  11 </span></span>
<span class="line"><span class="LineNumber">  12 </span><span class="ResWord">if</span> <span class="ID">__name__</span> <span class="Operator">==</span> <span class="String">'__main__'</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  13 </span>    <span class="ID">app</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">PySimpleApp</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  14 </span>    <span class="ID">CheckBoxFrame</span><span class="Operator">(</span><span class="Operator">)</span><span class="Operator">.</span><span class="ID">Show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  15 </span>    <span class="ID">app</span><span class="Operator">.</span><span class="ID">MainLoop</span><span class="Operator">(</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-967" class="anchor"/><p class="line867"><tt>wx.CheckBox</tt>有一个典型的<tt>wxPython</tt>构造函数： <span id="line-968" class="anchor"/><span id="line-969" class="anchor"/></p><p class="line867"><tt>wx.CheckBox(parent</tt>, <tt>id</tt>, <tt>label</tt>, <tt>pos</tt>=<tt>wx.DefaultPosition</tt>, <span id="line-970" class="anchor"/><tt>size</tt>=<tt>wx.DefaultSize</tt>, <tt>style</tt>=0,
<tt>name</tt>="<tt>checkBox</tt>") <span id="line-971" class="anchor"/><span id="line-972" class="anchor"/></p><p
class="line867"><tt>label</tt>参数是复选框的标签文本。复选框没有样式标记，但是它们产生属于自己的独一无二的命令事件：<tt>EVT_CHECKBOX</tt>。<tt>wx.CheckBox</tt>的开关状态可以使用<tt>GetValue()</tt>和<tt>SetValue(state)</tt>方法来访问,并且其值是一个布尔值。<tt>IsChecked()</tt>方法等同于<tt>GetValue()</tt>方法，只是为了让代码看起来更易明白。 <span id="line-973" class="anchor"/><span id="line-974" class="anchor"/><span id="line-975"
class="anchor"/></p><p class="line867">
</p><h3 id="head-8bc2e70f80b82c8d4d301e5cedf7427e30661466">1.4.2. 如何创建一组单选按钮（radio</h3>
<span id="line-976" class="anchor"/><span id="line-977" class="anchor"/><p class="line867"><strong><tt>button</tt>）?</strong> <span id="line-978" class="anchor"/><span id="line-979" class="anchor"/></p><p
class="line862">单选按钮是一种允许用户从几个选项中选择其一的窗口部件。与复选框不同，单选按钮是显式地成组配置，并且只能选择其中一个选项。当选择了新的选项时，上次的选择就关闭了。单选按钮的使用比复选框复杂些，因为它需要被组织到一组中以便使用。<tt>radio</tt> <tt>button</tt>的名字得自于老式轿车上有着同样行为的成组的选择按钮。 <span id="line-980" class="anchor"/><span id="line-981" class="anchor"/></p><p
class="line862">在<tt>wxPython</tt>中，有两种方法可以创建一组单选按钮。其一，<tt>wx.RadioButton</tt>，它要求你一次创建一个按钮，而<tt>wx.RadioBox</tt>使你可以使用单一对象来配置完整的一组按钮，这些按钮显示在一个矩形中。 <span id="line-982" class="anchor"/><span id="line-983" class="anchor"/></p><p
class="line867"><tt>wx.RadioButton</tt>类更简单些，在单选按钮对其它窗口部件有直接影响或单选按钮不是布置在一个单一的矩形中的情况下，它是首选。图7.11显示了一组<tt>wx.RadioButton</tt>对象的列子。 <span id="line-984" class="anchor"/><span id="line-985" class="anchor"/><span id="line-986" class="anchor"/></p><p class="line867"><strong>图7.11</strong> <span id="line-987" class="anchor"/><span id="line-988" class="anchor"/></p><p class="line867"><img
title="attachment:w7.11.gif" src="/moin/WxPythonInAction/ChapterSeven?action=AttachFile&amp;do=get&amp;target=w7.11.gif" class="attachment"/> <span id="line-989" class="anchor"/><span id="line-990" class="anchor"/><span id="line-991" class="anchor"/></p><p class="line862">我们在这个例子中使用<tt>wx.RadioButton</tt>的原因是因为每个单选按钮控制着一个关联的文本控件。由于窗口部件是位于这组单选按钮之外的，所以我们不能只用一个单选按钮框。 <span
id="line-992" class="anchor"/><span id="line-993" class="anchor"/><span id="line-994" class="anchor"/></p><p class="line867"><strong>如何创建单选按钮</strong> <span id="line-995" class="anchor"/><span id="line-996" class="anchor"/></p><p class="line874">例7.11显示了图7.11的代码，它管理单选按钮和文本控件之间的联系。 <span id="line-997" class="anchor"/><span id="line-998" class="anchor"/><span id="line-999" class="anchor"/></p><p
class="line867"><strong>例7.11</strong>  <span id="line-1000" class="anchor"/><strong>使用<tt>wx.RadioButton</tt>来控制另一个窗口部件</strong> <span id="line-1001" class="anchor"/><span id="line-1002" class="anchor"/><span id="line-1003" class="anchor"/><span id="line-1004" class="anchor"/><span id="line-1005" class="anchor"/><span id="line-1006" class="anchor"/><span id="line-1007" class="anchor"/><span id="line-1008" class="anchor"/><span
id="line-1009" class="anchor"/><span id="line-1010" class="anchor"/><span id="line-1011" class="anchor"/><span id="line-1012" class="anchor"/><span id="line-1013" class="anchor"/><span id="line-1014" class="anchor"/><span id="line-1015" class="anchor"/><span id="line-1016" class="anchor"/><span id="line-1017" class="anchor"/><span id="line-1018" class="anchor"/><span id="line-1019" class="anchor"/><span id="line-1020" class="anchor"/><span
id="line-1021" class="anchor"/><span id="line-1022" class="anchor"/><span id="line-1023" class="anchor"/><span id="line-1024" class="anchor"/><span id="line-1025" class="anchor"/><span id="line-1026" class="anchor"/><span id="line-1027" class="anchor"/><span id="line-1028" class="anchor"/><span id="line-1029" class="anchor"/><span id="line-1030" class="anchor"/><span id="line-1031" class="anchor"/><span id="line-1032" class="anchor"/><span
id="line-1033" class="anchor"/><span id="line-1034" class="anchor"/><span id="line-1035" class="anchor"/><span id="line-1036" class="anchor"/><span id="line-1037" class="anchor"/><span id="line-1038" class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-daba3c14c239391526571e5259c070931167c92f_011\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-daba3c14c239391526571e5259c070931167c92f_011', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-daba3c14c239391526571e5259c070931167c92f_011" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="ResWord">import</span> <span class="ID">wx</span></span>
<span class="line"><span class="LineNumber">   2 </span></span>
<span class="line"><span class="LineNumber">   3 </span><span class="ResWord">class</span> <span class="ID">RadioButtonFrame</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   4 </span>    <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   5 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">None</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span
class="Operator">,</span> <span class="String">'Radio Example'</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">   6 </span>                <span class="ID">size</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">200</span><span class="Operator">,</span> <span class="Number">200</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   7 </span>        <span class="ID">panel</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Panel</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   8 </span></span>
<span class="line"><span class="LineNumber">   9 </span><span class="Comment">#创建单选按钮</span></span>
<span class="line"><span class="LineNumber">  10 </span><span class="Comment"/>        <span class="ID">radio1</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">RadioButton</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span
class="String">"Elmo"</span><span class="Operator">,</span> <span class="ID">pos</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">20</span><span class="Operator">,</span> <span class="Number">50</span><span class="Operator">)</span><span class="Operator">,</span> <span class="ID">style</span><span class="Operator">=</span><span class="ID">wx</span><span class="Operator">.</span><span
class="ID">RB_GROUP</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  11 </span>        <span class="ID">radio2</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">RadioButton</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span
class="String">"Ernie"</span><span class="Operator">,</span> <span class="ID">pos</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">20</span><span class="Operator">,</span> <span class="Number">80</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  12 </span>        <span class="ID">radio3</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">RadioButton</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span
class="String">"Bert"</span><span class="Operator">,</span> <span class="ID">pos</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">20</span><span class="Operator">,</span> <span class="Number">110</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  13 </span></span>
<span class="line"><span class="LineNumber">  14 </span><span class="Comment">#创建文本控件</span></span>
<span class="line"><span class="LineNumber">  15 </span><span class="Comment"/>        <span class="ID">text1</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">TextCtrl</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span
class="String">""</span><span class="Operator">,</span> <span class="ID">pos</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">80</span><span class="Operator">,</span> <span class="Number">50</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  16 </span>        <span class="ID">text2</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">TextCtrl</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span
class="String">""</span><span class="Operator">,</span> <span class="ID">pos</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">80</span><span class="Operator">,</span> <span class="Number">80</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  17 </span>        <span class="ID">text3</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">TextCtrl</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span
class="String">""</span><span class="Operator">,</span> <span class="ID">pos</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">80</span><span class="Operator">,</span> <span class="Number">110</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  18 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">texts</span> <span class="Operator">=</span> <span class="Operator">{</span><span class="String">"Elmo"</span><span class="Operator">:</span> <span class="ID">text1</span><span class="Operator">,</span> <span class="String">"Ernie"</span><span class="Operator">:</span> <span
class="ID">text2</span><span class="Operator">,</span> <span class="String">"Bert"</span><span class="Operator">:</span> <span class="ID">text3</span><span class="Operator">}</span><span class="Comment">#连接按钮和文本</span></span>
<span class="line"><span class="LineNumber">  19 </span>        <span class="ResWord">for</span> <span class="ID">eachText</span> <span class="ResWord">in</span> <span class="Operator">[</span><span class="ID">text2</span><span class="Operator">,</span> <span class="ID">text3</span><span class="Operator">]</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  20 </span>            <span class="ID">eachText</span><span class="Operator">.</span><span class="ID">Enable</span><span class="Operator">(</span><span class="ID">False</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  21 </span>        <span class="ResWord">for</span> <span class="ID">eachRadio</span> <span class="ResWord">in</span> <span class="Operator">[</span><span class="ID">radio1</span><span class="Operator">,</span> <span class="ID">radio2</span><span class="Operator">,</span> <span class="ID">radio3</span><span class="Operator">]</span><span class="Operator">:</span><span
class="Comment">#绑定事件</span></span>
<span class="line"><span class="LineNumber">  22 </span>            <span class="ID">self</span><span class="Operator">.</span><span class="ID">Bind</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">EVT_RADIOBUTTON</span><span class="Operator">,</span> <span class="ID">self</span><span class="Operator">.</span><span class="ID">OnRadio</span><span
class="Operator">,</span> <span class="ID">eachRadio</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  23 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">selectedText</span> <span class="Operator">=</span> <span class="ID">text1</span></span>
<span class="line"><span class="LineNumber">  24 </span></span>
<span class="line"><span class="LineNumber">  25 </span>    <span class="ResWord">def</span> <span class="ID">OnRadio</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">event</span><span class="Operator">)</span><span class="Operator">:</span><span class="Comment">#事件处理器</span></span>
<span class="line"><span class="LineNumber">  26 </span>        <span class="ResWord">if</span> <span class="ID">self</span><span class="Operator">.</span><span class="ID">selectedText</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  27 </span>            <span class="ID">self</span><span class="Operator">.</span><span class="ID">selectedText</span><span class="Operator">.</span><span class="ID">Enable</span><span class="Operator">(</span><span class="ID">False</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  28 </span>        <span class="ID">radioSelected</span> <span class="Operator">=</span> <span class="ID">event</span><span class="Operator">.</span><span class="ID">GetEventObject</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  29 </span>        <span class="ID">text</span> <span class="Operator">=</span> <span class="ID">self</span><span class="Operator">.</span><span class="ID">texts</span><span class="Operator">[</span><span class="ID">radioSelected</span><span class="Operator">.</span><span class="ID">GetLabel</span><span class="Operator">(</span><span class="Operator">)</span><span
class="Operator">]</span></span>
<span class="line"><span class="LineNumber">  30 </span>        <span class="ID">text</span><span class="Operator">.</span><span class="ID">Enable</span><span class="Operator">(</span><span class="ID">True</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  31 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">selectedText</span> <span class="Operator">=</span> <span class="ID">text</span></span>
<span class="line"><span class="LineNumber">  32 </span></span>
<span class="line"><span class="LineNumber">  33 </span><span class="ResWord">if</span> <span class="ID">__name__</span> <span class="Operator">==</span> <span class="String">'__main__'</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  34 </span>    <span class="ID">app</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">PySimpleApp</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  35 </span>    <span class="ID">RadioButtonFrame</span><span class="Operator">(</span><span class="Operator">)</span><span class="Operator">.</span><span class="ID">Show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  36 </span>    <span class="ID">app</span><span class="Operator">.</span><span class="ID">MainLoop</span><span class="Operator">(</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-1039" class="anchor"/><p class="line862">我们创建了单选按钮和文本框，然后使用字典来建立它们间的连接。一个<tt>for</tt>循环使得两个文本框无效，另一个<tt>for</tt>循环绑定单选按钮命令事件。当事件发生的时候，当前活动的文本框变为无效，与被敲击的按钮相匹配的文本框变为有效。 <span id="line-1040" class="anchor"/><span id="line-1041" class="anchor"/></p><p
class="line867"><tt>wx.RadioButton</tt>的使用类似于是<tt>wx.CheckBox</tt>。它们的构造函数几乎是相同的，如下所示： <span id="line-1042" class="anchor"/><span id="line-1043" class="anchor"/></p><p class="line867"><tt>wx.RadioButton(parent</tt>, <tt>id</tt>, <tt>label</tt>, <tt>pos</tt>=<tt>wx.DefaultPosition</tt>, <span id="line-1044" class="anchor"/><tt>size</tt>=<tt>wx.DefaultSize</tt>, <tt>style</tt>=0, <span id="line-1045"
class="anchor"/><tt>validator</tt>=<tt>wx.DefaultValidator</tt>, <tt>name</tt>="<tt>radioButton</tt>") <span id="line-1046" class="anchor"/><span id="line-1047" class="anchor"/></p><p class="line862">在复选框中，<tt>label</tt>是相应按钮的显示标签。 <span id="line-1048" class="anchor"/><span id="line-1049" class="anchor"/></p><p
class="line867"><tt>wx.RB_GROUP</tt>样式声明该按钮位于一组单选按钮开头。一组单选按钮的定义是很重要的，因为它控制开关行为。当组中的一个按钮被选中时，先前被选中的按钮被切换到未选中状态。在一个单选按钮使用<tt>wx.RB_GROUP</tt>被创建后，所有后来的被添加到相同父窗口部件中的单选按钮都被添加到同一组，直到另一单选按钮使用<tt>wx.RB_GROUP</tt>被创建，并开始下一个组。在例7.11中，第一个单选按钮是使用<tt>wx.RB_GROUP</tt>声明的，而后来的没有。结果导致所有的按钮都被认为在同一组中，这样一来，敲击它们中的一个时，先前被选中按钮将关闭。
<span id="line-1050" class="anchor"/><span id="line-1051" class="anchor"/><span id="line-1052" class="anchor"/></p><p class="line867"><strong>使用单选框</strong> <span id="line-1053" class="anchor"/><span id="line-1054" class="anchor"/></p><p
class="line862">通常，如果你想去显示一组按钮，分别声明它们不是最好的方法。取而代之，<tt>wxPython</tt>使用<tt>wx.RadioBox</tt>类让你能够创建一个单一的对象，该对象包含了完整的组。如图7.12所示，它看起来非常类似一组单选按钮。 <span id="line-1055" class="anchor"/><span id="line-1056" class="anchor"/><span id="line-1057" class="anchor"/></p><p class="line867"><strong>图7.12</strong> <span id="line-1058" class="anchor"/><span
id="line-1059" class="anchor"/></p><p class="line867"><img title="attachment:w7.12.gif" src="/moin/WxPythonInAction/ChapterSeven?action=AttachFile&amp;do=get&amp;target=w7.12.gif" class="attachment"/> <span id="line-1060" class="anchor"/><span id="line-1061" class="anchor"/><span id="line-1062" class="anchor"/></p><p class="line862">要使用<tt>wx.RadioBox</tt>类，你所需要的全部就是构造函数。例7.12显示了图7.12的代码。 <span
id="line-1063" class="anchor"/><span id="line-1064" class="anchor"/><span id="line-1065" class="anchor"/></p><p class="line867"><strong>例7.12</strong>  <span id="line-1066" class="anchor"/><strong>建造单选框</strong> <span id="line-1067" class="anchor"/><span id="line-1068" class="anchor"/><span id="line-1069" class="anchor"/><span id="line-1070" class="anchor"/><span id="line-1071" class="anchor"/><span id="line-1072"
class="anchor"/><span id="line-1073" class="anchor"/><span id="line-1074" class="anchor"/><span id="line-1075" class="anchor"/><span id="line-1076" class="anchor"/><span id="line-1077" class="anchor"/><span id="line-1078" class="anchor"/><span id="line-1079" class="anchor"/><span id="line-1080" class="anchor"/><span id="line-1081" class="anchor"/><span id="line-1082" class="anchor"/><span id="line-1083" class="anchor"/><span
id="line-1084" class="anchor"/><span id="line-1085" class="anchor"/><span id="line-1086" class="anchor"/><span id="line-1087" class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-6372e49f56c056b46ed02d4b308889c4b3b52578_012\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-6372e49f56c056b46ed02d4b308889c4b3b52578_012', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-6372e49f56c056b46ed02d4b308889c4b3b52578_012" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="ResWord">import</span> <span class="ID">wx</span></span>
<span class="line"><span class="LineNumber">   2 </span></span>
<span class="line"><span class="LineNumber">   3 </span><span class="ResWord">class</span> <span class="ID">RadioBoxFrame</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   4 </span>    <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   5 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">None</span><span class="Operator">,</span> <span class="Operator">-</span><span
class="Number">1</span><span class="Operator">,</span> <span class="String">'Radio Box Example'</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">   6 </span>                <span class="ID">size</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">350</span><span class="Operator">,</span> <span class="Number">200</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   7 </span>        <span class="ID">panel</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Panel</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   8 </span>        <span class="ID">sampleList</span> <span class="Operator">=</span> <span class="Operator">[</span><span class="String">'zero'</span><span class="Operator">,</span> <span class="String">'one'</span><span class="Operator">,</span> <span class="String">'two'</span><span class="Operator">,</span> <span class="String">'three'</span><span
class="Operator">,</span> <span class="String">'four'</span><span class="Operator">,</span> <span class="String">'five'</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">   9 </span>                      <span class="String">'six'</span><span class="Operator">,</span> <span class="String">'seven'</span><span class="Operator">,</span> <span class="String">'eight'</span><span class="Operator">]</span></span>
<span class="line"><span class="LineNumber">  10 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">RadioBox</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">"A Radio Box"</span><span class="Operator">,</span> <span
class="Operator">(</span><span class="Number">10</span><span class="Operator">,</span> <span class="Number">10</span><span class="Operator">)</span><span class="Operator">,</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">DefaultSize</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  11 </span>                        <span class="ID">sampleList</span><span class="Operator">,</span> <span class="Number">2</span><span class="Operator">,</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">RA_SPECIFY_COLS</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  12 </span></span>
<span class="line"><span class="LineNumber">  13 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">RadioBox</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">""</span><span class="Operator">,</span> <span
class="Operator">(</span><span class="Number">150</span><span class="Operator">,</span> <span class="Number">10</span><span class="Operator">)</span><span class="Operator">,</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">DefaultSize</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  14 </span>                        <span class="ID">sampleList</span><span class="Operator">,</span> <span class="Number">3</span><span class="Operator">,</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">RA_SPECIFY_COLS</span> <span class="Operator">|</span> <span class="ID">wx</span><span class="Operator">.</span><span
class="ID">NO_BORDER</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  15 </span></span>
<span class="line"><span class="LineNumber">  16 </span><span class="ResWord">if</span> <span class="ID">__name__</span> <span class="Operator">==</span> <span class="String">'__main__'</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  17 </span>    <span class="ID">app</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">PySimpleApp</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  18 </span>    <span class="ID">RadioBoxFrame</span><span class="Operator">(</span><span class="Operator">)</span><span class="Operator">.</span><span class="ID">Show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  19 </span>    <span class="ID">app</span><span class="Operator">.</span><span class="ID">MainLoop</span><span class="Operator">(</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-1088" class="anchor"/><span id="line-1089" class="anchor"/><p class="line867"><tt>wx.RadioBox</tt>的构造函数比简单的单选按钮更复杂，因为你需要去一下子为所有的按钮指定数据，如下所示： <span id="line-1090" class="anchor"/><span id="line-1091" class="anchor"/><span id="line-1092" class="anchor"/><span id="line-1093" class="anchor"/><span id="line-1094" class="anchor"/><span id="line-1095"
class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-792dd5d2334f259047c542552abd06298cc47dea_013\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-792dd5d2334f259047c542552abd06298cc47dea_013', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-792dd5d2334f259047c542552abd06298cc47dea_013" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">RadioBox</span><span class="Operator">(</span><span class="ID">parent</span><span class="Operator">,</span> <span class="ID">id</span><span class="Operator">,</span> <span
class="ID">label</span><span class="Operator">,</span> <span class="ID">pos</span><span class="Operator">=</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">DefaultPosition</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">   2 </span>        <span class="ID">size</span><span class="Operator">=</span><span class="ID">wxDefaultSize</span><span class="Operator">,</span> <span class="ID">choices</span><span class="Operator">=</span><span class="ID">None</span><span class="Operator">,</span> <span class="ID">majorDimension</span><span class="Operator">=</span><span
class="Number">0</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">   3 </span>        <span class="ID">style</span><span class="Operator">=</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">RA_SPECIFY_COLS</span><span class="Operator">,</span> <span class="ID">validator</span><span class="Operator">=</span><span class="ID">wx</span><span class="Operator">.</span><span
class="ID">DefaultValidator</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">   4 </span>        <span class="ID">name</span><span class="Operator">=</span><span class="String">"radioBox"</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-1096" class="anchor"/><p class="line867"><tt>label</tt>参数是静态文本，它显示在单选框的边框上。这些按钮使用<tt>choices</tt>参数指定，它是一个<tt>Python</tt>的字符串标签的序列。 <span id="line-1097" class="anchor"/><span id="line-1098" class="anchor"/></p><p
class="line862">如同网格的<tt>sizer</tt>一样，你通过使用规定一个维数的尺寸来指定<tt>wx.RadioBox</tt>的尺度，<tt>wxPython</tt>在另一维度上自动填充。维度的主尺寸使用<tt>majorDimension</tt>参数指定。哪一维是主要的由样式标记决定。默认值是<tt>wx.RA_SPECIFY_COLS</tt>。在本例中，左框的列数被设置为2，右框的列数被设置为3，行数由<tt>choices</tt>列表中的元素数量动态的决定。如果你想得到相反的行为，你要将样式设置为<tt>wx.RA_SPECIFY_ROWS</tt>。如果你想在单选框被敲击时响应命令事件，那么这个命令事件是<tt>EVT_RADIOBOX</tt>。
<span id="line-1099" class="anchor"/><span id="line-1100" class="anchor"/></p><p class="line867"><tt>wx.RadioBox</tt>类有许多方法来管理框中的不同的单选按钮。这些方法使你能够处理一个特定的内部按钮，传递该按钮的索引。索引以0为开始，并按严格的顺序展开，它的顺序就是按钮标签传递给构造函数的顺序。表7.11列出了这些方法。 <span id="line-1101" class="anchor"/><span id="line-1102" class="anchor"/><span
id="line-1103" class="anchor"/></p><p class="line867"><strong>表7.11</strong>  <span id="line-1104" class="anchor"/><strong><tt>wx.RadioBox</tt>的方法</strong> <span id="line-1105" class="anchor"/><span id="line-1106" class="anchor"/></p><p class="line867"><tt>EnableItem(n</tt>,
<tt>flag)</tt>：<tt>flag</tt>参数是一个布尔值，它用于使索引为n的按钮有效或无效。要使整个框立即有效，使用<tt>Enable()</tt>。 <span id="line-1107" class="anchor"/><span id="line-1108" class="anchor"/></p><p class="line867"><tt>FindString(string)</tt>：根据给定的标签返回相关按钮的整数索引值，如果标签没有发现则返回-1。 <span id="line-1109" class="anchor"/><span id="line-1110" class="anchor"/></p><p
class="line867"><tt>GetCount()</tt>：返回框中按钮的数量。 <span id="line-1111" class="anchor"/><span id="line-1112" class="anchor"/></p><p class="line867"><tt>GetItemLabel(n)</tt> <span id="line-1113" class="anchor"/><tt>SetItemLabel(n</tt>, <tt>string)</tt>：返回或设置索引为n的按钮的字符串标签。 <span id="line-1114" class="anchor"/><span id="line-1115" class="anchor"/></p><p
class="line867"><tt>GetSelection()</tt> <span id="line-1116" class="anchor"/><tt>GetStringSelection()</tt> <span id="line-1117" class="anchor"/><tt>SetSelection(n)</tt> <span id="line-1118" class="anchor"/><tt>SetStringSelection(</tt> <tt>string)</tt>：<tt>GetSelection()</tt> 和
<tt>SetSelection()</tt>方法处理当前所选择的单选按钮的整数索引。<tt>GetStringSelection()</tt>返回当前所选择的按钮的字符串标签，<tt>SetStringSelection()</tt>改变所选择的按钮的字符串标签为给定值。没有<tt>set</tt>*()产生<tt>EVT_RADIOBOX</tt>事件。 <span id="line-1119" class="anchor"/><span id="line-1120" class="anchor"/></p><p class="line867"><tt>ShowItem(item</tt>,
<tt>show)</tt>：<tt>show</tt>参数是一个布尔值，用于显示或隐藏索引为<tt>item</tt>的按钮。 <span id="line-1121" class="anchor"/><span id="line-1122" class="anchor"/></p><p class="line874">单选按钮不是给用户一系列选择的唯一方法。列表框和组合框占用的空间也少，也可以被配置来让用户从同一组中作多个选择。 <span id="line-1123" class="anchor"/><span id="line-1124" class="anchor"/><span id="line-1125"
class="anchor"/><span id="line-1126" class="anchor"/></p><p class="line867">
</p><h3 id="head-26ef7918e62c0c1f78df78119025b4e9bc3d2a98">1.4.3. 如何创建一个列表框？</h3>
<span id="line-1127" class="anchor"/><span id="line-1128" class="anchor"/><span id="line-1129" class="anchor"/><p
class="line862">列表框是提供给用户选择的另一机制。选项被放置在一个矩形的窗口中，用户可以选择一个或多个。列表框比单选按钮占据较少的空间，当选项的数目相对少的时候，列表框是一个好的选择。然而，如果用户必须将滚动条拉很远才能看到所有的选项的话，那么它的效用就有所下降了。图7.13显示了一个<tt>wxPython</tt>列表框。 <span id="line-1130" class="anchor"/><span id="line-1131" class="anchor"/><span
id="line-1132" class="anchor"/></p><p class="line867"><img title="attachment:w7.13.gif" src="/moin/WxPythonInAction/ChapterSeven?action=AttachFile&amp;do=get&amp;target=w7.13.gif" class="attachment"/> <span id="line-1133" class="anchor"/><span id="line-1134" class="anchor"/><span id="line-1135" class="anchor"/></p><p
class="line862">在<tt>wxPython</tt>中，列表框是类<tt>wx.ListBox</tt>的元素。该类的方法使你能够处理列表中的选择。 <span id="line-1136" class="anchor"/><span id="line-1137" class="anchor"/><span id="line-1138" class="anchor"/></p><p class="line867"><strong>如何创建一个列表框</strong> <span id="line-1139" class="anchor"/><span id="line-1140" class="anchor"/></p><p
class="line874">例7.13显示了产生图7.13的代码 <span id="line-1141" class="anchor"/><span id="line-1142" class="anchor"/><span id="line-1143" class="anchor"/></p><p class="line867"><strong>例7.13</strong>  <span id="line-1144" class="anchor"/><strong>使用<tt>wx.ListBox</tt></strong> <span id="line-1145" class="anchor"/><span id="line-1146" class="anchor"/><span id="line-1147" class="anchor"/><span
id="line-1148" class="anchor"/><span id="line-1149" class="anchor"/><span id="line-1150" class="anchor"/><span id="line-1151" class="anchor"/><span id="line-1152" class="anchor"/><span id="line-1153" class="anchor"/><span id="line-1154" class="anchor"/><span id="line-1155" class="anchor"/><span id="line-1156" class="anchor"/><span id="line-1157" class="anchor"/><span id="line-1158"
class="anchor"/><span id="line-1159" class="anchor"/><span id="line-1160" class="anchor"/><span id="line-1161" class="anchor"/><span id="line-1162" class="anchor"/><span id="line-1163" class="anchor"/><span id="line-1164" class="anchor"/><span id="line-1165" class="anchor"/><span id="line-1166" class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-b309646f709c912469738614716260cc79e50efd_014\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-b309646f709c912469738614716260cc79e50efd_014', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-b309646f709c912469738614716260cc79e50efd_014" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="ResWord">import</span> <span class="ID">wx</span></span>
<span class="line"><span class="LineNumber">   2 </span></span>
<span class="line"><span class="LineNumber">   3 </span><span class="ResWord">class</span> <span class="ID">ListBoxFrame</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   4 </span>    <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   5 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">None</span><span class="Operator">,</span> <span
class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">'List Box Example'</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">   6 </span>                <span class="ID">size</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">250</span><span class="Operator">,</span> <span class="Number">200</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   7 </span>        <span class="ID">panel</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Panel</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span
class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   8 </span></span>
<span class="line"><span class="LineNumber">   9 </span>        <span class="ID">sampleList</span> <span class="Operator">=</span> <span class="Operator">[</span><span class="String">'zero'</span><span class="Operator">,</span> <span class="String">'one'</span><span class="Operator">,</span> <span class="String">'two'</span><span class="Operator">,</span> <span
class="String">'three'</span><span class="Operator">,</span> <span class="String">'four'</span><span class="Operator">,</span> <span class="String">'five'</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  10 </span>                      <span class="String">'six'</span><span class="Operator">,</span> <span class="String">'seven'</span><span class="Operator">,</span> <span class="String">'eight'</span><span class="Operator">,</span> <span class="String">'nine'</span><span class="Operator">,</span> <span class="String">'ten'</span><span
class="Operator">,</span> <span class="String">'eleven'</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  11 </span>                      <span class="String">'twelve'</span><span class="Operator">,</span> <span class="String">'thirteen'</span><span class="Operator">,</span> <span class="String">'fourteen'</span><span class="Operator">]</span></span>
<span class="line"><span class="LineNumber">  12 </span></span>
<span class="line"><span class="LineNumber">  13 </span>        <span class="ID">listBox</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">ListBox</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span
class="Operator">,</span> <span class="Operator">(</span><span class="Number">20</span><span class="Operator">,</span> <span class="Number">20</span><span class="Operator">)</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">80</span><span class="Operator">,</span> <span class="Number">120</span><span class="Operator">)</span><span
class="Operator">,</span> <span class="ID">sampleList</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  14 </span>                <span class="ID">wx</span><span class="Operator">.</span><span class="ID">LB_SINGLE</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  15 </span>        <span class="ID">listBox</span><span class="Operator">.</span><span class="ID">SetSelection</span><span class="Operator">(</span><span class="Number">3</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  16 </span></span>
<span class="line"><span class="LineNumber">  17 </span><span class="ResWord">if</span> <span class="ID">__name__</span> <span class="Operator">==</span> <span class="String">'__main__'</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  18 </span>    <span class="ID">app</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">PySimpleApp</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  19 </span>    <span class="ID">ListBoxFrame</span><span class="Operator">(</span><span class="Operator">)</span><span class="Operator">.</span><span class="ID">Show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  20 </span>    <span class="ID">app</span><span class="Operator">.</span><span class="ID">MainLoop</span><span class="Operator">(</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-1167" class="anchor"/><span id="line-1168" class="anchor"/><p class="line867"><tt>wx.ListBox</tt>的构造函数类似于单选框的，如下所示： <span id="line-1169" class="anchor"/><span id="line-1170" class="anchor"/></p><p class="line867"><tt>wx.ListBox(parent</tt>, <tt>id</tt>, <tt>pos</tt>=<tt>wx.DefaultPosition</tt>, <span id="line-1171"
class="anchor"/><tt>size</tt>=<tt>wx.DefaultSize</tt>, <tt>choices</tt>=<tt>None</tt>, <tt>style</tt>=0, <span id="line-1172" class="anchor"/><tt>validator</tt>=<tt>wx.DefaultValidator</tt>, <tt>name</tt>="<tt>listBox</tt>") <span id="line-1173" class="anchor"/><span id="line-1174" class="anchor"/></p><p
class="line862">单选框和列表框的主要区别是<tt>wx.ListBox</tt>没有<tt>label</tt>属性。显示在列表中的元素放置在参数<tt>choices</tt>中，它是一个字符串的序列。列表框有三种互斥的样式，它决定用户如何从列表框中选择元素，说明在表7.12中。 <span id="line-1175" class="anchor"/><span id="line-1176" class="anchor"/></p><p
class="line874">用户通常对于多选有一些问题，因为它们一般希望见到的是单选列表，对于多选来说可能是有挑战性的（就像单选题和多选题一样），尤其是对于那些易受困扰的用户。如果你使用了一个多选的列表，我们建议你清楚地标明该列表。 <span id="line-1177" class="anchor"/><span id="line-1178" class="anchor"/><span id="line-1179" class="anchor"/></p><p class="line867"><strong>表7.12</strong>
<span id="line-1180" class="anchor"/><strong>列表框的选择类型样式</strong> <span id="line-1181" class="anchor"/><span id="line-1182" class="anchor"/></p><p class="line867"><tt>wx.LB_EXTENDED</tt>：用户可以通过使用<tt>shift</tt>并敲击鼠标来选择一定范围内的连续的选项，或使用等同功能的按键。 <span id="line-1183" class="anchor"/><span id="line-1184" class="anchor"/></p><p
class="line867"><tt>wx.LB_MULTIPLE</tt>：用户可以一次选择多个选项（选项可以是不连续的）。实际上，在这种情况下，列表框的行为就像是一组复选框。 <span id="line-1185" class="anchor"/><span id="line-1186" class="anchor"/></p><p class="line867"><tt>wx.LB_SINGLE</tt>：用户一次只能选一个选项。实际上，在这种情况下，列表框的行为就像是一组单选按钮。 <span id="line-1187"
class="anchor"/><span id="line-1188" class="anchor"/></p><p class="line862">有三种控制<tt>wx.ListBox</tt>中滚动条的显示的样式，如表7.13所示。 <span id="line-1189" class="anchor"/><span id="line-1190" class="anchor"/><span id="line-1191" class="anchor"/></p><p class="line867"><strong>表7.13</strong>  <span id="line-1192" class="anchor"/><strong>列表框的滚动条类型样式</strong> <span
id="line-1193" class="anchor"/><span id="line-1194" class="anchor"/></p><p class="line867"><tt>wx.LB_ALWAYS_SB</tt>：列表框将始终显示一个垂直的滚动条，不管有没有必要。 <span id="line-1195" class="anchor"/><span id="line-1196" class="anchor"/></p><p class="line867"><tt>wx.LB_HSCROLL</tt>：如果本地控支持，那么列表框在选择项太多时，将创建一个水平滚动条。 <span id="line-1197"
class="anchor"/><span id="line-1198" class="anchor"/></p><p class="line867"><tt>wx.LB_HSCROLL</tt>：列表框只在需要的时候显示一个垂直的滚动条。这是默认样式。 <span id="line-1199" class="anchor"/><span id="line-1200" class="anchor"/></p><p class="line862">还有一个样式<tt>wx.LB_SORT</tt>，它使得列表中的元素按字母顺序排序。 <span id="line-1201" class="anchor"/><span id="line-1202"
class="anchor"/></p><p class="line862">有两个专用于<tt>wx.ListBox</tt>的命令事件。<tt>EVT_LISTBOX</tt>事件在当列表中的一个元素被选择时触发（即使它是当前所选择的元素）。如果列表被双击，<tt>EVT_LISTBOX_DCLICK</tt>事件发生。 <span id="line-1203" class="anchor"/><span id="line-1204" class="anchor"/></p><p
class="line874">有一些专用于列表框的方法，你可以用来处理框中的项目。表7.14对许多的方法作了说明。列表框中的项目索引从0开始。 <span id="line-1205" class="anchor"/><span id="line-1206" class="anchor"/></p><p class="line874">一旦你有了一个列表框，自然就想把它与其它的窗口部件结合起来使用，如下拉菜单，或复选框。在下一节，我们对此作讨论。 <span id="line-1207" class="anchor"/><span
id="line-1208" class="anchor"/><span id="line-1209" class="anchor"/></p><p class="line867"><strong>表7.14</strong>  <span id="line-1210" class="anchor"/><strong>列表框的方法</strong> <span id="line-1211" class="anchor"/><span id="line-1212" class="anchor"/></p><p class="line867"><tt>Append(item)</tt>：把字符串项目添加到列表框的尾部。 <span id="line-1213" class="anchor"/><span
id="line-1214" class="anchor"/></p><p class="line867"><tt>Clear()</tt>：清空列表框。 <span id="line-1215" class="anchor"/><span id="line-1216" class="anchor"/></p><p class="line867"><tt>Delete(n)</tt>：删除列表框中索引为n的项目。 <span id="line-1217" class="anchor"/><span id="line-1218" class="anchor"/></p><p
class="line867"><tt>Deselect(n)</tt>：在多重选择列表框中，导致位于位置n的选项取消选中。在其它样式中不起作用。 <span id="line-1219" class="anchor"/><span id="line-1220" class="anchor"/></p><p class="line867"><tt>FindString(string)</tt>：返回给定字符串的整数位置，如果没有发现则返回-1。 <span id="line-1221" class="anchor"/><span id="line-1222" class="anchor"/></p><p
class="line867"><tt>GetCount()</tt>：返回列表中字符串的数量。 <span id="line-1223" class="anchor"/><span id="line-1224" class="anchor"/></p><p class="line867"><tt>GetSelection()</tt> <span id="line-1225" class="anchor"/><tt>SetSelection(n</tt>, <tt>select)</tt> <span id="line-1226" class="anchor"/><tt>GetStringSelection()</tt> <span id="line-1227"
class="anchor"/><tt>SetStringSelection(string</tt>, <tt>select)</tt> <span id="line-1228"
class="anchor"/><tt>GetSelections()</tt>：<tt>GetSelection()</tt>得到当前选择项的整数索引（仅对于单选列表）。对于多选列表，使用<tt>GetSelections()</tt>来返回包含所选项目的整数位置的元组。对于单选列表，<tt>GetStringSelection()</tt>返回当前选择的字符串。相应的<tt>set</tt>方法使用布尔值参数<tt>select</tt>设置指定字符串或索引选项的状态。使用这种方法改变选择不触发<tt>EVT_LISTBOX</tt>事件。
<span id="line-1229" class="anchor"/><span id="line-1230" class="anchor"/></p><p class="line867"><tt>GetString(n)</tt> <span id="line-1231" class="anchor"/><tt>SetString(n</tt>, <tt>string)</tt>：得到或设置位置n处的字符串。 <span id="line-1232" class="anchor"/><span id="line-1233" class="anchor"/></p><p class="line867"><tt>InsertItems(items</tt>,
<tt>pos)</tt>：插入参数<tt>items</tt>中的字符串列表到该列表框中<tt>pos</tt>参数所指定的位置前。位置0表示把项目放在列表的开头。 <span id="line-1234" class="anchor"/><span id="line-1235" class="anchor"/></p><p class="line867"><tt>Selected(n)</tt>：返回对应于索引为n的项目的选择状态的布尔值。 <span id="line-1236" class="anchor"/><span id="line-1237" class="anchor"/></p><p
class="line867"><tt>Set(choices)</tt>：重新使用<tt>choices</tt>的内容设置列表框。 <span id="line-1238" class="anchor"/><span id="line-1239" class="anchor"/><span id="line-1240" class="anchor"/><span id="line-1241" class="anchor"/><span id="line-1242" class="anchor"/></p><p class="line867">
</p><h3 id="head-2e92370fc790fa3a31ada81cd181f99cce2708bc">1.4.4. 如何合并复选框和列表框？</h3>
<span id="line-1243" class="anchor"/><span id="line-1244" class="anchor"/><span id="line-1245" class="anchor"/><p class="line862">你可以使用类<tt>wx.CheckListBox</tt>来将复选框与列表框合并。图7.14显示了列表框和复选框在合并在一起的例子。 <span id="line-1246" class="anchor"/><span id="line-1247" class="anchor"/><span id="line-1248" class="anchor"/></p><p
class="line867"><strong>图7.14</strong> <span id="line-1249" class="anchor"/><span id="line-1250" class="anchor"/></p><p class="line867"><img title="attachment:w7.14.gif" src="/moin/WxPythonInAction/ChapterSeven?action=AttachFile&amp;do=get&amp;target=w7.14.gif" class="attachment"/> <span id="line-1251" class="anchor"/><span id="line-1252" class="anchor"/><span id="line-1253"
class="anchor"/></p><p class="line867"><tt>wx.CheckListBox</tt>的构造函数和大多数方法与<tt>wx.ListBox</tt>的相同。它有一个新的事件：<tt>wx.EVT_CHECKLISTBOX</tt>，它在当列表中的一个复选框被敲击时触发。它有两个管理复选框的新的方法：<tt>Check(n</tt>, <tt>check)</tt>设置索引为n的项目的选择状态，<tt>IsChecked(item)</tt>在给定的索引的项目是选中状态时返回<tt>True</tt>。 <span
id="line-1254" class="anchor"/><span id="line-1255" class="anchor"/><span id="line-1256" class="anchor"/></p><p class="line867">
</p><h3 id="head-b15ca7167e111c41967ba7b735ade063bbf4ad30">1.4.5. 如果我想要下拉形式的选择该怎么做？</h3>
<span id="line-1257" class="anchor"/><span id="line-1258" class="anchor"/><span id="line-1259" class="anchor"/><p class="line874">下拉式选择是一种仅当下拉箭头被敲击时才显示选项的选择机制。它是显示所选元素的最简洁的方法，当屏幕空间很有限的时候，它是最有用的。图7.15显示了一个关闭的下拉式选择。图7.16显示了一个打开的下拉式选择。 <span id="line-1260" class="anchor"/><span id="line-1261"
class="anchor"/><span id="line-1262" class="anchor"/></p><p class="line867"><strong>图7.15</strong> <span id="line-1263" class="anchor"/><span id="line-1264" class="anchor"/></p><p class="line867"><img title="attachment:w7.15.gif" src="/moin/WxPythonInAction/ChapterSeven?action=AttachFile&amp;do=get&amp;target=w7.15.gif" class="attachment"/> <span id="line-1265"
class="anchor"/><span id="line-1266" class="anchor"/><span id="line-1267" class="anchor"/><span id="line-1268" class="anchor"/></p><p class="line867"><strong>图7.16</strong> <span id="line-1269" class="anchor"/><span id="line-1270" class="anchor"/></p><p class="line867"><img title="attachment:w7.16.gif"
src="/moin/WxPythonInAction/ChapterSeven?action=AttachFile&amp;do=get&amp;target=w7.16.gif" class="attachment"/> <span id="line-1271" class="anchor"/><span id="line-1272" class="anchor"/><span id="line-1273" class="anchor"/></p><p class="line874">下拉式选择的使用与标准的列表框是很相似的。例7.14显示了如何创建一个下拉式选择。 <span id="line-1274" class="anchor"/><span id="line-1275"
class="anchor"/><span id="line-1276" class="anchor"/></p><p class="line867"><strong>例7.14</strong>  <span id="line-1277" class="anchor"/><span id="line-1278" class="anchor"/><span id="line-1279" class="anchor"/><span id="line-1280" class="anchor"/><span id="line-1281" class="anchor"/><span id="line-1282" class="anchor"/><span id="line-1283" class="anchor"/><span id="line-1284"
class="anchor"/><span id="line-1285" class="anchor"/><span id="line-1286" class="anchor"/><span id="line-1287" class="anchor"/><span id="line-1288" class="anchor"/><span id="line-1289" class="anchor"/><span id="line-1290" class="anchor"/><span id="line-1291" class="anchor"/><span id="line-1292" class="anchor"/><span id="line-1293" class="anchor"/><span id="line-1294"
class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-0120662323328e9f68298ad6d5e68ff91fcb1929_015\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-0120662323328e9f68298ad6d5e68ff91fcb1929_015', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-0120662323328e9f68298ad6d5e68ff91fcb1929_015" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="ResWord">import</span> <span class="ID">wx</span></span>
<span class="line"><span class="LineNumber">   2 </span></span>
<span class="line"><span class="LineNumber">   3 </span><span class="ResWord">class</span> <span class="ID">ChoiceFrame</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   4 </span>    <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   5 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">None</span><span class="Operator">,</span>
<span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">'Choice Example'</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">   6 </span>                <span class="ID">size</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">250</span><span class="Operator">,</span> <span class="Number">200</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   7 </span>        <span class="ID">panel</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Panel</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span
class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   8 </span>        <span class="ID">sampleList</span> <span class="Operator">=</span> <span class="Operator">[</span><span class="String">'zero'</span><span class="Operator">,</span> <span class="String">'one'</span><span class="Operator">,</span> <span class="String">'two'</span><span class="Operator">,</span> <span
class="String">'three'</span><span class="Operator">,</span> <span class="String">'four'</span><span class="Operator">,</span> <span class="String">'five'</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">   9 </span>                      <span class="String">'six'</span><span class="Operator">,</span> <span class="String">'seven'</span><span class="Operator">,</span> <span class="String">'eight'</span><span class="Operator">]</span></span>
<span class="line"><span class="LineNumber">  10 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">StaticText</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">"Select
one:"</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">15</span><span class="Operator">,</span> <span class="Number">20</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  11 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Choice</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span
class="Operator">(</span><span class="Number">85</span><span class="Operator">,</span> <span class="Number">18</span><span class="Operator">)</span><span class="Operator">,</span> <span class="ID">choices</span><span class="Operator">=</span><span class="ID">sampleList</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  12 </span></span>
<span class="line"><span class="LineNumber">  13 </span><span class="ResWord">if</span> <span class="ID">__name__</span> <span class="Operator">==</span> <span class="String">'__main__'</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  14 </span>    <span class="ID">app</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">PySimpleApp</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  15 </span>    <span class="ID">ChoiceFrame</span><span class="Operator">(</span><span class="Operator">)</span><span class="Operator">.</span><span class="ID">Show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  16 </span>    <span class="ID">app</span><span class="Operator">.</span><span class="ID">MainLoop</span><span class="Operator">(</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-1295" class="anchor"/><p class="line867"><tt>wx.Choice</tt>的构造函数与列表框的基本相同： <span id="line-1296" class="anchor"/><span id="line-1297" class="anchor"/></p><p class="line867"><tt>wx.Choice(parent</tt>, <tt>id</tt>, <tt>pos</tt>=<tt>wx.DefaultPosition</tt>, <span id="line-1298"
class="anchor"/><tt>size</tt>=<tt>wx.DefaultSize</tt>, <tt>choices</tt>=<tt>None</tt>, <tt>style</tt>=0, <span id="line-1299" class="anchor"/><tt>validator</tt>=<tt>wx.DefaultValidator</tt>, <tt>name</tt>="<tt>choice</tt>") <span id="line-1300" class="anchor"/><span id="line-1301" class="anchor"/></p><p
class="line867"><tt>wx.Choice</tt>没有专门的样式，但是它有独特的命令事件：<tt>EVT_CHOICE</tt>。几乎表7.14中所有适用于单选列表框的方法都适用于<tt>wx.Choice</tt>对象。 <span id="line-1302" class="anchor"/><span id="line-1303" class="anchor"/><span id="line-1304" class="anchor"/></p><p class="line867">
</p><h3 id="head-4931d1756dd9763f193c62bf9ef0b2d775054093">1.4.6. 我能够将文本域与列表合并在一起吗？</h3>
<span id="line-1305" class="anchor"/><span id="line-1306" class="anchor"/><span id="line-1307" class="anchor"/><p class="line874">将文本域与列表合并在一起的窗口部件称为组合框，其本质上是一个下拉选择和文本框的组合。图7.17显示了一个组合框。 <span id="line-1308" class="anchor"/><span id="line-1309" class="anchor"/><span id="line-1310" class="anchor"/></p><p
class="line867"><strong>图7.17</strong> 左边是<tt>wx.CB_DropDOWN</tt>样式，右边是<tt>wx.CB_SIMPLE</tt>样式 <span id="line-1311" class="anchor"/><span id="line-1312" class="anchor"/></p><p class="line867"><img title="attachment:w7.17.gif" src="/moin/WxPythonInAction/ChapterSeven?action=AttachFile&amp;do=get&amp;target=w7.17.gif" class="attachment"/> <span
id="line-1313" class="anchor"/><span id="line-1314" class="anchor"/><span id="line-1315" class="anchor"/></p><p class="line862">在<tt>Windows</tt>上，你可以使用右边的样式，它是一个列表框和文本框的组合。 <span id="line-1316" class="anchor"/><span id="line-1317" class="anchor"/></p><p
class="line862">创建组合框的代码与我们已经见过的选择是类似的。该类是<tt>wx.ComboBox</tt>，它是<tt>wx.Choice</tt>的一个子类。例7.15显示了图7.17的代码： <span id="line-1318" class="anchor"/><span id="line-1319" class="anchor"/><span id="line-1320" class="anchor"/></p><p class="line867"><strong>例7.15</strong>  <span id="line-1321" class="anchor"/><span id="line-1322"
class="anchor"/><span id="line-1323" class="anchor"/><span id="line-1324" class="anchor"/><span id="line-1325" class="anchor"/><span id="line-1326" class="anchor"/><span id="line-1327" class="anchor"/><span id="line-1328" class="anchor"/><span id="line-1329" class="anchor"/><span id="line-1330" class="anchor"/><span id="line-1331" class="anchor"/><span
id="line-1332" class="anchor"/><span id="line-1333" class="anchor"/><span id="line-1334" class="anchor"/><span id="line-1335" class="anchor"/><span id="line-1336" class="anchor"/><span id="line-1337" class="anchor"/><span id="line-1338" class="anchor"/><span id="line-1339" class="anchor"/><span id="line-1340" class="anchor"/><span id="line-1341"
class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-35467faa49515951826079a8ee5342844ea410fe_016\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-35467faa49515951826079a8ee5342844ea410fe_016', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-35467faa49515951826079a8ee5342844ea410fe_016" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="ResWord">import</span> <span class="ID">wx</span></span>
<span class="line"><span class="LineNumber">   2 </span></span>
<span class="line"><span class="LineNumber">   3 </span><span class="ResWord">class</span> <span class="ID">ComboBoxFrame</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   4 </span>    <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   5 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">None</span><span
class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">'Combo Box Example'</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">   6 </span>                <span class="ID">size</span><span class="Operator">=</span><span class="Operator">(</span><span class="Number">350</span><span class="Operator">,</span> <span class="Number">300</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   7 </span>        <span class="ID">panel</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Panel</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="Operator">-</span><span
class="Number">1</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   8 </span>        <span class="ID">sampleList</span> <span class="Operator">=</span> <span class="Operator">[</span><span class="String">'zero'</span><span class="Operator">,</span> <span class="String">'one'</span><span class="Operator">,</span> <span class="String">'two'</span><span
class="Operator">,</span> <span class="String">'three'</span><span class="Operator">,</span> <span class="String">'four'</span><span class="Operator">,</span> <span class="String">'five'</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">   9 </span>                      <span class="String">'six'</span><span class="Operator">,</span> <span class="String">'seven'</span><span class="Operator">,</span> <span class="String">'eight'</span><span class="Operator">]</span></span>
<span class="line"><span class="LineNumber">  10 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">StaticText</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span
class="String">"Select one:"</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">15</span><span class="Operator">,</span> <span class="Number">15</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  11 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">ComboBox</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span
class="String">"default value"</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">15</span><span class="Operator">,</span> <span class="Number">30</span><span class="Operator">)</span><span class="Operator">,</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">DefaultSize</span><span
class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  12 </span>                    <span class="ID">sampleList</span><span class="Operator">,</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">CB_DropDOWN</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  13 </span>        <span class="ID">wx</span><span class="Operator">.</span><span class="ID">ComboBox</span><span class="Operator">(</span><span class="ID">panel</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span
class="String">"default value"</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">150</span><span class="Operator">,</span> <span class="Number">30</span><span class="Operator">)</span><span class="Operator">,</span> <span class="ID">wx</span><span class="Operator">.</span><span
class="ID">DefaultSize</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  14 </span>                        <span class="ID">sampleList</span><span class="Operator">,</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">CB_SIMPLE</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  15 </span></span>
<span class="line"><span class="LineNumber">  16 </span><span class="ResWord">if</span> <span class="ID">__name__</span> <span class="Operator">==</span> <span class="String">'__main__'</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  17 </span>    <span class="ID">app</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">PySimpleApp</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  18 </span>    <span class="ID">ComboBoxFrame</span><span class="Operator">(</span><span class="Operator">)</span><span class="Operator">.</span><span class="ID">Show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  19 </span>    <span class="ID">app</span><span class="Operator">.</span><span class="ID">MainLoop</span><span class="Operator">(</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-1342" class="anchor"/><p class="line867"><tt>wx.ComboBox</tt>的构造函数如下所示： <span id="line-1343" class="anchor"/><span id="line-1344" class="anchor"/><span id="line-1345" class="anchor"/><span id="line-1346" class="anchor"/><span id="line-1347" class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-5d49081eeaf2d4ee50068eb38e23048027f11e97_017\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-5d49081eeaf2d4ee50068eb38e23048027f11e97_017', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-5d49081eeaf2d4ee50068eb38e23048027f11e97_017" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">ComboBox</span><span class="Operator">(</span><span class="ID">parent</span><span class="Operator">,</span> <span
class="ID">id</span><span class="Operator">,</span> <span class="ID">value</span><span class="Operator">=</span><span class="String">""</span><span class="Operator">,</span> <span class="ID">pos</span><span class="Operator">=</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">DefaultPosition</span><span
class="Operator">,</span></span>
<span class="line"><span class="LineNumber">   2 </span>        <span class="ID">size</span><span class="Operator">=</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">DefaultSize</span><span class="Operator">,</span> <span class="ID">choices</span><span class="Operator">,</span> <span
class="ID">style</span><span class="Operator">=</span><span class="Number">0</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">   3 </span>        <span class="ID">validator</span><span class="Operator">=</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">DefaultValidator</span><span class="Operator">,</span> <span class="ID">name</span><span class="Operator">=</span><span
class="String">"comboBox"</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-1348" class="anchor"/><p
class="line862">对于<tt>wx.ComboBox</tt>来说有4种样式。其中的两种决定了如何绘制组合框：<tt>wx.CB_DropDOWN</tt>创建一个带有下拉列表的组合框，<tt>wx.CB_SIMPLE</tt>创建一个带有列表框的组合框。在<tt>Windows</tt>上你可以只使用<tt>wx.CB_SIMPLE</tt>样式。任何组合框都可以被指定为<tt>wx.CB_READONLY</tt>样式，它防止用户在文本域中键入。当组合框被指定为只读时，所做的选择必须来自于选择列表的元素之一，即使你用程序来设置它也不行。最后<tt>wx.CB_SORT</tt>样式导致选择列表中的元素按字母顺序显示。
<span id="line-1349" class="anchor"/><span id="line-1350" class="anchor"/></p><p class="line862">由于<tt>wx.ComboBox</tt>是<tt>wx.Choice</tt>的子类，所有的<tt>wx.Choice</tt>的方法都能被组合框调用，如表7.14所示。另外，还有许多方法被定义来处理文本组件，它们的行为同<tt>wx.TextCtrl</tt>（参见表7.4)，所定义的方法有<tt>Copy()</tt>,
<tt>Cut()</tt>, <tt>GetInsertionPoint()</tt>, <tt>GetValue()</tt>, <tt>Paste()</tt>, <tt>Replace(from</tt>,<tt>to</tt>, <tt>text)</tt>, <tt>Remove(from</tt>, <tt>to)</tt>, <tt>SetInsertionPoint(pos)</tt>, <tt>SetInsertionPointEnd()</tt>,和 <tt>SetValue()</tt>。 <span id="line-1351" class="anchor"/><span id="line-1352"
class="anchor"/><span id="line-1353" class="anchor"/><span id="line-1354" class="anchor"/></p><p class="line867">
</p><h2 id="head-ab2b1d5d75346a4955d514e8e6f501f83a261553">1.5. 本章小结</h2>
<span id="line-1355" class="anchor"/><span id="line-1356" class="anchor"/><span id="line-1357" class="anchor"/><p class="line862">在这一章中，我们给你展示了如何使用<tt>wxPython</tt>中许多最基本和常用的控件。这些通用的版本在跨平台使用时显得一致性较好。 <span id="line-1358" class="anchor"/><span id="line-1359" class="anchor"/></p><p
class="line862">1、对于静态文本标签的显示，你可以使用<tt>wx.StaticText</tt>类。还有一个完全用<tt>wxPython</tt>实现的版本，名为<tt>wx.lib.stattext.GenStaticText</tt>。 <span id="line-1360" class="anchor"/><span id="line-1361" class="anchor"/></p><p
class="line862">2、如果你需要一个控件以让用户输入文本，那么使用类<tt>wx.TextCtrl</tt>。它允许单行和多行的输入，还有密码掩饰和其它的功用。如果本地控支持它，你可以使用<tt>wx.TextCtrl</tt>来得到样式文本。样式是<tt>wx.Text</tt>-<tt>Attr</tt>类的实例，<tt>wx.Font</tt>包含字体信息。对于所有的系统，你可以使用类<tt>wx.stc.StyledTextCtrl</tt>（它是<tt>wxPython</tt>对开源<tt>Scintilla</tt>文本组件的封装）在一个可编辑的文本组件中实现颜色和字体样式。
<span id="line-1362" class="anchor"/><span id="line-1363" class="anchor"/></p><p
class="line862">3、创建按钮，使用<tt>wx.Button</tt>类，它也有一个通用版<tt>wx.lib.buttons.GenButton</tt>。按钮可以使用位图来代替一个文本标签（<tt>wx.BitmapButton</tt>），或在按下和未按下之间有一个开关状态。还有一个等价于位图和开关按钮的通用版，它比标准版有更全面的特性。 <span id="line-1364" class="anchor"/><span id="line-1365"
class="anchor"/></p><p class="line862">4、有一些方法用于选择或显示数字值。你可以使用<tt>wx.Slider</tt>类来显示一个垂直或水平的滑块。<tt>wx.SpinCtrl</tt>显示一个可以使用上下按钮来改变数字值的文本控件。<tt>wx.Gauge</tt>控件显示一个进度条指示器。 <span id="line-1366" class="anchor"/><span id="line-1367" class="anchor"/></p><p
class="line862">5、你可以从一系列的控件中选出让用户从列表选项作出选择的最佳控件，最佳控件所应考虑的条件是选项的数量，用户能否多选和你想使用的屏幕空间的总量。复选框使用<tt>wx.CheckBox</tt>类。这儿有两个方法去得到单选按钮：<tt>wx.RadioButton</tt>给出单个单选按钮，而<tt>wx.RadioBox</tt>给出显示在一起的一组按钮。这儿有几个列表显示控件，它们的用法相似。列表框的创建使用<tt>wx.ListBox</tt>，并且你可以使用<tt>wx.CheckListBox</tt>来增加复选框。对于更简洁的下拉式，使用<tt>wx.Choice.</tt>
<tt>wx.ComboBox</tt>合并了列表和文本控件的特性。 <span id="line-1368" class="anchor"/><span id="line-1369" class="anchor"/></p><p class="line874">到目前为止，我们已经涉及了基本的常用窗口部件，在接下来的章节，我们将讨论不同种类的框架，它可以用这些框架来包含我们已经涉及了基本的常用窗口部件。 <span id="line-1370" class="anchor"/><span
id="bottom" class="anchor"/></p></div>
