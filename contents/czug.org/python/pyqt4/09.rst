---
created: 
creator: Benky
description: ''
title: 绘图
---
<div lang="en" id="content" dir="ltr"><span id="top" class="anchor"/>
<span id="line-4" class="anchor"/><p class="line867"><strong> <span id="line-5" class="anchor"/>含有章节索引的中文 文章模板 <span id="line-6" class="anchor"/></strong> <span id="line-7" class="anchor"/><span id="line-8" class="anchor"/></p><p class="line862">::-- <a href="/moin/zhuyj">zhuyj</a> [2008-12-22 01:39:36] <span id="line-9" class="anchor"/></p><div class="table-of-contents"><p class="table-of-contents-heading">目录</p><ol><li><a href="#head-81e1ac7e8b0a95db6eaf9150c915ed86b563d510">Drawing in PyQt4</a><ol><li><a href="#head-663f2356f3cc089db16fdf7e33999c838f514e62">Drawing text</a></li><li><a href="#head-2a4c7734064ef1ef94f805d4265e2da929aa9816">Drawing points</a></li><li><a href="#head-ca98dcda800f2c55fb28a2c831c5a0fdf6a714d4">Colors</a></li><li><a
href="#head-8d14f4ba2a4a9140e52362667b78b111fc7bb469">QPen</a></li><li><a href="#head-fea9029f7254fd4f088599c78270f05eeaa129ff">QBrush</a></li></ol></li><li><a href="#head-86fa6d87987e319c4bd454c0f731a4b923b126ce">交流</a></li></ol></div> <span id="line-10" class="anchor"/><span id="line-11" class="anchor"/><p class="line867">
</p><h1 id="head-81e1ac7e8b0a95db6eaf9150c915ed86b563d510">1. Drawing in PyQt4</h1>
<span id="line-12" class="anchor"/><p class="line867"><strong><a href="/moin/PyQt4" class="nonexistent">PyQt4</a>的绘图</strong> <span id="line-13" class="anchor"/><span id="line-14" class="anchor"/></p><p class="line867"><em>Drawing is used, when we want to change or enhance an existing widget. Or if we are creating a custom widget from scratch. To do the drawing, we use the drawing API provided by the <a href="/moin/PyQt4" class="nonexistent">PyQt4</a> toolkit.</em> <span id="line-15" class="anchor"/><span id="line-16" class="anchor"/></p><ul><li style="list-style-type: none;"><p class="line862">当我们想要改变或者加强已经存在的组件时，或者我们通过涂画自定义组件时，需要用的绘图。为了进行绘图，我们要使用<a href="/moin/PyQt4" class="nonexistent">PyQt4</a>工具集提供的绘图API。
<span id="line-17" class="anchor"/><span id="line-18" class="anchor"/></p></li></ul><p class="line867"><em>The drawing is done within the paintEvent() method. The drawing code is placed between the begin() and end() methods of the QPainter object.</em> <span id="line-19" class="anchor"/><span id="line-20" class="anchor"/></p><ul><li style="list-style-type: none;">绘图通过paintEvent()方法实现。绘图的代码放置在QPainter对象的begin() 和end()方法之间。 <span id="line-21" class="anchor"/><span id="line-22" class="anchor"/></li></ul><p class="line867">
</p><h2 id="head-663f2356f3cc089db16fdf7e33999c838f514e62">1.1. Drawing text</h2>
<span id="line-23" class="anchor"/><p class="line867"><strong>绘制文本</strong> <span id="line-24" class="anchor"/><span id="line-25" class="anchor"/></p><p class="line867"><em>We begin with drawing some unicode text onto the window client area.</em> <span id="line-26" class="anchor"/><span id="line-27" class="anchor"/></p><ul><li style="list-style-type: none;">我们首先将一些Unicode文本绘制在窗口的客户区域。 <span id="line-28" class="anchor"/><span id="line-29" class="anchor"/></li></ul><p class="line867"><span id="line-30" class="anchor"/><span id="line-31" class="anchor"/><span id="line-32" class="anchor"/><span id="line-33" class="anchor"/><span id="line-34" class="anchor"/><span id="line-35" class="anchor"/><span id="line-36" class="anchor"/><span id="line-37"
class="anchor"/><span id="line-38" class="anchor"/><span id="line-39" class="anchor"/><span id="line-40" class="anchor"/><span id="line-41" class="anchor"/><span id="line-42" class="anchor"/><span id="line-43" class="anchor"/><span id="line-44" class="anchor"/><span id="line-45" class="anchor"/><span id="line-46" class="anchor"/><span id="line-47" class="anchor"/><span id="line-48" class="anchor"/><span id="line-49" class="anchor"/><span id="line-50" class="anchor"/><span id="line-51" class="anchor"/><span id="line-52" class="anchor"/><span id="line-53" class="anchor"/><span id="line-54" class="anchor"/><span id="line-55" class="anchor"/><span id="line-56" class="anchor"/><span id="line-57" class="anchor"/><span id="line-58" class="anchor"/><span id="line-59"
class="anchor"/><span id="line-60" class="anchor"/><span id="line-61" class="anchor"/><span id="line-62" class="anchor"/><span id="line-63" class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
function isnumbered(obj) {
return obj.childNodes.length && obj.firstChild.childNodes.length && obj.firstChild.firstChild.className == 'LineNumber';
}
function nformat(num,chrs,add) {
var nlen = Math.max(0,chrs-(''+num).length), res = '';
while (nlen>0) { res += ' '; nlen-- }
return res+num+add;
}
function addnumber(did, nstart, nstep) {
var c = document.getElementById(did), l = c.firstChild, n = 1;
if (!isnumbered(c))
if (typeof nstart == 'undefined') nstart = 1;
if (typeof nstep  == 'undefined') nstep = 1;
n = nstart;
while (l != null) {
if (l.tagName == 'SPAN') {
var s = document.createElement('SPAN');
s.className = 'LineNumber'
s.appendChild(document.createTextNode(nformat(n,4,' ')));
n += nstep;
if (l.childNodes.length)
l.insertBefore(s, l.firstChild)
else
l.appendChild(s)
}
l = l.nextSibling;
}
return false;
}
function remnumber(did) {
var c = document.getElementById(did), l = c.firstChild;
if (isnumbered(c))
while (l != null) {
if (l.tagName == 'SPAN' && l.firstChild.className == 'LineNumber') l.removeChild(l.firstChild);
l = l.nextSibling;
}
return false;
}
function togglenumber(did, nstart, nstep) {
var c = document.getElementById(did);
if (isnumbered(c)) {
remnumber(did);
} else {
addnumber(did,nstart,nstep);
}
return false;
}
</script>

<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-6e900b4ab23139ae24c0ce2a84ac157c18fe2137_000\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-6e900b4ab23139ae24c0ce2a84ac157c18fe2137_000', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-6e900b4ab23139ae24c0ce2a84ac157c18fe2137_000" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="Comment">#!/usr/bin/python</span></span>
<span class="line"><span class="LineNumber">   2 </span><span class="Comment"/></span>
<span class="line"><span class="LineNumber">   3 </span><span class="Comment"># drawtext.py</span></span>
<span class="line"><span class="LineNumber">   4 </span><span class="Comment"/></span>
<span class="line"><span class="LineNumber">   5 </span><span class="ResWord">import</span> <span class="ID">sys</span></span>
<span class="line"><span class="LineNumber">   6 </span><span class="ResWord">from</span> <span class="ID">PyQt4</span> <span class="ResWord">import</span> <span class="ID">QtGui</span><span class="Operator">,</span> <span class="ID">QtCore</span></span>
<span class="line"><span class="LineNumber">   7 </span></span>
<span class="line"><span class="LineNumber">   8 </span></span>
<span class="line"><span class="LineNumber">   9 </span><span class="ResWord">class</span> <span class="ID">DrawText</span><span class="Operator">(</span><span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QWidget</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  10 </span>    <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">parent</span><span class="Operator">=</span><span class="ID">None</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  11 </span>        <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QWidget</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">parent</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  12 </span></span>
<span class="line"><span class="LineNumber">  13 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">setGeometry</span><span class="Operator">(</span><span class="Number">300</span><span class="Operator">,</span> <span class="Number">300</span><span class="Operator">,</span> <span class="Number">250</span><span class="Operator">,</span> <span class="Number">150</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  14 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">setWindowTitle</span><span class="Operator">(</span><span class="String">'Draw Text'</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  15 </span></span>
<span class="line"><span class="LineNumber">  16 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">text</span> <span class="Operator">=</span> <span class="String">u'\u041b\u0435\u0432 \u041d\u0438\u043a\u043e\u043b\u0430\u0435\u0432\u0438\u0447 \u0422\u043e\u043b\u0441\u0442\u043e\u0439: \n\u0410\u043d\u043d\u0430 \u041a\u0430\u0440\u0435\u043d\u0438\u043d\u0430'</span></span>
<span class="line"><span class="LineNumber">  17 </span></span>
<span class="line"><span class="LineNumber">  18 </span></span>
<span class="line"><span class="LineNumber">  19 </span></span>
<span class="line"><span class="LineNumber">  20 </span>    <span class="ResWord">def</span> <span class="ID">paintEvent</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">event</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  21 </span>        <span class="ID">paint</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QPainter</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  22 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">begin</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  23 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setPen</span><span class="Operator">(</span><span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QColor</span><span class="Operator">(</span><span class="Number">168</span><span class="Operator">,</span> <span class="Number">34</span><span class="Operator">,</span> <span class="Number">3</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  24 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setFont</span><span class="Operator">(</span><span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QFont</span><span class="Operator">(</span><span class="String">'Decorative'</span><span class="Operator">,</span> <span class="Number">10</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  25 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawText</span><span class="Operator">(</span><span class="ID">event</span><span class="Operator">.</span><span class="ID">rect</span><span class="Operator">(</span><span class="Operator">)</span><span class="Operator">,</span> <span class="ID">QtCore</span><span class="Operator">.</span><span class="ID">Qt</span><span class="Operator">.</span><span class="ID">AlignCenter</span><span class="Operator">,</span> <span class="ID">self</span><span
class="Operator">.</span><span class="ID">text</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  26 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">end</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  27 </span></span>
<span class="line"><span class="LineNumber">  28 </span></span>
<span class="line"><span class="LineNumber">  29 </span><span class="ID">app</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QApplication</span><span class="Operator">(</span><span class="ID">sys</span><span class="Operator">.</span><span class="ID">argv</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  30 </span><span class="ID">dt</span> <span class="Operator">=</span> <span class="ID">DrawText</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  31 </span><span class="ID">dt</span><span class="Operator">.</span><span class="ID">show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  32 </span><span class="ID">app</span><span class="Operator">.</span><span class="ID">exec_</span><span class="Operator">(</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-64" class="anchor"/><span id="line-65" class="anchor"/><p class="line867"><em>In our example, we draw some text in azbuka. The text is vertically and horizontally aligned.</em> <span id="line-66" class="anchor"/><span id="line-67" class="anchor"/></p><ul><li style="list-style-type: none;">这个例子里，我们用azbuka语输出了一些文本。文本在水平和垂直方向都是居中的。 <span id="line-68" class="anchor"/><span id="line-69" class="anchor"/></li></ul><p class="line867"><span id="line-70" class="anchor"/></p><pre> def paintEvent(self, event):
<span id="line-71" class="anchor"/></pre><span id="line-72" class="anchor"/><span id="line-73" class="anchor"/><p class="line867"><em>Drawing is done within a paint event</em> <span id="line-74" class="anchor"/><span id="line-75" class="anchor"/></p><ul><li style="list-style-type: none;">通过一个绘图事件实现绘图。 <span id="line-76" class="anchor"/></li></ul><p class="line867"><span id="line-77" class="anchor"/></p><pre> paint = QtGui.QPainter()
<span id="line-78" class="anchor"/> paint.begin(self)
<span id="line-79" class="anchor"/> ...
<span id="line-80" class="anchor"/> paint.end()
<span id="line-81" class="anchor"/></pre><span id="line-82" class="anchor"/><span id="line-83" class="anchor"/><p class="line874">The QPainter class is responsible for all the low-level painting. All the painting methods go between begin() and end() methods. <span id="line-84" class="anchor"/></p><ul><li style="list-style-type: none;">QPainter类负责所有的底层绘图。所有在begin()和end()方法之间的绘图方法。 <span id="line-85" class="anchor"/></li></ul><p class="line867"><span id="line-86" class="anchor"/></p><pre> paint.setPen(QtGui.QColor(168, 34, 3))
<span id="line-87" class="anchor"/> paint.setFont(QtGui.QFont('Decorative', 10))
<span id="line-88" class="anchor"/></pre><span id="line-89" class="anchor"/><span id="line-90" class="anchor"/><p class="line874">Here we define pen and font, which we use to draw the text. <span id="line-91" class="anchor"/></p><ul><li style="list-style-type: none;">这里我们定义用来输出文字的画笔和字体。 <span id="line-92" class="anchor"/></li></ul><p class="line867"><span id="line-93" class="anchor"/></p><pre> paint.drawText(event.rect(), QtCore.Qt.AlignCenter, self.text)
<span id="line-94" class="anchor"/></pre><span id="line-95" class="anchor"/><span id="line-96" class="anchor"/><p class="line874">The drawText() method actually draws text on the window. <span id="line-97" class="anchor"/></p><ul><li style="list-style-type: none;">drawText()方法实际上在窗口绘制文字。 <span id="line-98" class="anchor"/><span id="line-99" class="anchor"/></li></ul><p class="line874">Drawing Text <span id="line-100" class="anchor"/>Figure: Drawing Text <span id="line-101" class="anchor"/>
</p><h2 id="head-2a4c7734064ef1ef94f805d4265e2da929aa9816">1.2. Drawing points</h2>
<span id="line-102" class="anchor"/><p class="line867"><strong>画点</strong> <span id="line-103" class="anchor"/><span id="line-104" class="anchor"/></p><p class="line874">A point is the most simple graphics object, that can be drawn. It is a small spot on the window. <span id="line-105" class="anchor"/><span id="line-106" class="anchor"/></p><ul><li style="list-style-type: none;">点是可被绘制的最简单的图形对象。是窗口的一个小点。 <span id="line-107" class="anchor"/><span id="line-108" class="anchor"/></li></ul><p class="line867"><span id="line-109" class="anchor"/><span id="line-110"
class="anchor"/><span id="line-111" class="anchor"/><span id="line-112" class="anchor"/><span id="line-113" class="anchor"/><span id="line-114" class="anchor"/><span id="line-115" class="anchor"/><span id="line-116" class="anchor"/><span id="line-117" class="anchor"/><span id="line-118" class="anchor"/><span id="line-119" class="anchor"/><span id="line-120" class="anchor"/><span id="line-121" class="anchor"/><span id="line-122" class="anchor"/><span id="line-123" class="anchor"/><span id="line-124" class="anchor"/><span id="line-125" class="anchor"/><span id="line-126" class="anchor"/><span
id="line-127" class="anchor"/><span id="line-128" class="anchor"/><span id="line-129" class="anchor"/><span id="line-130" class="anchor"/><span id="line-131" class="anchor"/><span id="line-132" class="anchor"/><span id="line-133" class="anchor"/><span id="line-134" class="anchor"/><span id="line-135" class="anchor"/><span id="line-136" class="anchor"/><span id="line-137" class="anchor"/><span id="line-138" class="anchor"/><span id="line-139" class="anchor"/><span id="line-140" class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-0eecd02d9b65e1cc919b98693aec4bc2f1fb55a4_001\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-0eecd02d9b65e1cc919b98693aec4bc2f1fb55a4_001', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-0eecd02d9b65e1cc919b98693aec4bc2f1fb55a4_001" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="Comment">#!/usr/bin/python</span></span>
<span class="line"><span class="LineNumber">   2 </span><span class="Comment"/></span>
<span class="line"><span class="LineNumber">   3 </span><span class="Comment"># points.py</span></span>
<span class="line"><span class="LineNumber">   4 </span><span class="Comment"/></span>
<span class="line"><span class="LineNumber">   5 </span><span class="ResWord">import</span> <span class="ID">sys</span><span class="Operator">,</span> <span class="ID">random</span></span>
<span class="line"><span class="LineNumber">   6 </span><span class="ResWord">from</span> <span class="ID">PyQt4</span> <span class="ResWord">import</span> <span class="ID">QtGui</span><span class="Operator">,</span> <span class="ID">QtCore</span></span>
<span class="line"><span class="LineNumber">   7 </span></span>
<span class="line"><span class="LineNumber">   8 </span></span>
<span class="line"><span class="LineNumber">   9 </span><span class="ResWord">class</span> <span class="ID">Points</span><span class="Operator">(</span><span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QWidget</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  10 </span>    <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">parent</span><span class="Operator">=</span><span class="ID">None</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  11 </span>        <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QWidget</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">parent</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  12 </span></span>
<span class="line"><span class="LineNumber">  13 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">setGeometry</span><span class="Operator">(</span><span class="Number">300</span><span class="Operator">,</span> <span class="Number">300</span><span class="Operator">,</span> <span class="Number">250</span><span class="Operator">,</span> <span class="Number">150</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  14 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">setWindowTitle</span><span class="Operator">(</span><span class="String">'Points'</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  15 </span></span>
<span class="line"><span class="LineNumber">  16 </span>    <span class="ResWord">def</span> <span class="ID">paintEvent</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">event</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  17 </span>        <span class="ID">paint</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QPainter</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  18 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">begin</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  19 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setPen</span><span class="Operator">(</span><span class="ID">QtCore</span><span class="Operator">.</span><span class="ID">Qt</span><span class="Operator">.</span><span class="ID">red</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  20 </span>        <span class="ID">size</span> <span class="Operator">=</span> <span class="ID">self</span><span class="Operator">.</span><span class="ID">size</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  21 </span>        <span class="ResWord">for</span> <span class="ID">i</span> <span class="ResWord">in</span> <span class="ID">range</span><span class="Operator">(</span><span class="Number">1000</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  22 </span>            <span class="ID">x</span> <span class="Operator">=</span> <span class="ID">random</span><span class="Operator">.</span><span class="ID">randint</span><span class="Operator">(</span><span class="Number">1</span><span class="Operator">,</span> <span class="ID">size</span><span class="Operator">.</span><span class="ID">width</span><span class="Operator">(</span><span class="Operator">)</span><span class="Operator">-</span><span class="Number">1</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  23 </span>            <span class="ID">y</span> <span class="Operator">=</span> <span class="ID">random</span><span class="Operator">.</span><span class="ID">randint</span><span class="Operator">(</span><span class="Number">1</span><span class="Operator">,</span> <span class="ID">size</span><span class="Operator">.</span><span class="ID">height</span><span class="Operator">(</span><span class="Operator">)</span><span class="Operator">-</span><span class="Number">1</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  24 </span>            <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawPoint</span><span class="Operator">(</span><span class="ID">x</span><span class="Operator">,</span> <span class="ID">y</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  25 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">end</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  26 </span></span>
<span class="line"><span class="LineNumber">  27 </span><span class="ID">app</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QApplication</span><span class="Operator">(</span><span class="ID">sys</span><span class="Operator">.</span><span class="ID">argv</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  28 </span><span class="ID">dt</span> <span class="Operator">=</span> <span class="ID">Points</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  29 </span><span class="ID">dt</span><span class="Operator">.</span><span class="ID">show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  30 </span><span class="ID">app</span><span class="Operator">.</span><span class="ID">exec_</span><span class="Operator">(</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-141" class="anchor"/><span id="line-142" class="anchor"/><p class="line874">In our example, we draw randomly 1000 red points on the client area. <span id="line-143" class="anchor"/></p><ul><li style="list-style-type: none;">这个例子里，我们随机的在客户区域绘制1000个红点。 <span id="line-144" class="anchor"/></li></ul><p class="line867"><span id="line-145" class="anchor"/></p><pre> paint.setPen(QtCore.Qt.red)
<span id="line-146" class="anchor"/></pre><span id="line-147" class="anchor"/><span id="line-148" class="anchor"/><p class="line874">We set the pen to red color. We use a predefined color constant. <span id="line-149" class="anchor"/></p><ul><li style="list-style-type: none;">我们设置画笔为红色，预定义的颜色常量。 <span id="line-150" class="anchor"/></li></ul><p class="line867"><span id="line-151" class="anchor"/></p><pre> size = self.size()
<span id="line-152" class="anchor"/></pre><span id="line-153" class="anchor"/><p class="line874">Each time we resize the window, a paint event is generated. We get the current size of the window with the size() method. <span id="line-154" class="anchor"/></p><ul><li style="list-style-type: none;">每次改变窗口的尺寸，就会生成一个绘图事件。我们通过size() 方法获取当前的窗口尺寸。 <span id="line-155" class="anchor"/></li></ul><p class="line867"><span id="line-156" class="anchor"/></p><pre> paint.drawPoint(x, y)
<span id="line-157" class="anchor"/></pre><span id="line-158" class="anchor"/><p class="line874">We draw the point with the drawPoint() method. <span id="line-159" class="anchor"/></p><ul><li style="list-style-type: none;">我们通过drawPoint()方法画点。 <span id="line-160" class="anchor"/><span id="line-161" class="anchor"/></li></ul><p class="line874">Points <span id="line-162" class="anchor"/>Figure: Points <span id="line-163" class="anchor"/>
</p><h2 id="head-ca98dcda800f2c55fb28a2c831c5a0fdf6a714d4">1.3. Colors</h2>
<span id="line-164" class="anchor"/><p class="line867"><strong>颜色</strong> <span id="line-165" class="anchor"/><span id="line-166" class="anchor"/></p><p class="line874">A color is an object representing a combination of Red, Green, and Blue (RGB) intensity values. Valid RGB values are in the range 0 to 255. We can define a color in various ways. The most common are RGB decimal values or hexadecimal values. We can also use an RGBA value, which stands for Red, Green, Blue, Alpha. Here we add some extra information, regarding transparency. Alpha value of 255 defines full opacity, 0 is
for full transparency, eg the color is invisible. <span id="line-167" class="anchor"/></p><ul><li style="list-style-type: none;">颜色是通过红，绿，蓝亮度值的组合所表现的对象。正确的RGB值是从0到255，我们可以通过不同的方法来定义一种颜色。最常见的是RGB的十进制或十六进制表示。我们也可以使用包含红，绿，蓝和alpha的RGBA值来表示。这里我们增加一些关于透明度的额外信息，alpha值为255表示完全不透明，0 表示完全透明，比如颜色完全不可见。 <span id="line-168" class="anchor"/></li></ul><p class="line867"><span id="line-169" class="anchor"/><span id="line-170" class="anchor"/><span id="line-171"
class="anchor"/><span id="line-172" class="anchor"/><span id="line-173" class="anchor"/><span id="line-174" class="anchor"/><span id="line-175" class="anchor"/><span id="line-176" class="anchor"/><span id="line-177" class="anchor"/><span id="line-178" class="anchor"/><span id="line-179" class="anchor"/><span id="line-180" class="anchor"/><span id="line-181" class="anchor"/><span id="line-182" class="anchor"/><span id="line-183" class="anchor"/><span id="line-184" class="anchor"/><span id="line-185" class="anchor"/><span id="line-186" class="anchor"/><span id="line-187"
class="anchor"/><span id="line-188" class="anchor"/><span id="line-189" class="anchor"/><span id="line-190" class="anchor"/><span id="line-191" class="anchor"/><span id="line-192" class="anchor"/><span id="line-193" class="anchor"/><span id="line-194" class="anchor"/><span id="line-195" class="anchor"/><span id="line-196" class="anchor"/><span id="line-197" class="anchor"/><span id="line-198" class="anchor"/><span id="line-199" class="anchor"/><span id="line-200" class="anchor"/><span id="line-201" class="anchor"/><span id="line-202" class="anchor"/><span id="line-203"
class="anchor"/><span id="line-204" class="anchor"/><span id="line-205" class="anchor"/><span id="line-206" class="anchor"/><span id="line-207" class="anchor"/><span id="line-208" class="anchor"/><span id="line-209" class="anchor"/><span id="line-210" class="anchor"/><span id="line-211" class="anchor"/><span id="line-212" class="anchor"/><span id="line-213" class="anchor"/><span id="line-214" class="anchor"/><span id="line-215" class="anchor"/><span id="line-216" class="anchor"/><span id="line-217" class="anchor"/><span id="line-218" class="anchor"/><span id="line-219"
class="anchor"/><span id="line-220" class="anchor"/><span id="line-221" class="anchor"/><span id="line-222" class="anchor"/><span id="line-223" class="anchor"/><span id="line-224" class="anchor"/><span id="line-225" class="anchor"/><span id="line-226" class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-20ea7edde94f75b62fc2f3965cf205a91244dfb7_002\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-20ea7edde94f75b62fc2f3965cf205a91244dfb7_002', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-20ea7edde94f75b62fc2f3965cf205a91244dfb7_002" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="Comment">#!/usr/bin/python</span></span>
<span class="line"><span class="LineNumber">   2 </span><span class="Comment"/></span>
<span class="line"><span class="LineNumber">   3 </span><span class="Comment"># colors.py</span></span>
<span class="line"><span class="LineNumber">   4 </span><span class="Comment"/></span>
<span class="line"><span class="LineNumber">   5 </span><span class="ResWord">import</span> <span class="ID">sys</span><span class="Operator">,</span> <span class="ID">random</span></span>
<span class="line"><span class="LineNumber">   6 </span><span class="ResWord">from</span> <span class="ID">PyQt4</span> <span class="ResWord">import</span> <span class="ID">QtGui</span><span class="Operator">,</span> <span class="ID">QtCore</span></span>
<span class="line"><span class="LineNumber">   7 </span></span>
<span class="line"><span class="LineNumber">   8 </span></span>
<span class="line"><span class="LineNumber">   9 </span><span class="ResWord">class</span> <span class="ID">Colors</span><span class="Operator">(</span><span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QWidget</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  10 </span>    <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">parent</span><span class="Operator">=</span><span class="ID">None</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  11 </span>        <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QWidget</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">parent</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  12 </span></span>
<span class="line"><span class="LineNumber">  13 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">setGeometry</span><span class="Operator">(</span><span class="Number">300</span><span class="Operator">,</span> <span class="Number">300</span><span class="Operator">,</span> <span class="Number">350</span><span class="Operator">,</span> <span class="Number">280</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  14 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">setWindowTitle</span><span class="Operator">(</span><span class="String">'Colors'</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  15 </span></span>
<span class="line"><span class="LineNumber">  16 </span>    <span class="ResWord">def</span> <span class="ID">paintEvent</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">event</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  17 </span>        <span class="ID">paint</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QPainter</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  18 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">begin</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  19 </span></span>
<span class="line"><span class="LineNumber">  20 </span>        <span class="ID">color</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QColor</span><span class="Operator">(</span><span class="Number">0</span><span class="Operator">,</span> <span class="Number">0</span><span class="Operator">,</span> <span class="Number">0</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  21 </span>        <span class="ID">color</span><span class="Operator">.</span><span class="ID">setNamedColor</span><span class="Operator">(</span><span class="String">'#d4d4d4'</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  22 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setPen</span><span class="Operator">(</span><span class="ID">color</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  23 </span></span>
<span class="line"><span class="LineNumber">  24 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setBrush</span><span class="Operator">(</span><span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QColor</span><span class="Operator">(</span><span class="Number">255</span><span class="Operator">,</span> <span class="Number">0</span><span class="Operator">,</span> <span class="Number">0</span><span class="Operator">,</span> <span class="Number">80</span><span class="Operator">)</span><span
class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  25 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawRect</span><span class="Operator">(</span><span class="Number">10</span><span class="Operator">,</span> <span class="Number">15</span><span class="Operator">,</span> <span class="Number">90</span><span class="Operator">,</span> <span class="Number">60</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  26 </span></span>
<span class="line"><span class="LineNumber">  27 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setBrush</span><span class="Operator">(</span><span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QColor</span><span class="Operator">(</span><span class="Number">255</span><span class="Operator">,</span> <span class="Number">0</span><span class="Operator">,</span> <span class="Number">0</span><span class="Operator">,</span> <span class="Number">160</span><span class="Operator">)</span><span
class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  28 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawRect</span><span class="Operator">(</span><span class="Number">130</span><span class="Operator">,</span> <span class="Number">15</span><span class="Operator">,</span> <span class="Number">90</span><span class="Operator">,</span> <span class="Number">60</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  29 </span></span>
<span class="line"><span class="LineNumber">  30 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setBrush</span><span class="Operator">(</span><span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QColor</span><span class="Operator">(</span><span class="Number">255</span><span class="Operator">,</span> <span class="Number">0</span><span class="Operator">,</span> <span class="Number">0</span><span class="Operator">,</span> <span class="Number">255</span><span class="Operator">)</span><span
class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  31 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawRect</span><span class="Operator">(</span><span class="Number">250</span><span class="Operator">,</span> <span class="Number">15</span><span class="Operator">,</span> <span class="Number">90</span><span class="Operator">,</span> <span class="Number">60</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  32 </span></span>
<span class="line"><span class="LineNumber">  33 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setBrush</span><span class="Operator">(</span><span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QColor</span><span class="Operator">(</span><span class="Number">10</span><span class="Operator">,</span> <span class="Number">163</span><span class="Operator">,</span> <span class="Number">2</span><span class="Operator">,</span> <span class="Number">55</span><span class="Operator">)</span><span
class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  34 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawRect</span><span class="Operator">(</span><span class="Number">10</span><span class="Operator">,</span> <span class="Number">105</span><span class="Operator">,</span> <span class="Number">90</span><span class="Operator">,</span> <span class="Number">60</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  35 </span></span>
<span class="line"><span class="LineNumber">  36 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setBrush</span><span class="Operator">(</span><span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QColor</span><span class="Operator">(</span><span class="Number">160</span><span class="Operator">,</span> <span class="Number">100</span><span class="Operator">,</span> <span class="Number">0</span><span class="Operator">,</span> <span class="Number">255</span><span class="Operator">)</span><span
class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  37 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawRect</span><span class="Operator">(</span><span class="Number">130</span><span class="Operator">,</span> <span class="Number">105</span><span class="Operator">,</span> <span class="Number">90</span><span class="Operator">,</span> <span class="Number">60</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  38 </span></span>
<span class="line"><span class="LineNumber">  39 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setBrush</span><span class="Operator">(</span><span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QColor</span><span class="Operator">(</span><span class="Number">60</span><span class="Operator">,</span> <span class="Number">100</span><span class="Operator">,</span> <span class="Number">60</span><span class="Operator">,</span> <span class="Number">255</span><span class="Operator">)</span><span
class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  40 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawRect</span><span class="Operator">(</span><span class="Number">250</span><span class="Operator">,</span> <span class="Number">105</span><span class="Operator">,</span> <span class="Number">90</span><span class="Operator">,</span> <span class="Number">60</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  41 </span></span>
<span class="line"><span class="LineNumber">  42 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setBrush</span><span class="Operator">(</span><span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QColor</span><span class="Operator">(</span><span class="Number">50</span><span class="Operator">,</span> <span class="Number">50</span><span class="Operator">,</span> <span class="Number">50</span><span class="Operator">,</span> <span class="Number">255</span><span class="Operator">)</span><span
class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  43 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawRect</span><span class="Operator">(</span><span class="Number">10</span><span class="Operator">,</span> <span class="Number">195</span><span class="Operator">,</span> <span class="Number">90</span><span class="Operator">,</span> <span class="Number">60</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  44 </span></span>
<span class="line"><span class="LineNumber">  45 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setBrush</span><span class="Operator">(</span><span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QColor</span><span class="Operator">(</span><span class="Number">50</span><span class="Operator">,</span> <span class="Number">150</span><span class="Operator">,</span> <span class="Number">50</span><span class="Operator">,</span> <span class="Number">255</span><span class="Operator">)</span><span
class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  46 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawRect</span><span class="Operator">(</span><span class="Number">130</span><span class="Operator">,</span> <span class="Number">195</span><span class="Operator">,</span> <span class="Number">90</span><span class="Operator">,</span> <span class="Number">60</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  47 </span></span>
<span class="line"><span class="LineNumber">  48 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setBrush</span><span class="Operator">(</span><span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QColor</span><span class="Operator">(</span><span class="Number">223</span><span class="Operator">,</span> <span class="Number">135</span><span class="Operator">,</span> <span class="Number">19</span><span class="Operator">,</span> <span class="Number">255</span><span class="Operator">)</span><span
class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  49 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawRect</span><span class="Operator">(</span><span class="Number">250</span><span class="Operator">,</span> <span class="Number">195</span><span class="Operator">,</span> <span class="Number">90</span><span class="Operator">,</span> <span class="Number">60</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  50 </span></span>
<span class="line"><span class="LineNumber">  51 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">end</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  52 </span></span>
<span class="line"><span class="LineNumber">  53 </span><span class="ID">app</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QApplication</span><span class="Operator">(</span><span class="ID">sys</span><span class="Operator">.</span><span class="ID">argv</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  54 </span><span class="ID">dt</span> <span class="Operator">=</span> <span class="ID">Colors</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  55 </span><span class="ID">dt</span><span class="Operator">.</span><span class="ID">show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  56 </span><span class="ID">app</span><span class="Operator">.</span><span class="ID">exec_</span><span class="Operator">(</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-227" class="anchor"/><span id="line-228" class="anchor"/><p class="line874">In our example, we draw 9 colored rectangles. The first row shows a red color, with different alpha values. <span id="line-229" class="anchor"/></p><ul><li style="list-style-type: none;">这个例子里，我们画了9个有颜色的长方形。第一行显示了具有不同alpha值的红色。 <span id="line-230" class="anchor"/></li></ul><p class="line867"><span id="line-231" class="anchor"/></p><pre> color = QtGui.QColor(0, 0, 0)
<span id="line-232" class="anchor"/> color.setNamedColor('#d4d4d4')
<span id="line-233" class="anchor"/></pre><span id="line-234" class="anchor"/><p class="line874">Here we define a color using hexadecimal notation. <span id="line-235" class="anchor"/></p><ul><li style="list-style-type: none;">这里我们通过使用十六进制表示来定义一个颜色 <span id="line-236" class="anchor"/></li></ul><p class="line867"><span id="line-237" class="anchor"/></p><pre> paint.setBrush(QtGui.QColor(255, 0, 0, 80));
<span id="line-238" class="anchor"/> paint.drawRect(10, 15, 90, 60)
<span id="line-239" class="anchor"/></pre><span id="line-240" class="anchor"/><p class="line874">Here we define a brush and draw a rectangle. A brush is an elementary graphics object, which is used to draw the background of a shape. The drawRect() method accepts four parameter. The first two are x, y values on the axis. The third and fourth parameters are width and height of the rectangle. The method draws a rectangle using current pen and current brush. <span id="line-241" class="anchor"/></p><ul><li style="list-style-type:
none;">这里我们定义刷子并绘制一个矩形。刷子是用来绘制形状背景的基本绘图对象，drawRect()方法接受四个参数，头两个是坐标轴的x,y值。第三个和第四个参数是矩形的宽和高。这个方法使用当前画笔和当前刷子绘制一个矩形。 <span id="line-242" class="anchor"/><span id="line-243" class="anchor"/></li></ul><p class="line874">Colors <span id="line-244" class="anchor"/>Figure: Colors <span id="line-245" class="anchor"/>
</p><h2 id="head-8d14f4ba2a4a9140e52362667b78b111fc7bb469">1.4. QPen</h2>
<span id="line-246" class="anchor"/><span id="line-247" class="anchor"/><p class="line874">QPen is an elementary graphics object. It is used to draw lines, curves and outlines of rectangles, ellipses, polygons or other shapes. <span id="line-248" class="anchor"/></p><ul><li style="list-style-type: none;">Q画笔是一个用来画直线，曲线和矩形的轮廓，椭圆，多边形或其他图形的基本绘图对象。 <span id="line-249" class="anchor"/></li></ul><p class="line867"><span id="line-250" class="anchor"/><span id="line-251" class="anchor"/><span id="line-252" class="anchor"/><span
id="line-253" class="anchor"/><span id="line-254" class="anchor"/><span id="line-255" class="anchor"/><span id="line-256" class="anchor"/><span id="line-257" class="anchor"/><span id="line-258" class="anchor"/><span id="line-259" class="anchor"/><span id="line-260" class="anchor"/><span id="line-261" class="anchor"/><span id="line-262" class="anchor"/><span id="line-263" class="anchor"/><span id="line-264" class="anchor"/><span id="line-265" class="anchor"/><span id="line-266" class="anchor"/><span id="line-267" class="anchor"/><span id="line-268" class="anchor"/><span
id="line-269" class="anchor"/><span id="line-270" class="anchor"/><span id="line-271" class="anchor"/><span id="line-272" class="anchor"/><span id="line-273" class="anchor"/><span id="line-274" class="anchor"/><span id="line-275" class="anchor"/><span id="line-276" class="anchor"/><span id="line-277" class="anchor"/><span id="line-278" class="anchor"/><span id="line-279" class="anchor"/><span id="line-280" class="anchor"/><span id="line-281" class="anchor"/><span id="line-282" class="anchor"/><span id="line-283" class="anchor"/><span id="line-284" class="anchor"/><span
id="line-285" class="anchor"/><span id="line-286" class="anchor"/><span id="line-287" class="anchor"/><span id="line-288" class="anchor"/><span id="line-289" class="anchor"/><span id="line-290" class="anchor"/><span id="line-291" class="anchor"/><span id="line-292" class="anchor"/><span id="line-293" class="anchor"/><span id="line-294" class="anchor"/><span id="line-295" class="anchor"/><span id="line-296" class="anchor"/><span id="line-297" class="anchor"/><span id="line-298" class="anchor"/><span id="line-299" class="anchor"/><span id="line-300" class="anchor"/><span
id="line-301" class="anchor"/><span id="line-302" class="anchor"/><span id="line-303" class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-2bd4a8013082c4e77257df1d1da48f8140dae334_003\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-2bd4a8013082c4e77257df1d1da48f8140dae334_003', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-2bd4a8013082c4e77257df1d1da48f8140dae334_003" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="Comment">#!/usr/bin/python</span></span>
<span class="line"><span class="LineNumber">   2 </span><span class="Comment"/></span>
<span class="line"><span class="LineNumber">   3 </span><span class="Comment"># penstyles.py</span></span>
<span class="line"><span class="LineNumber">   4 </span><span class="Comment"/></span>
<span class="line"><span class="LineNumber">   5 </span><span class="ResWord">import</span> <span class="ID">sys</span></span>
<span class="line"><span class="LineNumber">   6 </span><span class="ResWord">from</span> <span class="ID">PyQt4</span> <span class="ResWord">import</span> <span class="ID">QtGui</span><span class="Operator">,</span> <span class="ID">QtCore</span></span>
<span class="line"><span class="LineNumber">   7 </span></span>
<span class="line"><span class="LineNumber">   8 </span></span>
<span class="line"><span class="LineNumber">   9 </span><span class="ResWord">class</span> <span class="ID">PenStyles</span><span class="Operator">(</span><span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QWidget</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  10 </span>    <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">parent</span><span class="Operator">=</span><span class="ID">None</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  11 </span>        <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QWidget</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">parent</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  12 </span></span>
<span class="line"><span class="LineNumber">  13 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">setGeometry</span><span class="Operator">(</span><span class="Number">300</span><span class="Operator">,</span> <span class="Number">300</span><span class="Operator">,</span> <span class="Number">280</span><span class="Operator">,</span> <span class="Number">270</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  14 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">setWindowTitle</span><span class="Operator">(</span><span class="String">'penstyles'</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  15 </span></span>
<span class="line"><span class="LineNumber">  16 </span>    <span class="ResWord">def</span> <span class="ID">paintEvent</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">event</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  17 </span>        <span class="ID">paint</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QPainter</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  18 </span></span>
<span class="line"><span class="LineNumber">  19 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">begin</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  20 </span></span>
<span class="line"><span class="LineNumber">  21 </span>        <span class="ID">pen</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QPen</span><span class="Operator">(</span><span class="ID">QtCore</span><span class="Operator">.</span><span class="ID">Qt</span><span class="Operator">.</span><span class="ID">black</span><span class="Operator">,</span> <span class="Number">2</span><span class="Operator">,</span> <span class="ID">QtCore</span><span class="Operator">.</span><span
class="ID">Qt</span><span class="Operator">.</span><span class="ID">SolidLine</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  22 </span></span>
<span class="line"><span class="LineNumber">  23 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setPen</span><span class="Operator">(</span><span class="ID">pen</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  24 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawLine</span><span class="Operator">(</span><span class="Number">20</span><span class="Operator">,</span> <span class="Number">40</span><span class="Operator">,</span> <span class="Number">250</span><span class="Operator">,</span> <span class="Number">40</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  25 </span></span>
<span class="line"><span class="LineNumber">  26 </span>        <span class="ID">pen</span><span class="Operator">.</span><span class="ID">setStyle</span><span class="Operator">(</span><span class="ID">QtCore</span><span class="Operator">.</span><span class="ID">Qt</span><span class="Operator">.</span><span class="ID">DashLine</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  27 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setPen</span><span class="Operator">(</span><span class="ID">pen</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  28 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawLine</span><span class="Operator">(</span><span class="Number">20</span><span class="Operator">,</span> <span class="Number">80</span><span class="Operator">,</span> <span class="Number">250</span><span class="Operator">,</span> <span class="Number">80</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  29 </span></span>
<span class="line"><span class="LineNumber">  30 </span>        <span class="ID">pen</span><span class="Operator">.</span><span class="ID">setStyle</span><span class="Operator">(</span><span class="ID">QtCore</span><span class="Operator">.</span><span class="ID">Qt</span><span class="Operator">.</span><span class="ID">DashDotLine</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  31 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setPen</span><span class="Operator">(</span><span class="ID">pen</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  32 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawLine</span><span class="Operator">(</span><span class="Number">20</span><span class="Operator">,</span> <span class="Number">120</span><span class="Operator">,</span> <span class="Number">250</span><span class="Operator">,</span> <span class="Number">120</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  33 </span></span>
<span class="line"><span class="LineNumber">  34 </span>        <span class="ID">pen</span><span class="Operator">.</span><span class="ID">setStyle</span><span class="Operator">(</span><span class="ID">QtCore</span><span class="Operator">.</span><span class="ID">Qt</span><span class="Operator">.</span><span class="ID">DotLine</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  35 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setPen</span><span class="Operator">(</span><span class="ID">pen</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  36 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawLine</span><span class="Operator">(</span><span class="Number">20</span><span class="Operator">,</span> <span class="Number">160</span><span class="Operator">,</span> <span class="Number">250</span><span class="Operator">,</span> <span class="Number">160</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  37 </span></span>
<span class="line"><span class="LineNumber">  38 </span>        <span class="ID">pen</span><span class="Operator">.</span><span class="ID">setStyle</span><span class="Operator">(</span><span class="ID">QtCore</span><span class="Operator">.</span><span class="ID">Qt</span><span class="Operator">.</span><span class="ID">DashDotDotLine</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  39 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setPen</span><span class="Operator">(</span><span class="ID">pen</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  40 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawLine</span><span class="Operator">(</span><span class="Number">20</span><span class="Operator">,</span> <span class="Number">200</span><span class="Operator">,</span> <span class="Number">250</span><span class="Operator">,</span> <span class="Number">200</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  41 </span></span>
<span class="line"><span class="LineNumber">  42 </span>        <span class="ID">pen</span><span class="Operator">.</span><span class="ID">setStyle</span><span class="Operator">(</span><span class="ID">QtCore</span><span class="Operator">.</span><span class="ID">Qt</span><span class="Operator">.</span><span class="ID">CustomDashLine</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  43 </span>        <span class="ID">pen</span><span class="Operator">.</span><span class="ID">setDashPattern</span><span class="Operator">(</span><span class="Operator">[</span><span class="Number">1</span><span class="Operator">,</span> <span class="Number">4</span><span class="Operator">,</span> <span class="Number">5</span><span class="Operator">,</span> <span class="Number">4</span><span class="Operator">]</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  44 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setPen</span><span class="Operator">(</span><span class="ID">pen</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  45 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawLine</span><span class="Operator">(</span><span class="Number">20</span><span class="Operator">,</span> <span class="Number">240</span><span class="Operator">,</span> <span class="Number">250</span><span class="Operator">,</span> <span class="Number">240</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  46 </span></span>
<span class="line"><span class="LineNumber">  47 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">end</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  48 </span></span>
<span class="line"><span class="LineNumber">  49 </span><span class="ID">app</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QApplication</span><span class="Operator">(</span><span class="ID">sys</span><span class="Operator">.</span><span class="ID">argv</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  50 </span><span class="ID">dt</span> <span class="Operator">=</span> <span class="ID">PenStyles</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  51 </span><span class="ID">dt</span><span class="Operator">.</span><span class="ID">show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  52 </span><span class="ID">app</span><span class="Operator">.</span><span class="ID">exec_</span><span class="Operator">(</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-304" class="anchor"/><span id="line-305" class="anchor"/><span id="line-306" class="anchor"/><p class="line874">In our example, we draw six lines. The lines are drawn in six different pen styles. There are five predefined pen styles. We can create also custom pen styles. The last line is drawn using custom pen style. <span id="line-307" class="anchor"/></p><ul><li style="list-style-type:
none;">这个例子里我们绘制六条直线。这些线通过六种不同的笔类型绘制，其中有五种是预定义的笔类型，我们也可以自定义笔类型，最后的一根直线使用了自定义的笔类型。 <span id="line-308" class="anchor"/></li></ul><p class="line867"><span id="line-309" class="anchor"/></p><pre> pen = QtGui.QPen(QtCore.Qt.black, 2, QtCore.Qt.SolidLine)
<span id="line-310" class="anchor"/></pre><span id="line-311" class="anchor"/><p class="line862">We create a QPen object. The color is black. The width is set to 2 pixels, so that we can see the differences between the pen styles. The <a href="/moin/QtCore" class="nonexistent">QtCore</a>.Qt.<a href="/moin/SolidLine" class="nonexistent">SolidLine</a> is one of the predefined pen styles. <span id="line-312" class="anchor"/></p><ul><li style="list-style-type: none;"><p
class="line862">我们创建一个Q画笔对象，颜色是黑色，宽度设置为2像素，这样我们可以看到不同的笔类型间的区别。<a href="/moin/QtCore" class="nonexistent">QtCore</a>.Qt.<a href="/moin/SolidLine" class="nonexistent">SolidLine</a>是一个预定义的笔类型。 <span id="line-313" class="anchor"/></p></li></ul><p class="line867"><span id="line-314" class="anchor"/></p><pre> pen.setStyle(QtCore.Qt.CustomDashLine)
<span id="line-315" class="anchor"/> pen.setDashPattern([1, 4, 5, 4])
<span id="line-316" class="anchor"/> paint.setPen(pen)
<span id="line-317" class="anchor"/></pre><span id="line-318" class="anchor"/><p class="line862">Here we define a custom pen style. We set a <a href="/moin/QtCore" class="nonexistent">QtCore</a>.Qt.<a href="/moin/CustomDashLine" class="nonexistent">CustomDashLine</a> pen style and call a setDashPattern() method. The list of numbers defines a style. There must be an even number of numbers. Odd numbers define a dash, even numbers space. The greater the number, the greater the space or the dash. Our pattern is 1px dash 4px space 5px dash 4px space etc.
<span id="line-319" class="anchor"/></p><ul><li style="list-style-type: none;"><p class="line862">这里我们定义一个自定义画笔类型。我们设置<a href="/moin/QtCore" class="nonexistent">QtCore</a>.Qt.<a href="/moin/CustomDashLine" class="nonexistent">CustomDashLine</a>画笔类型并且调用setDashPattern()方法。数字列表定义一个类型，必须有偶数个数字，奇数位置定义一个破折号，偶数位置定义一个空白，数字越大，空白或者破折号就越长。我们的例子是1像素的破折，4像素的空白，5像素的破折，4像素的空白。 <span id="line-320" class="anchor"/><span id="line-321"
class="anchor"/></p></li></ul><p class="line874">Pen Styles <span id="line-322" class="anchor"/>Figure: Pen Styles <span id="line-323" class="anchor"/>
</p><h2 id="head-fea9029f7254fd4f088599c78270f05eeaa129ff">1.5. QBrush</h2>
<span id="line-324" class="anchor"/><span id="line-325" class="anchor"/><p class="line874">QBrush is an elementary graphics object. It is used to paint the background of graphics shapes, such as rectangles, ellipses or polygons. A brush can be of three different types. A predefined brush a gradien or a texture pattern. <span id="line-326" class="anchor"/></p><ul><li style="list-style-type: none;">Q刷子是用来绘制图形(例如矩形，椭圆形或多边形)背景的基本图形对象。刷子可以有三种不同的类型，预定义的，gradien或者纹理样式的。 <span id="line-327"
class="anchor"/></li></ul><p class="line867"><span id="line-328" class="anchor"/><span id="line-329" class="anchor"/><span id="line-330" class="anchor"/><span id="line-331" class="anchor"/><span id="line-332" class="anchor"/><span id="line-333" class="anchor"/><span id="line-334" class="anchor"/><span id="line-335" class="anchor"/><span id="line-336" class="anchor"/><span id="line-337" class="anchor"/><span id="line-338" class="anchor"/><span id="line-339" class="anchor"/><span id="line-340" class="anchor"/><span id="line-341" class="anchor"/><span
id="line-342" class="anchor"/><span id="line-343" class="anchor"/><span id="line-344" class="anchor"/><span id="line-345" class="anchor"/><span id="line-346" class="anchor"/><span id="line-347" class="anchor"/><span id="line-348" class="anchor"/><span id="line-349" class="anchor"/><span id="line-350" class="anchor"/><span id="line-351" class="anchor"/><span id="line-352" class="anchor"/><span id="line-353" class="anchor"/><span id="line-354" class="anchor"/><span id="line-355" class="anchor"/><span id="line-356" class="anchor"/><span id="line-357"
class="anchor"/><span id="line-358" class="anchor"/><span id="line-359" class="anchor"/><span id="line-360" class="anchor"/><span id="line-361" class="anchor"/><span id="line-362" class="anchor"/><span id="line-363" class="anchor"/><span id="line-364" class="anchor"/><span id="line-365" class="anchor"/><span id="line-366" class="anchor"/><span id="line-367" class="anchor"/><span id="line-368" class="anchor"/><span id="line-369" class="anchor"/><span id="line-370" class="anchor"/><span id="line-371" class="anchor"/><span id="line-372"
class="anchor"/><span id="line-373" class="anchor"/><span id="line-374" class="anchor"/><span id="line-375" class="anchor"/><span id="line-376" class="anchor"/><span id="line-377" class="anchor"/><span id="line-378" class="anchor"/><span id="line-379" class="anchor"/><span id="line-380" class="anchor"/><span id="line-381" class="anchor"/><span id="line-382" class="anchor"/><span id="line-383" class="anchor"/><span id="line-384" class="anchor"/><span id="line-385" class="anchor"/><span id="line-386" class="anchor"/><span id="line-387"
class="anchor"/><span id="line-388" class="anchor"/><span id="line-389" class="anchor"/><span id="line-390" class="anchor"/><span id="line-391" class="anchor"/><span id="line-392" class="anchor"/><span id="line-393" class="anchor"/><span id="line-394" class="anchor"/><span id="line-395" class="anchor"/><span id="line-396" class="anchor"/><span id="line-397" class="anchor"/><span id="line-398" class="anchor"/><span id="line-399" class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-9f94fc7634bc200e2c0014c344cf5931e1e5a939_004\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-9f94fc7634bc200e2c0014c344cf5931e1e5a939_004', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-9f94fc7634bc200e2c0014c344cf5931e1e5a939_004" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="Comment">#!/usr/bin/python</span></span>
<span class="line"><span class="LineNumber">   2 </span><span class="Comment"/></span>
<span class="line"><span class="LineNumber">   3 </span><span class="Comment"># brushes.py</span></span>
<span class="line"><span class="LineNumber">   4 </span><span class="Comment"/></span>
<span class="line"><span class="LineNumber">   5 </span><span class="ResWord">import</span> <span class="ID">sys</span></span>
<span class="line"><span class="LineNumber">   6 </span><span class="ResWord">from</span> <span class="ID">PyQt4</span> <span class="ResWord">import</span> <span class="ID">QtGui</span><span class="Operator">,</span> <span class="ID">QtCore</span></span>
<span class="line"><span class="LineNumber">   7 </span></span>
<span class="line"><span class="LineNumber">   8 </span></span>
<span class="line"><span class="LineNumber">   9 </span><span class="ResWord">class</span> <span class="ID">Brushes</span><span class="Operator">(</span><span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QWidget</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  10 </span>    <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">parent</span><span class="Operator">=</span><span class="ID">None</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  11 </span>        <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QWidget</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">parent</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  12 </span></span>
<span class="line"><span class="LineNumber">  13 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">setGeometry</span><span class="Operator">(</span><span class="Number">300</span><span class="Operator">,</span> <span class="Number">300</span><span class="Operator">,</span> <span class="Number">355</span><span class="Operator">,</span> <span class="Number">280</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  14 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">setWindowTitle</span><span class="Operator">(</span><span class="String">'Brushes'</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  15 </span></span>
<span class="line"><span class="LineNumber">  16 </span>    <span class="ResWord">def</span> <span class="ID">paintEvent</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">event</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  17 </span>        <span class="ID">paint</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QPainter</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  18 </span></span>
<span class="line"><span class="LineNumber">  19 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">begin</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  20 </span></span>
<span class="line"><span class="LineNumber">  21 </span>        <span class="ID">brush</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QBrush</span><span class="Operator">(</span><span class="ID">QtCore</span><span class="Operator">.</span><span class="ID">Qt</span><span class="Operator">.</span><span class="ID">SolidPattern</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  22 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setBrush</span><span class="Operator">(</span><span class="ID">brush</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  23 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawRect</span><span class="Operator">(</span><span class="Number">10</span><span class="Operator">,</span> <span class="Number">15</span><span class="Operator">,</span> <span class="Number">90</span><span class="Operator">,</span> <span class="Number">60</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  24 </span></span>
<span class="line"><span class="LineNumber">  25 </span>        <span class="ID">brush</span><span class="Operator">.</span><span class="ID">setStyle</span><span class="Operator">(</span><span class="ID">QtCore</span><span class="Operator">.</span><span class="ID">Qt</span><span class="Operator">.</span><span class="ID">Dense1Pattern</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  26 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setBrush</span><span class="Operator">(</span><span class="ID">brush</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  27 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawRect</span><span class="Operator">(</span><span class="Number">130</span><span class="Operator">,</span> <span class="Number">15</span><span class="Operator">,</span> <span class="Number">90</span><span class="Operator">,</span> <span class="Number">60</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  28 </span></span>
<span class="line"><span class="LineNumber">  29 </span>        <span class="ID">brush</span><span class="Operator">.</span><span class="ID">setStyle</span><span class="Operator">(</span><span class="ID">QtCore</span><span class="Operator">.</span><span class="ID">Qt</span><span class="Operator">.</span><span class="ID">Dense2Pattern</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  30 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setBrush</span><span class="Operator">(</span><span class="ID">brush</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  31 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawRect</span><span class="Operator">(</span><span class="Number">250</span><span class="Operator">,</span> <span class="Number">15</span><span class="Operator">,</span> <span class="Number">90</span><span class="Operator">,</span> <span class="Number">60</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  32 </span></span>
<span class="line"><span class="LineNumber">  33 </span>        <span class="ID">brush</span><span class="Operator">.</span><span class="ID">setStyle</span><span class="Operator">(</span><span class="ID">QtCore</span><span class="Operator">.</span><span class="ID">Qt</span><span class="Operator">.</span><span class="ID">Dense3Pattern</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  34 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setBrush</span><span class="Operator">(</span><span class="ID">brush</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  35 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawRect</span><span class="Operator">(</span><span class="Number">10</span><span class="Operator">,</span> <span class="Number">105</span><span class="Operator">,</span> <span class="Number">90</span><span class="Operator">,</span> <span class="Number">60</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  36 </span></span>
<span class="line"><span class="LineNumber">  37 </span>        <span class="ID">brush</span><span class="Operator">.</span><span class="ID">setStyle</span><span class="Operator">(</span><span class="ID">QtCore</span><span class="Operator">.</span><span class="ID">Qt</span><span class="Operator">.</span><span class="ID">DiagCrossPattern</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  38 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setBrush</span><span class="Operator">(</span><span class="ID">brush</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  39 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawRect</span><span class="Operator">(</span><span class="Number">10</span><span class="Operator">,</span> <span class="Number">105</span><span class="Operator">,</span> <span class="Number">90</span><span class="Operator">,</span> <span class="Number">60</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  40 </span></span>
<span class="line"><span class="LineNumber">  41 </span>        <span class="ID">brush</span><span class="Operator">.</span><span class="ID">setStyle</span><span class="Operator">(</span><span class="ID">QtCore</span><span class="Operator">.</span><span class="ID">Qt</span><span class="Operator">.</span><span class="ID">Dense5Pattern</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  42 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setBrush</span><span class="Operator">(</span><span class="ID">brush</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  43 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawRect</span><span class="Operator">(</span><span class="Number">130</span><span class="Operator">,</span> <span class="Number">105</span><span class="Operator">,</span> <span class="Number">90</span><span class="Operator">,</span> <span class="Number">60</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  44 </span></span>
<span class="line"><span class="LineNumber">  45 </span>        <span class="ID">brush</span><span class="Operator">.</span><span class="ID">setStyle</span><span class="Operator">(</span><span class="ID">QtCore</span><span class="Operator">.</span><span class="ID">Qt</span><span class="Operator">.</span><span class="ID">Dense6Pattern</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  46 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setBrush</span><span class="Operator">(</span><span class="ID">brush</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  47 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawRect</span><span class="Operator">(</span><span class="Number">250</span><span class="Operator">,</span> <span class="Number">105</span><span class="Operator">,</span> <span class="Number">90</span><span class="Operator">,</span> <span class="Number">60</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  48 </span></span>
<span class="line"><span class="LineNumber">  49 </span>        <span class="ID">brush</span><span class="Operator">.</span><span class="ID">setStyle</span><span class="Operator">(</span><span class="ID">QtCore</span><span class="Operator">.</span><span class="ID">Qt</span><span class="Operator">.</span><span class="ID">Dense7Pattern</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  50 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setBrush</span><span class="Operator">(</span><span class="ID">brush</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  51 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawRect</span><span class="Operator">(</span><span class="Number">250</span><span class="Operator">,</span> <span class="Number">105</span><span class="Operator">,</span> <span class="Number">90</span><span class="Operator">,</span> <span class="Number">60</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  52 </span></span>
<span class="line"><span class="LineNumber">  53 </span>        <span class="ID">brush</span><span class="Operator">.</span><span class="ID">setStyle</span><span class="Operator">(</span><span class="ID">QtCore</span><span class="Operator">.</span><span class="ID">Qt</span><span class="Operator">.</span><span class="ID">HorPattern</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  54 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setBrush</span><span class="Operator">(</span><span class="ID">brush</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  55 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawRect</span><span class="Operator">(</span><span class="Number">10</span><span class="Operator">,</span> <span class="Number">195</span><span class="Operator">,</span> <span class="Number">90</span><span class="Operator">,</span> <span class="Number">60</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  56 </span></span>
<span class="line"><span class="LineNumber">  57 </span>        <span class="ID">brush</span><span class="Operator">.</span><span class="ID">setStyle</span><span class="Operator">(</span><span class="ID">QtCore</span><span class="Operator">.</span><span class="ID">Qt</span><span class="Operator">.</span><span class="ID">VerPattern</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  58 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setBrush</span><span class="Operator">(</span><span class="ID">brush</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  59 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawRect</span><span class="Operator">(</span><span class="Number">130</span><span class="Operator">,</span> <span class="Number">195</span><span class="Operator">,</span> <span class="Number">90</span><span class="Operator">,</span> <span class="Number">60</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  60 </span></span>
<span class="line"><span class="LineNumber">  61 </span>        <span class="ID">brush</span><span class="Operator">.</span><span class="ID">setStyle</span><span class="Operator">(</span><span class="ID">QtCore</span><span class="Operator">.</span><span class="ID">Qt</span><span class="Operator">.</span><span class="ID">BDiagPattern</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  62 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">setBrush</span><span class="Operator">(</span><span class="ID">brush</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  63 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">drawRect</span><span class="Operator">(</span><span class="Number">250</span><span class="Operator">,</span> <span class="Number">195</span><span class="Operator">,</span> <span class="Number">90</span><span class="Operator">,</span> <span class="Number">60</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  64 </span></span>
<span class="line"><span class="LineNumber">  65 </span>        <span class="ID">paint</span><span class="Operator">.</span><span class="ID">end</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  66 </span></span>
<span class="line"><span class="LineNumber">  67 </span><span class="ID">app</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QApplication</span><span class="Operator">(</span><span class="ID">sys</span><span class="Operator">.</span><span class="ID">argv</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  68 </span><span class="ID">dt</span> <span class="Operator">=</span> <span class="ID">Brushes</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  69 </span><span class="ID">dt</span><span class="Operator">.</span><span class="ID">show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  70 </span><span class="ID">app</span><span class="Operator">.</span><span class="ID">exec_</span><span class="Operator">(</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-400" class="anchor"/><span id="line-401" class="anchor"/><span id="line-402" class="anchor"/><p class="line874">In our example, we draw six different rectangles. <span id="line-403" class="anchor"/></p><ul><li style="list-style-type: none;">这个例子里，我们绘制六个不同的矩形。 <span id="line-404" class="anchor"/></li></ul><p class="line867"><span id="line-405" class="anchor"/></p><pre> brush = QtGui.QBrush(QtCore.Qt.SolidPattern)
<span id="line-406" class="anchor"/> paint.setBrush(brush)
<span id="line-407" class="anchor"/> paint.drawRect(10, 15, 90, 60)
<span id="line-408" class="anchor"/></pre><span id="line-409" class="anchor"/><p class="line874">We define a brush object. Set it to the painter object. And draw the rectangle calling the drawRect() method. <span id="line-410" class="anchor"/></p><ul><li style="list-style-type: none;">我们定义一个刷子对象，将它设置到绘图对象，然后通过调用drawRect()绘制矩形。 <span id="line-411" class="anchor"/><span id="line-412" class="anchor"/></li></ul><p class="line874">Brushes <span id="line-413" class="anchor"/>Figure: Brushes <span id="line-414"
class="anchor"/><span id="line-415" class="anchor"/></p><p class="line867">
</p><h1 id="head-86fa6d87987e319c4bd454c0f731a4b923b126ce">2. 交流</h1>
<span id="line-416" class="anchor"/><p class="line867"/><div id="pagecomment">
<a name="pagecomment1"/>
<table border="0" class="pagecomment">
<tbody><tr><td colspan="5" style="border-width: 1px; margin: 10px 0pt;">

<script language="javascript">
<!--
function setCookie(name, value) {
var today = new Date();
var expire = new Date(today.getTime() + 60*60*24*365*1000);
document.cookie = name + "=" + encodeURIComponent(value) + "; expires=" + expire.toGMTString() + "; path=/moin";
}
//-->
</script>
<form onsubmit="setCookie('PG2AUTHOR', this.comauthor.value);" method="post" name="comment" action="Drawing_%E7%BB%98%E5%9B%BE#pagecomment1">
<table class="addcommentform">
<tbody><tr>
<td style="border-width: 0px; vertical-align: middle; font-size: 0.9em;"><textarea onblur="if (this.value=='') {this.value='Add your comment';};" onfocus="if (this.value=='Add your comment') {this.value='';};" style="font-size: 9pt;" cols="60" rows="4" name="comtext">Add your comment</textarea></td>
<td style="border-width: 0px; font-size: 0.9em; vertical-align: bottom;"><input type="submit" style="font-size: 9pt; width: 6em; height: 3em;" value="保存" name="button_save"/></td>
</tr>
<tr><td style="border-width: 0px; vertical-align: middle; font-size: 0.9em;">
Name<input type="text" onblur="if (this.value=='') {this.value='58';};" onfocus="if (this.value=='58') {this.value='';};" value="58" name="comauthor" maxlength="20" size="6" style="font-size: 9pt;"/>
Password4deL<input type="password" onblur="if (this.value=='') {this.value='may8';};" onfocus="if (this.value=='may8') {this.value='';};" value="may8" name="compasswd" maxlength="10" size="4" style="font-size: 9pt;"/>
<input type="hidden" name="autopasswd" value="may8"/>
<input type="radio" value=";)" name="comicon"/><img width="15" height="15" title=";)" src="/htdocs/woodpecker/img/smile4.png" alt=";)"/>
<input type="radio" value="=D" name="comicon"/>
<input type="radio" value="=)" name="comicon"/>
<input type="radio" value=":P" name="comicon"/>
<input type="radio" value=":(|)" name="comicon"/>
<input type="radio" value=":-|" name="comicon"/>
<input type="radio" value=":(" name="comicon"/><img width="15" height="15" title=":(" src="/htdocs/woodpecker/img/sad.png" alt=":("/>
<input type="radio" value="X-(" name="comicon"/><img width="15" height="15" title="X-(" src="/htdocs/woodpecker/img/angry.png" alt="X-("/>
<input type="radio" value="B-)" name="comicon"/><img width="15" height="15" title="B-)" src="/htdocs/woodpecker/img/smile2.png" alt="B-)"/>

</td>
<td style="border-width: 0px; vertical-align: middle; text-align: right; font-size: 9pt;"/>
</tr>
</tbody></table>
<input type="hidden" value="show" name="action"/>
<input type="hidden" value="0" name="comrev"/>
<input type="hidden" value="addcomment1" name="commentaction"/>
</form>
</td></tr>
<tr><td style="border-width: 0px; height: 20px;" class="commentblankline" colspan="5"/></tr>
<script language="javascript">
<!--
function requesttodeleteadmin1(delform, comkey) {
if (confirm("Really delete this comment?")) {;
delform.delkey.value = comkey;
delform.delpasswd.value = "****";
delform.submit();
}
}
function requesttodelete1(delform, comkey) {
var passwd = prompt("请输入一个密码!:", "");
if(!(passwd == "" || passwd == null)) {
delform.delkey.value = comkey;
delform.delpasswd.value = passwd;
delform.submit();
}
}
//-->
</script>
<form method="post" action="Drawing_%E7%BB%98%E5%9B%BE#pagecomment1" name="delform1"/>
<input type="hidden" name="action" value="show"/>
<input type="hidden" value="****" name="delpasswd"/>
<input type="hidden" value="" name="delkey"/>
<input type="hidden" value="delcomment1" name="commentaction"/>


</tbody></table>
</div> <span id="line-417" class="anchor"/><span id="bottom" class="anchor"/></div>
