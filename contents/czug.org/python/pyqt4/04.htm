<div lang="en" id="content" dir="ltr"><span id="top" class="anchor"/>
<span id="line-4" class="anchor"/><p class="line867"><strong> 含有章节索引的中文 文章模板 </strong> <span id="line-5" class="anchor"/><span id="line-6" class="anchor"/></p><p class="line862">::-- <a href="/moin/zhuyj">zhuyj</a> [2008-06-06 07:36:43] </p><div class="table-of-contents"><p class="table-of-contents-heading">目录</p><ol><li><a href="#head-1f4d508e92fd830eaf74eeede8bdb5e249565939">Layout management in PyQt4</a><ol><li><a href="#head-79c125b8d862e4bfbea732daf2f442bdb9a0ec3c">layout classes 布局类化</a></li><li><a href="#head-17e481740415598d0e1592cb7813c7c733449ad2">Box Layout</a></li><li><a href="#head-4b88d9c4cd30b04c09ae4bc3b0c8ca320eba91c6">QGridLayout</a></li></ol></li><li><a href="#head-05e267ea77a1b729f87a475d3283220b85d2fe77">交流</a></li></ol></div> <span
id="line-7" class="anchor"/><span id="line-8" class="anchor"/><p class="line867">
</p><h1 id="head-1f4d508e92fd830eaf74eeede8bdb5e249565939">1. Layout management in PyQt4</h1>
<span id="line-9" class="anchor"/><p class="line867"><em> Important thing in programming is the layout management. Layout management is the way how we place the widgets on the window. The management can be done in two ways. We can use absolute positioning or layout classes.</em> <span id="line-10" class="anchor"/><span id="line-11" class="anchor"/></p><ul><li style="list-style-type: none;">程序设计中重要的事情是层管理。层管理是我们在窗口上放置控件的方法。这种放开可以通过两种方式来完成，我们可以利用absolute positioning绝对位置 或 <span id="line-12" class="anchor"/></li></ul><p class="line867">
</p><h2 id="head-79c125b8d862e4bfbea732daf2f442bdb9a0ec3c">1.1. layout classes 布局类化</h2>
<span id="line-13" class="anchor"/><p class="line867"><strong>Absolute positioning绝对位置</strong> <em> The programmer specifies the position and the size of each widget in pixels. When you use absolute positioning, you have to understand several things. </em> <span id="line-14" class="anchor"/><span id="line-15" class="anchor"/></p><ul><li style="list-style-type: none;">程序员指定每个控件的位置和尺寸精确到像素。当你使用绝对位置时，你必须理解以下几件事情。 <span id="line-16" class="anchor"/></li></ul><p class="line867"><em>the size and the position of a widget do not change, if you resize a window</em> <span id="line-17" class="anchor"/><span id="line-18" class="anchor"/></p><ul><li style="list-style-type: none;">当你改变一个窗口的尺寸时，控件的位置和尺寸不会改变 <span
id="line-19" class="anchor"/></li></ul><p class="line867"><em>applications might look different on various platforms</em> <span id="line-20" class="anchor"/><span id="line-21" class="anchor"/></p><ul><li style="list-style-type: none;">在不同的平台上应用程序看起来有很大的区别 <span id="line-22" class="anchor"/></li></ul><p class="line867"><em>changing fonts in your application might spoil the layout</em> <span id="line-23" class="anchor"/><span id="line-24" class="anchor"/></p><ul><li style="list-style-type: none;">改变应用程序的字体可能会破坏布局 <span id="line-25" class="anchor"/></li></ul><p class="line867"><em>if you decide to change your layout, you must completely redo your layout, which is tedious and time consuming</em> <span id="line-26" class="anchor"/><span
id="line-27" class="anchor"/></p><ul><li style="list-style-type: none;">当你决定改变布局时，你必须完全重设计你的布局，这是烦闷并且浪费时间的 <span id="line-28" class="anchor"/></li></ul><p class="line867"><span id="line-29" class="anchor"/><span id="line-30" class="anchor"/><span id="line-31" class="anchor"/><span id="line-32" class="anchor"/><span id="line-33" class="anchor"/><span id="line-34" class="anchor"/><span id="line-35" class="anchor"/><span id="line-36" class="anchor"/><span id="line-37" class="anchor"/><span id="line-38" class="anchor"/><span id="line-39" class="anchor"/><span id="line-40" class="anchor"/><span id="line-41" class="anchor"/><span id="line-42" class="anchor"/><span id="line-43" class="anchor"/><span id="line-44" class="anchor"/><span id="line-45"
class="anchor"/><span id="line-46" class="anchor"/><span id="line-47" class="anchor"/><span id="line-48" class="anchor"/><span id="line-49" class="anchor"/><span id="line-50" class="anchor"/><span id="line-51" class="anchor"/><span id="line-52" class="anchor"/><span id="line-53" class="anchor"/><span id="line-54" class="anchor"/><span id="line-55" class="anchor"/><span id="line-56" class="anchor"/><span id="line-57" class="anchor"/><span id="line-58" class="anchor"/><span id="line-59" class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
function isnumbered(obj) {
return obj.childNodes.length && obj.firstChild.childNodes.length && obj.firstChild.firstChild.className == 'LineNumber';
}
function nformat(num,chrs,add) {
var nlen = Math.max(0,chrs-(''+num).length), res = '';
while (nlen>0) { res += ' '; nlen-- }
return res+num+add;
}
function addnumber(did, nstart, nstep) {
var c = document.getElementById(did), l = c.firstChild, n = 1;
if (!isnumbered(c))
if (typeof nstart == 'undefined') nstart = 1;
if (typeof nstep  == 'undefined') nstep = 1;
n = nstart;
while (l != null) {
if (l.tagName == 'SPAN') {
var s = document.createElement('SPAN');
s.className = 'LineNumber'
s.appendChild(document.createTextNode(nformat(n,4,' ')));
n += nstep;
if (l.childNodes.length)
l.insertBefore(s, l.firstChild)
else
l.appendChild(s)
}
l = l.nextSibling;
}
return false;
}
function remnumber(did) {
var c = document.getElementById(did), l = c.firstChild;
if (isnumbered(c))
while (l != null) {
if (l.tagName == 'SPAN' && l.firstChild.className == 'LineNumber') l.removeChild(l.firstChild);
l = l.nextSibling;
}
return false;
}
function togglenumber(did, nstart, nstep) {
var c = document.getElementById(did);
if (isnumbered(c)) {
remnumber(did);
} else {
addnumber(did,nstart,nstep);
}
return false;
}
</script>

<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-9a73cbdb6f31d36a912e211055b76035bc1e807d_000\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-9a73cbdb6f31d36a912e211055b76035bc1e807d_000', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-9a73cbdb6f31d36a912e211055b76035bc1e807d_000" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="Comment">#!/usr/bin/python</span></span>
<span class="line"><span class="LineNumber">   2 </span><span class="Comment"/><span class="Comment"># absolute.py</span></span>
<span class="line"><span class="LineNumber">   3 </span><span class="Comment"/><span class="ResWord">import</span> <span class="ID">sys</span></span>
<span class="line"><span class="LineNumber">   4 </span><span class="ResWord">from</span> <span class="ID">PyQt4</span> <span class="ResWord">import</span> <span class="ID">QtGui</span></span>
<span class="line"><span class="LineNumber">   5 </span><span class="ResWord">class</span> <span class="ID">Absolute</span><span class="Operator">(</span><span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QWidget</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   6 </span>    <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">parent</span><span class="Operator">=</span><span class="ID">None</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   7 </span>        <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QWidget</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">parent</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   8 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">setWindowTitle</span><span class="Operator">(</span><span class="String">'Communication'</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   9 </span>        <span class="ID">label</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QLabel</span><span class="Operator">(</span><span class="String">'Couldn\'t'</span><span class="Operator">,</span> <span class="ID">self</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  10 </span>        <span class="ID">label</span><span class="Operator">.</span><span class="ID">move</span><span class="Operator">(</span><span class="Number">15</span><span class="Operator">,</span> <span class="Number">10</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  11 </span>        <span class="ID">label</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QLabel</span><span class="Operator">(</span><span class="String">'care'</span><span class="Operator">,</span> <span class="ID">self</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  12 </span>        <span class="ID">label</span><span class="Operator">.</span><span class="ID">move</span><span class="Operator">(</span><span class="Number">35</span><span class="Operator">,</span> <span class="Number">40</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  13 </span>        <span class="ID">label</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QLabel</span><span class="Operator">(</span><span class="String">'less'</span><span class="Operator">,</span> <span class="ID">self</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  14 </span>        <span class="ID">label</span><span class="Operator">.</span><span class="ID">move</span><span class="Operator">(</span><span class="Number">55</span><span class="Operator">,</span> <span class="Number">65</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  15 </span>        <span class="ID">label</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QLabel</span><span class="Operator">(</span><span class="String">'And'</span><span class="Operator">,</span> <span class="ID">self</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  16 </span>        <span class="ID">label</span><span class="Operator">.</span><span class="ID">move</span><span class="Operator">(</span><span class="Number">115</span><span class="Operator">,</span> <span class="Number">65</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  17 </span>        <span class="ID">label</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QLabel</span><span class="Operator">(</span><span class="String">'then'</span><span class="Operator">,</span> <span class="ID">self</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  18 </span>        <span class="ID">label</span><span class="Operator">.</span><span class="ID">move</span><span class="Operator">(</span><span class="Number">135</span><span class="Operator">,</span> <span class="Number">45</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  19 </span>        <span class="ID">label</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QLabel</span><span class="Operator">(</span><span class="String">'you'</span><span class="Operator">,</span> <span class="ID">self</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  20 </span>        <span class="ID">label</span><span class="Operator">.</span><span class="ID">move</span><span class="Operator">(</span><span class="Number">115</span><span class="Operator">,</span> <span class="Number">25</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  21 </span>        <span class="ID">label</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QLabel</span><span class="Operator">(</span><span class="String">'kissed'</span><span class="Operator">,</span> <span class="ID">self</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  22 </span>        <span class="ID">label</span><span class="Operator">.</span><span class="ID">move</span><span class="Operator">(</span><span class="Number">145</span><span class="Operator">,</span> <span class="Number">10</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  23 </span>        <span class="ID">label</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QLabel</span><span class="Operator">(</span><span class="String">'me'</span><span class="Operator">,</span> <span class="ID">self</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  24 </span>        <span class="ID">label</span><span class="Operator">.</span><span class="ID">move</span><span class="Operator">(</span><span class="Number">215</span><span class="Operator">,</span> <span class="Number">10</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  25 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">resize</span><span class="Operator">(</span><span class="Number">250</span><span class="Operator">,</span> <span class="Number">150</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  26 </span><span class="ID">app</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QApplication</span><span class="Operator">(</span><span class="ID">sys</span><span class="Operator">.</span><span class="ID">argv</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  27 </span><span class="ID">qb</span> <span class="Operator">=</span> <span class="ID">Absolute</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  28 </span><span class="ID">qb</span><span class="Operator">.</span><span class="ID">show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  29 </span><span class="ID">sys</span><span class="Operator">.</span><span class="ID">exit</span><span class="Operator">(</span><span class="ID">app</span><span class="Operator">.</span><span class="ID">exec_</span><span class="Operator">(</span><span class="Operator">)</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-60" class="anchor"/><p class="line867"><em> We simply call the move() method to position our widgets. In our case QLabel-s. We position them by providing the x and the y coordinates. The beginning of the coordinate system is at the left top corner. The x values grow from left to right. The y values grow from top to bottom.</em> <span id="line-61" class="anchor"/><span id="line-62" class="anchor"/></p><ul><li style="list-style-type:
none;">我们简单的调用move()方法来定位我们的控件。在QLabel-s框架下，我们通过指定x和y坐标来布置他们。坐标系统的开始点位于左上角，x值从左到右增长，y坐标值从上到下增长。  absolute <span id="line-63" class="anchor"/></li></ul><p class="line867"><img title="attachment:absolute.jpg" src="/moin/Layout_Management_%E5%B1%82%E7%AE%A1%E7%90%86?action=AttachFile&amp;do=get&amp;target=absolute.jpg" class="attachment"/> Figure: absolute positioning <span id="line-64" class="anchor"/><span id="line-65" class="anchor"/></p><p class="line867">
</p><h2 id="head-17e481740415598d0e1592cb7813c7c733449ad2">1.2. Box Layout</h2>
<span id="line-66" class="anchor"/><p class="line867"><strong>盒子布局</strong> <em>Layout management with layout classes is much more flexible and practical. It is the preferred way to place widgets on a window. The basic layout classes are QHBoxLayout<QVBoxLayout. They line up widgets horizontally and vertically. </em> <span id="line-67" class="anchor"/><span id="line-68" class="anchor"/></p><ul><li style="list-style-type: none;">利用布局类来进行布局管理是非常灵活和现实的,是在窗口中放置组件的首选方案。最基本的布局类是QHBoxLayout，可以水平或垂直的排列组件。 <span id="line-69"
class="anchor"/></li></ul><p class="line867"><em> Imagine that we wanted to place two buttons in the right bottom corner. To create such a layout, we will use one horizontal and one vertical box. To create the neccessary space, we will add a stretch factor.</em> <span id="line-70" class="anchor"/><span id="line-71" class="anchor"/></p><ul><li style="list-style-type: none;">假设我们要在右下角放置两个按钮，要实现这样一个布局，我们需要使用一个horizontal水平的和一个vertical垂直的盒子。为了创建必须的空间，我们需要增加一个stretch factor。 <span id="line-72" class="anchor"/></li></ul><p class="line867"><span
id="line-73" class="anchor"/><span id="line-74" class="anchor"/><span id="line-75" class="anchor"/><span id="line-76" class="anchor"/><span id="line-77" class="anchor"/><span id="line-78" class="anchor"/><span id="line-79" class="anchor"/><span id="line-80" class="anchor"/><span id="line-81" class="anchor"/><span id="line-82" class="anchor"/><span id="line-83" class="anchor"/><span id="line-84" class="anchor"/><span id="line-85" class="anchor"/><span id="line-86" class="anchor"/><span id="line-87" class="anchor"/><span id="line-88" class="anchor"/><span id="line-89" class="anchor"/><span id="line-90"
class="anchor"/><span id="line-91" class="anchor"/><span id="line-92" class="anchor"/><span id="line-93" class="anchor"/><span id="line-94" class="anchor"/><span id="line-95" class="anchor"/><span id="line-96" class="anchor"/><span id="line-97" class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-071861ff2cd90a13cfabfb40ab1fa43d86299d25_001\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-071861ff2cd90a13cfabfb40ab1fa43d86299d25_001', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-071861ff2cd90a13cfabfb40ab1fa43d86299d25_001" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="Comment">#!/usr/bin/python</span></span>
<span class="line"><span class="LineNumber">   2 </span><span class="Comment"/><span class="Comment"># boxlayout.py</span></span>
<span class="line"><span class="LineNumber">   3 </span><span class="Comment"/><span class="ResWord">import</span> <span class="ID">sys</span></span>
<span class="line"><span class="LineNumber">   4 </span><span class="ResWord">from</span> <span class="ID">PyQt4</span> <span class="ResWord">import</span> <span class="ID">QtGui</span></span>
<span class="line"><span class="LineNumber">   5 </span><span class="ResWord">class</span> <span class="ID">BoxLayout</span><span class="Operator">(</span><span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QWidget</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   6 </span>    <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">parent</span><span class="Operator">=</span><span class="ID">None</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   7 </span>        <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QWidget</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">parent</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   8 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">setWindowTitle</span><span class="Operator">(</span><span class="String">'box layout'</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   9 </span>        <span class="ID">ok</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QPushButton</span><span class="Operator">(</span><span class="String">"OK"</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  10 </span>        <span class="ID">cancel</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QPushButton</span><span class="Operator">(</span><span class="String">"Cancel"</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  11 </span>        <span class="ID">hbox</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QHBoxLayout</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  12 </span>        <span class="ID">hbox</span><span class="Operator">.</span><span class="ID">addStretch</span><span class="Operator">(</span><span class="Number">1</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  13 </span>        <span class="ID">hbox</span><span class="Operator">.</span><span class="ID">addWidget</span><span class="Operator">(</span><span class="ID">ok</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  14 </span>        <span class="ID">hbox</span><span class="Operator">.</span><span class="ID">addWidget</span><span class="Operator">(</span><span class="ID">cancel</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  15 </span>        <span class="ID">vbox</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QVBoxLayout</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  16 </span>        <span class="ID">vbox</span><span class="Operator">.</span><span class="ID">addStretch</span><span class="Operator">(</span><span class="Number">1</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  17 </span>        <span class="ID">vbox</span><span class="Operator">.</span><span class="ID">addLayout</span><span class="Operator">(</span><span class="ID">hbox</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  18 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">setLayout</span><span class="Operator">(</span><span class="ID">vbox</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  19 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">resize</span><span class="Operator">(</span><span class="Number">300</span><span class="Operator">,</span> <span class="Number">150</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  20 </span><span class="ID">app</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QApplication</span><span class="Operator">(</span><span class="ID">sys</span><span class="Operator">.</span><span class="ID">argv</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  21 </span><span class="ID">qb</span> <span class="Operator">=</span> <span class="ID">BoxLayout</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  22 </span><span class="ID">qb</span><span class="Operator">.</span><span class="ID">show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  23 </span><span class="ID">sys</span><span class="Operator">.</span><span class="ID">exit</span><span class="Operator">(</span><span class="ID">app</span><span class="Operator">.</span><span class="ID">exec_</span><span class="Operator">(</span><span class="Operator">)</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-98" class="anchor"/><p class="line867"><span id="line-99" class="anchor"/></p><pre> ok = QtGui.QPushButton("OK")
<span id="line-100" class="anchor"/> cancel = QtGui.QPushButton("Cancel")
<span id="line-101" class="anchor"/></pre><span id="line-102" class="anchor"/><p class="line867"><em> Here we create two push buttons.</em> <span id="line-103" class="anchor"/><span id="line-104" class="anchor"/></p><ul><li style="list-style-type: none;">这里我们创建两个按钮。 <span id="line-105" class="anchor"/></li></ul><p class="line867"><span id="line-106" class="anchor"/></p><pre> hbox = QtGui.QHBoxLayout()
<span id="line-107" class="anchor"/> hbox.addStretch(1)
<span id="line-108" class="anchor"/> hbox.addWidget(ok)
<span id="line-109" class="anchor"/> hbox.addWidget(cancel)
<span id="line-110" class="anchor"/></pre><span id="line-111" class="anchor"/><p class="line867"><em> We create a horizontal box layout. Add a stretch factor and both buttons. </em> <span id="line-112" class="anchor"/><span id="line-113" class="anchor"/></p><ul><li style="list-style-type: none;">我们创建一个水平容器布局，增加一个stretch factor和那两个按钮。 <span id="line-114" class="anchor"/></li></ul><p class="line867"><span id="line-115" class="anchor"/></p><pre> vbox = QtGui.QVBoxLayout()
<span id="line-116" class="anchor"/> vbox.addStretch(1)
<span id="line-117" class="anchor"/> vbox.addLayout(hbox)
<span id="line-118" class="anchor"/></pre><span id="line-119" class="anchor"/><p class="line867"><em> To create the necessary layout, we put a horizontal lauout into a vertical one.</em> <span id="line-120" class="anchor"/><span id="line-121" class="anchor"/></p><ul><li style="list-style-type: none;">为了实现需要的布局，我们将水平容器放置到垂直容器里面去。 <span id="line-122" class="anchor"/></li></ul><p class="line867"><span id="line-123" class="anchor"/></p><pre> self.setLayout(vbox)
<span id="line-124" class="anchor"/></pre><span id="line-125" class="anchor"/><p class="line867"><em> Finally, we set the main layout of the window. </em> <span id="line-126" class="anchor"/><span id="line-127" class="anchor"/></p><ul><li style="list-style-type: none;">最后我们设置主窗口的布局。  box layout <span id="line-128" class="anchor"/></li></ul><p class="line867"><img title="attachment:boxlayout.jpg" src="/moin/Layout_Management_%E5%B1%82%E7%AE%A1%E7%90%86?action=AttachFile&amp;do=get&amp;target=boxlayout.jpg" class="attachment"/> Figure: box layout <span id="line-129"
class="anchor"/><span id="line-130" class="anchor"/></p><p class="line867">
</p><h2 id="head-4b88d9c4cd30b04c09ae4bc3b0c8ca320eba91c6">1.3. QGridLayout</h2>
<span id="line-131" class="anchor"/><p class="line867"><em> The most universal layout class is the grid layout. This layout divides the space into rows and columns. To create a grid layout, we use the QGridLayout class. </em> <span id="line-132" class="anchor"/><span id="line-133" class="anchor"/></p><ul><li style="list-style-type: none;">最常用的布局类是栅格布局。这种布局将空间分为行和列，为了创建一个栅格布局，我们使用QGridLayout类。 <span id="line-134" class="anchor"/></li></ul><p class="line867"><span id="line-135" class="anchor"/><span id="line-136" class="anchor"/><span
id="line-137" class="anchor"/><span id="line-138" class="anchor"/><span id="line-139" class="anchor"/><span id="line-140" class="anchor"/><span id="line-141" class="anchor"/><span id="line-142" class="anchor"/><span id="line-143" class="anchor"/><span id="line-144" class="anchor"/><span id="line-145" class="anchor"/><span id="line-146" class="anchor"/><span id="line-147" class="anchor"/><span id="line-148" class="anchor"/><span id="line-149" class="anchor"/><span id="line-150" class="anchor"/><span id="line-151" class="anchor"/><span id="line-152" class="anchor"/><span id="line-153"
class="anchor"/><span id="line-154" class="anchor"/><span id="line-155" class="anchor"/><span id="line-156" class="anchor"/><span id="line-157" class="anchor"/><span id="line-158" class="anchor"/><span id="line-159" class="anchor"/><span id="line-160" class="anchor"/><span id="line-161" class="anchor"/><span id="line-162" class="anchor"/><span id="line-163" class="anchor"/><span id="line-164" class="anchor"/><span id="line-165" class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-aa7e1701894c05f3c96bf20cbaffacc5a523e060_002\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-aa7e1701894c05f3c96bf20cbaffacc5a523e060_002', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-aa7e1701894c05f3c96bf20cbaffacc5a523e060_002" dir="ltr"><span class="line"><span class="LineNumber">   1 </span><span class="Comment">#!/usr/bin/python</span></span>
<span class="line"><span class="LineNumber">   2 </span><span class="Comment"/><span class="Comment"># gridlayout.py</span></span>
<span class="line"><span class="LineNumber">   3 </span><span class="Comment"/><span class="ResWord">import</span> <span class="ID">sys</span></span>
<span class="line"><span class="LineNumber">   4 </span><span class="ResWord">from</span> <span class="ID">PyQt4</span> <span class="ResWord">import</span> <span class="ID">QtGui</span></span>
<span class="line"><span class="LineNumber">   5 </span><span class="ResWord">class</span> <span class="ID">GridLayout</span><span class="Operator">(</span><span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QWidget</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   6 </span>    <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">parent</span><span class="Operator">=</span><span class="ID">None</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   7 </span>        <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QWidget</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">parent</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   8 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">setWindowTitle</span><span class="Operator">(</span><span class="String">'grid layout'</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   9 </span>        <span class="ID">names</span> <span class="Operator">=</span> <span class="Operator">[</span><span class="String">'Cls'</span><span class="Operator">,</span> <span class="String">'Bck'</span><span class="Operator">,</span> <span class="String">''</span><span class="Operator">,</span> <span class="String">'Close'</span><span class="Operator">,</span> <span class="String">'7'</span><span class="Operator">,</span> <span class="String">'8'</span><span class="Operator">,</span> <span
class="String">'9'</span><span class="Operator">,</span> <span class="String">'/'</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  10 </span>            <span class="String">'4'</span><span class="Operator">,</span> <span class="String">'5'</span><span class="Operator">,</span> <span class="String">'6'</span><span class="Operator">,</span> <span class="String">'*'</span><span class="Operator">,</span> <span class="String">'1'</span><span class="Operator">,</span> <span class="String">'2'</span><span class="Operator">,</span> <span class="String">'3'</span><span class="Operator">,</span> <span class="String">'-'</span><span
class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  11 </span>            <span class="String">'0'</span><span class="Operator">,</span> <span class="String">'.'</span><span class="Operator">,</span> <span class="String">'='</span><span class="Operator">,</span> <span class="String">'+'</span><span class="Operator">]</span></span>
<span class="line"><span class="LineNumber">  12 </span>        <span class="ID">grid</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QGridLayout</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  13 </span>        <span class="ID">j</span> <span class="Operator">=</span> <span class="Number">0</span></span>
<span class="line"><span class="LineNumber">  14 </span>        <span class="ID">pos</span> <span class="Operator">=</span> <span class="Operator">[</span><span class="Operator">(</span><span class="Number">0</span><span class="Operator">,</span> <span class="Number">0</span><span class="Operator">)</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">0</span><span class="Operator">,</span> <span class="Number">1</span><span class="Operator">)</span><span class="Operator">,</span> <span class="Operator">(</span><span
class="Number">0</span><span class="Operator">,</span> <span class="Number">2</span><span class="Operator">)</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">0</span><span class="Operator">,</span> <span class="Number">3</span><span class="Operator">)</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  15 </span>                <span class="Operator">(</span><span class="Number">1</span><span class="Operator">,</span> <span class="Number">0</span><span class="Operator">)</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">1</span><span class="Operator">,</span> <span class="Number">1</span><span class="Operator">)</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">1</span><span class="Operator">,</span> <span class="Number">2</span><span
class="Operator">)</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">1</span><span class="Operator">,</span> <span class="Number">3</span><span class="Operator">)</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  16 </span>                <span class="Operator">(</span><span class="Number">2</span><span class="Operator">,</span> <span class="Number">0</span><span class="Operator">)</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">2</span><span class="Operator">,</span> <span class="Number">1</span><span class="Operator">)</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">2</span><span class="Operator">,</span> <span class="Number">2</span><span
class="Operator">)</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">2</span><span class="Operator">,</span> <span class="Number">3</span><span class="Operator">)</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  17 </span>                <span class="Operator">(</span><span class="Number">3</span><span class="Operator">,</span> <span class="Number">0</span><span class="Operator">)</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">3</span><span class="Operator">,</span> <span class="Number">1</span><span class="Operator">)</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">3</span><span class="Operator">,</span> <span class="Number">2</span><span
class="Operator">)</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">3</span><span class="Operator">,</span> <span class="Number">3</span> <span class="Operator">)</span><span class="Operator">,</span></span>
<span class="line"><span class="LineNumber">  18 </span>                <span class="Operator">(</span><span class="Number">4</span><span class="Operator">,</span> <span class="Number">0</span><span class="Operator">)</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">4</span><span class="Operator">,</span> <span class="Number">1</span><span class="Operator">)</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">4</span><span class="Operator">,</span> <span class="Number">2</span><span
class="Operator">)</span><span class="Operator">,</span> <span class="Operator">(</span><span class="Number">4</span><span class="Operator">,</span> <span class="Number">3</span><span class="Operator">)</span><span class="Operator">]</span></span>
<span class="line"><span class="LineNumber">  19 </span>        <span class="ResWord">for</span> <span class="ID">i</span> <span class="ResWord">in</span> <span class="ID">names</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  20 </span>            <span class="ID">button</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QPushButton</span><span class="Operator">(</span><span class="ID">i</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  21 </span>            <span class="ResWord">if</span> <span class="ID">j</span> <span class="Operator">==</span> <span class="Number">2</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  22 </span>                <span class="ID">grid</span><span class="Operator">.</span><span class="ID">addWidget</span><span class="Operator">(</span><span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QLabel</span><span class="Operator">(</span><span class="String">''</span><span class="Operator">)</span><span class="Operator">,</span> <span class="Number">0</span><span class="Operator">,</span> <span class="Number">2</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  23 </span>            <span class="ResWord">else</span><span class="Operator">:</span> <span class="ID">grid</span><span class="Operator">.</span><span class="ID">addWidget</span><span class="Operator">(</span><span class="ID">button</span><span class="Operator">,</span> <span class="ID">pos</span><span class="Operator">[</span><span class="ID">j</span><span class="Operator">]</span><span class="Operator">[</span><span class="Number">0</span><span class="Operator">]</span><span class="Operator">,</span> <span
class="ID">pos</span><span class="Operator">[</span><span class="ID">j</span><span class="Operator">]</span><span class="Operator">[</span><span class="Number">1</span><span class="Operator">]</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  24 </span>            <span class="ID">j</span> <span class="Operator">=</span> <span class="ID">j</span> <span class="Operator">+</span> <span class="Number">1</span></span>
<span class="line"><span class="LineNumber">  25 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">setLayout</span><span class="Operator">(</span><span class="ID">grid</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  26 </span><span class="ID">app</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QApplication</span><span class="Operator">(</span><span class="ID">sys</span><span class="Operator">.</span><span class="ID">argv</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  27 </span><span class="ID">qb</span> <span class="Operator">=</span> <span class="ID">GridLayout</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  28 </span><span class="ID">qb</span><span class="Operator">.</span><span class="ID">show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  29 </span><span class="ID">sys</span><span class="Operator">.</span><span class="ID">exit</span><span class="Operator">(</span><span class="ID">app</span><span class="Operator">.</span><span class="ID">exec_</span><span class="Operator">(</span><span class="Operator">)</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-166" class="anchor"/><p class="line867"><em> In our example, we create a grid of buttons. To fill one gap, we add one QLabel widget. </em> <span id="line-167" class="anchor"/><span id="line-168" class="anchor"/></p><ul><li style="list-style-type: none;">在我们的例子里，我们创建了一个按钮栅格，为了填充空间，我们增加一个QLabel组件。 <span id="line-169" class="anchor"/></li></ul><p class="line867"><span id="line-170" class="anchor"/></p><pre> grid = QtGui.QGridLayout()
<span id="line-171" class="anchor"/></pre><span id="line-172" class="anchor"/><p class="line867"><em> Here we create a grid layout.</em> <span id="line-173" class="anchor"/><span id="line-174" class="anchor"/></p><ul><li style="list-style-type: none;">这里我们创建一个栅格布局。 <span id="line-175" class="anchor"/></li></ul><p class="line867"><span id="line-176" class="anchor"/></p><pre> if j == 2:
<span id="line-177" class="anchor"/>     grid.addWidget(QtGui.QLabel(''), 0, 2)
<span id="line-178" class="anchor"/> else: grid.addWidget(button, pos[j][0], pos[j][1])
<span id="line-179" class="anchor"/></pre><span id="line-180" class="anchor"/><p class="line867"><em> To add a widget to a grid, we call the addWidget() method. The arguments are the widget, the row and the column number.</em> <span id="line-181" class="anchor"/><span id="line-182" class="anchor"/></p><ul><li style="list-style-type: none;">为了将一个组件增加一个栅格，我们调用addWidget()方法，参数是组件，列号和行号。  grid layout <span id="line-183" class="anchor"/></li></ul><p class="line867"><img title="attachment:gridlayout.jpg"
src="/moin/Layout_Management_%E5%B1%82%E7%AE%A1%E7%90%86?action=AttachFile&amp;do=get&amp;target=gridlayout.jpg" class="attachment"/> Figure: grid layout <span id="line-184" class="anchor"/><span id="line-185" class="anchor"/></p><p class="line867"><em> <span id="line-186" class="anchor"/></em> <span id="line-187" class="anchor"/><span id="line-188" class="anchor"/></p><p class="line867"><em> Widgets can span multiple columns or rows in a grid. In the next example we illustrate this. </em> <span id="line-189" class="anchor"/><span id="line-190"
class="anchor"/></p><ul><li style="list-style-type: none;">组件在一个栅格中可以跨越多个行或列，下一个例子里我们会展示这个特性。 <span id="line-191" class="anchor"/></li></ul><p class="line867"><span id="line-192" class="anchor"/><span id="line-193" class="anchor"/><span id="line-194" class="anchor"/><span id="line-195" class="anchor"/><span id="line-196" class="anchor"/><span id="line-197" class="anchor"/><span id="line-198" class="anchor"/><span id="line-199" class="anchor"/><span id="line-200" class="anchor"/><span id="line-201" class="anchor"/><span id="line-202"
class="anchor"/><span id="line-203" class="anchor"/><span id="line-204" class="anchor"/><span id="line-205" class="anchor"/><span id="line-206" class="anchor"/><span id="line-207" class="anchor"/><span id="line-208" class="anchor"/><span id="line-209" class="anchor"/><span id="line-210" class="anchor"/><span id="line-211" class="anchor"/><span id="line-212" class="anchor"/><span id="line-213" class="anchor"/><span id="line-214" class="anchor"/><span id="line-215" class="anchor"/><span id="line-216" class="anchor"/><span id="line-217" class="anchor"/><span id="line-218"
class="anchor"/><span id="line-219" class="anchor"/><span id="line-220" class="anchor"/><span id="line-221" class="anchor"/></p><div lang="en" dir="ltr" class="codearea">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-f4300b44f0e2d61be9e0fd6cc056ce8346811b9a_003\', 1, 1);" \
class="codenumbers">切换行号显示<\/a>');
</script><a class="codenumbers" onclick="return togglenumber('CA-f4300b44f0e2d61be9e0fd6cc056ce8346811b9a_003', 1, 1);" href="#">切换行号显示</a>
<pre lang="en" id="CA-f4300b44f0e2d61be9e0fd6cc056ce8346811b9a_003" dir="ltr"><span class="line"><span class="LineNumber">   1 </span> <span class="Comment">#!/usr/bin/python</span></span>
<span class="line"><span class="LineNumber">   2 </span><span class="Comment"/><span class="Comment"># gridlayout2.py</span></span>
<span class="line"><span class="LineNumber">   3 </span><span class="Comment"/><span class="ResWord">import</span> <span class="ID">sys</span></span>
<span class="line"><span class="LineNumber">   4 </span><span class="ResWord">from</span> <span class="ID">PyQt4</span> <span class="ResWord">import</span> <span class="ID">QtGui</span></span>
<span class="line"><span class="LineNumber">   5 </span><span class="ResWord">class</span> <span class="ID">GridLayout2</span><span class="Operator">(</span><span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QWidget</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   6 </span>    <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">parent</span><span class="Operator">=</span><span class="ID">None</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   7 </span>        <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QWidget</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">parent</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   8 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">setWindowTitle</span><span class="Operator">(</span><span class="String">'grid layout'</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   9 </span>        <span class="ID">title</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QLabel</span><span class="Operator">(</span><span class="String">'Title'</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  10 </span>        <span class="ID">author</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QLabel</span><span class="Operator">(</span><span class="String">'Author'</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  11 </span>        <span class="ID">review</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QLabel</span><span class="Operator">(</span><span class="String">'Review'</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  12 </span>        <span class="ID">titleEdit</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QLineEdit</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  13 </span>        <span class="ID">authorEdit</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QLineEdit</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  14 </span>        <span class="ID">reviewEdit</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QTextEdit</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  15 </span>        <span class="ID">grid</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QGridLayout</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  16 </span>        <span class="ID">grid</span><span class="Operator">.</span><span class="ID">setSpacing</span><span class="Operator">(</span><span class="Number">10</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  17 </span>        <span class="ID">grid</span><span class="Operator">.</span><span class="ID">addWidget</span><span class="Operator">(</span><span class="ID">title</span><span class="Operator">,</span> <span class="Number">1</span><span class="Operator">,</span> <span class="Number">0</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  18 </span>        <span class="ID">grid</span><span class="Operator">.</span><span class="ID">addWidget</span><span class="Operator">(</span><span class="ID">titleEdit</span><span class="Operator">,</span> <span class="Number">1</span><span class="Operator">,</span> <span class="Number">1</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  19 </span>        <span class="ID">grid</span><span class="Operator">.</span><span class="ID">addWidget</span><span class="Operator">(</span><span class="ID">author</span><span class="Operator">,</span> <span class="Number">2</span><span class="Operator">,</span> <span class="Number">0</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  20 </span>        <span class="ID">grid</span><span class="Operator">.</span><span class="ID">addWidget</span><span class="Operator">(</span><span class="ID">authorEdit</span><span class="Operator">,</span> <span class="Number">2</span><span class="Operator">,</span> <span class="Number">1</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  21 </span>        <span class="ID">grid</span><span class="Operator">.</span><span class="ID">addWidget</span><span class="Operator">(</span><span class="ID">review</span><span class="Operator">,</span> <span class="Number">3</span><span class="Operator">,</span> <span class="Number">0</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  22 </span>        <span class="ID">grid</span><span class="Operator">.</span><span class="ID">addWidget</span><span class="Operator">(</span><span class="ID">reviewEdit</span><span class="Operator">,</span> <span class="Number">3</span><span class="Operator">,</span> <span class="Number">1</span><span class="Operator">,</span> <span class="Number">5</span><span class="Operator">,</span> <span class="Number">1</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  23 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">setLayout</span><span class="Operator">(</span><span class="ID">grid</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  24 </span>        <span class="ID">self</span><span class="Operator">.</span><span class="ID">resize</span><span class="Operator">(</span><span class="Number">350</span><span class="Operator">,</span> <span class="Number">300</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  25 </span><span class="ID">app</span> <span class="Operator">=</span> <span class="ID">QtGui</span><span class="Operator">.</span><span class="ID">QApplication</span><span class="Operator">(</span><span class="ID">sys</span><span class="Operator">.</span><span class="ID">argv</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  26 </span><span class="ID">qb</span> <span class="Operator">=</span> <span class="ID">GridLayout2</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  27 </span><span class="ID">qb</span><span class="Operator">.</span><span class="ID">show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  28 </span><span class="ID">sys</span><span class="Operator">.</span><span class="ID">exit</span><span class="Operator">(</span><span class="ID">app</span><span class="Operator">.</span><span class="ID">exec_</span><span class="Operator">(</span><span class="Operator">)</span><span class="Operator">)</span><span class="Text"/></span>
</pre></div><span id="line-222" class="anchor"/><p class="line867"><span id="line-223" class="anchor"/></p><pre> grid = QtGui.QGridLayout()
<span id="line-224" class="anchor"/> grid.setSpacing(10)
<span id="line-225" class="anchor"/></pre><span id="line-226" class="anchor"/><p class="line867"><em> We create a grid layout and set spacing between widgets. </em> <span id="line-227" class="anchor"/><span id="line-228" class="anchor"/></p><ul><li style="list-style-type: none;">我们创建一个栅格布局并且设置组件间的间距。 <span id="line-229" class="anchor"/></li></ul><p class="line867"><span id="line-230" class="anchor"/></p><pre> grid.addWidget(reviewEdit, 3, 1, 5, 1)
<span id="line-231" class="anchor"/></pre><span id="line-232" class="anchor"/><p class="line867"><em> If we add a widget to a grid, we can provide row span and column span of the widget. In our case, we make the reviewEdit widget span 5 rows.</em> <span id="line-233" class="anchor"/><span id="line-234" class="anchor"/></p><ul><li style="list-style-type: none;">如果我们将一个组件加入到栅格，我们可以提供组件的行跨度和列跨度。这个例子里，我们设置reviewEdit组件跨5行。  grid layout2 <span id="line-235" class="anchor"/></li></ul><p class="line867"><img
title="attachment:gridlayout2.jpg" src="/moin/Layout_Management_%E5%B1%82%E7%AE%A1%E7%90%86?action=AttachFile&amp;do=get&amp;target=gridlayout2.jpg" class="attachment"/> Figure: grid layout2 <span id="line-236" class="anchor"/><span id="line-237" class="anchor"/></p><p class="line867">
</p><h1 id="head-05e267ea77a1b729f87a475d3283220b85d2fe77">2. 交流</h1>
<span id="line-238" class="anchor"/><p class="line867"/><div id="pagecomment">
<a name="pagecomment1"/>
<table border="0" class="pagecomment">
<tbody><tr><td colspan="5" style="border-width: 1px; margin: 10px 0pt;">

<script language="javascript">
<!--
function setCookie(name, value) {
var today = new Date();
var expire = new Date(today.getTime() + 60*60*24*365*1000);
document.cookie = name + "=" + encodeURIComponent(value) + "; expires=" + expire.toGMTString() + "; path=/moin";
}
//-->
</script>
<form onsubmit="setCookie('PG2AUTHOR', this.comauthor.value);" method="post" name="comment" action="Layout_Management_%E5%B1%82%E7%AE%A1%E7%90%86#pagecomment1">
<table class="addcommentform">
<tbody><tr>
<td style="border-width: 0px; vertical-align: middle; font-size: 0.9em;"><textarea onblur="if (this.value=='') {this.value='Add your comment';};" onfocus="if (this.value=='Add your comment') {this.value='';};" style="font-size: 9pt;" cols="60" rows="4" name="comtext">Add your comment</textarea></td>
<td style="border-width: 0px; font-size: 0.9em; vertical-align: bottom;"><input type="submit" style="font-size: 9pt; width: 6em; height: 3em;" value="保存" name="button_save"/></td>
</tr>
<tr><td style="border-width: 0px; vertical-align: middle; font-size: 0.9em;">
Name<input type="text" onblur="if (this.value=='') {this.value='58';};" onfocus="if (this.value=='58') {this.value='';};" value="58" name="comauthor" maxlength="20" size="6" style="font-size: 9pt;"/>
Password4deL<input type="password" onblur="if (this.value=='') {this.value='bot6';};" onfocus="if (this.value=='bot6') {this.value='';};" value="bot6" name="compasswd" maxlength="10" size="4" style="font-size: 9pt;"/>
<input type="hidden" name="autopasswd" value="bot6"/>
<input type="radio" value=";)" name="comicon"/><img width="15" height="15" title=";)" src="/htdocs/woodpecker/img/smile4.png" alt=";)"/>
<input type="radio" value="=D" name="comicon"/>
<input type="radio" value="=)" name="comicon"/>
<input type="radio" value=":P" name="comicon"/>
<input type="radio" value=":(|)" name="comicon"/>
<input type="radio" value=":-|" name="comicon"/>
<input type="radio" value=":(" name="comicon"/><img width="15" height="15" title=":(" src="/htdocs/woodpecker/img/sad.png" alt=":("/>
<input type="radio" value="X-(" name="comicon"/><img width="15" height="15" title="X-(" src="/htdocs/woodpecker/img/angry.png" alt="X-("/>
<input type="radio" value="B-)" name="comicon"/><img width="15" height="15" title="B-)" src="/htdocs/woodpecker/img/smile2.png" alt="B-)"/>

</td>
<td style="border-width: 0px; vertical-align: middle; text-align: right; font-size: 9pt;"/>
</tr>
</tbody></table>
<input type="hidden" value="show" name="action"/>
<input type="hidden" value="0" name="comrev"/>
<input type="hidden" value="addcomment1" name="commentaction"/>
</form>
</td></tr>
<tr><td style="border-width: 0px; height: 20px;" class="commentblankline" colspan="5"/></tr>
<script language="javascript">
<!--
function requesttodeleteadmin1(delform, comkey) {
if (confirm("Really delete this comment?")) {;
delform.delkey.value = comkey;
delform.delpasswd.value = "****";
delform.submit();
}
}
function requesttodelete1(delform, comkey) {
var passwd = prompt("请输入一个密码!:", "");
if(!(passwd == "" || passwd == null)) {
delform.delkey.value = comkey;
delform.delpasswd.value = passwd;
delform.submit();
}
}
//-->
</script>
<form method="post" action="Layout_Management_%E5%B1%82%E7%AE%A1%E7%90%86#pagecomment1" name="delform1"/>
<input type="hidden" name="action" value="show"/>
<input type="hidden" value="****" name="delpasswd"/>
<input type="hidden" value="" name="delkey"/>
<input type="hidden" value="delcomment1" name="commentaction"/>


</tbody></table>
</div> <span id="line-239" class="anchor"/><span id="bottom" class="anchor"/></div>
