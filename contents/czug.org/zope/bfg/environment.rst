---
created: ''
creator: ''
description: 设置，实例。。。
title: 环境和配置
---
=================
环境和配置
=================

设置，实例。。。

.. include:: include.rst
.. _environment_chapter:

:翻译: zoomq
:校核: 潘俊勇


环境和配置
=============================

`repoze.bfg` 的行为,可以通过一组系统环境变量和 ``.ini`` 配置文件来进行定制.
这意味着系统环境变量和配置文件是重叠的.

.. note:: 当配置文件和系统环境变量有重名配置项时,系统运行时解析,系统环境变量优先.

"配置文件设置名" 是指 ``.ini`` 中对应用声明的配置项.  
本章介绍的配置项是 `repoze.bfg` 所保留的.  
你不能用作应用专有的设置.

+---------------------------------+-----------------------------+----------------------------------------+
| 环境变量名                      | 配置文件名                  |       详细信息                         |
+=================================+=============================+========================================+
| ``BFG_RELOAD_TEMPLATES``        |  ``reload_templates``       |  为true 时                             |
|                                 |                             |  自动重载模板                          |
|                                 |                             |  参考:                                 |
|                                 |                             |  `reload_templates_section`            |
+---------------------------------+-----------------------------+----------------------------------------+
| ``BFG_DEBUG_AUTHORIZATION``     |  ``debug_authorization``    |  为true 时,在标准错误管道输出          |
|                                 |                             |  输出认证的成败信息                    |
|                                 |                             |  参考:                                 |
|                                 |                             |  `debug_authorization_section`         | 
+---------------------------------+-----------------------------+----------------------------------------+
| ``BFG_DEBUG_NOTFOUND``          |  ``debug_notfound``         |  为true 时,在标准错误管道输出          |
|                                 |                             |  视图相关 未找到 调试信息              |
|                                 |                             |  参考:                                 |
|                                 |                             |  `debug_notfound_section`              |
+---------------------------------+-----------------------------+----------------------------------------+
| ``BFG_DEBUG_ALL``               |  ``debug_all``              |  打开所有调试开关                      |
+---------------------------------+-----------------------------+----------------------------------------+
| ``BFG_UNICODE_PATH_SEGMENTS``   |  ``unicode_path_segments``  |  默认为 ``true`` . 是 ``true`` 时,     |
|                                 |                             |  URL路径参将以 ``unicode`` 而非 ``str``|
|                                 |                             |  类型通过BFG模块                       |
|                                 |                             |  传送给对象的 ``__getitem__`` 方法;    |
|                                 |                             |  为 ``false`` 时, 将使用 UTF8 编码传送 |
+---------------------------------+-----------------------------+----------------------------------------+

实例
--------

若配置文件名是 ``MyProject.ini``, 可以这样声明你应用的名称 ``[app:main]``
前述列表中的各种配置项就可以在此节中根据需要声明了,这儿有个实例::

  [app:main]
  use = egg:MyProject#app
  reload_templates = true
  debug_authorization = true

你可以使用系统环境变量来进行同样的配置声明. 
例如你可以在命令行中这样启动 `repoze.bfg` 应用::

  BFG_DEBUG_AUTHORIZATION=1 BFG_RELOAD_TEMPLATES=1 bin/paster serve MyProject.ini

如果你这样启动，你的 `repoze.bfg` 应用将和你在  ``.ini`` 文件中 ``[app:main]`` 节声明相同的方式运行.

如果你想打开所有 ``调试`` 开关(所有调试配置项都以 ``debug_`` 开头). 
可以在系统环境变量中使用 ``BFG_DEBUG_ALL=1`` .
也可以在配置文件中使用 ``debug_all=true`` .
注意, 如果配置项不是 ``debug_*`` 起头的将在在此控制范畴, 例如 ``reload_templates``.

